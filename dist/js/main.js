define("collections/articles",["jquery","underscore","backbone","models/article"],function(e,c,n,o){"use strict";var r=n.Collection.extend({model:o});return r});
define("collections/timeline",["jquery","underscore","backbone","models/timeline/item"],function(e,n,i,t){"use strict";var o=i.Collection.extend({model:t});return o});
define("controllers/issue",["jquery","underscore","backbone","controllers/prototype","mixins/asyncInit","views/issue","models/issue"],function(e,n,i,o,r,t,l){"use strict";var c=o.extend({model:null,view:null,router:null,initialize:function(i){var o=this;o.$def=e.Deferred(),o.router=i.router,o.model=new l({config:i.config}),o.view=new t({model:o.model,config:i.config}),o.view.render(),o.model.init().done(function(){n.forEach(o.model.get("collection").models,function(e){o.listenTo(e,"active",function(e){var n="article/"+e.get("articleid");o.router.navigate(n,{trigger:!0}),o.view.renderArticle(e)})}),o.$def.resolve(o)}).always(function(){o.$def.reject()})}});return n.extend(c.prototype,r),c});
define("controllers/map",["jquery","underscore","backbone","controllers/prototype","models/map","views/map","mixins/asyncInit","controllers/map/pan","controllers/map/layer","controllers/map/timeline"],function(e,r,o,n,i,a,t,p,l,m){"use strict";var u=n.extend({model:null,view:null,issue:null,mapPanController:null,MapLayerController:null,mapTimelineController:null,initialize:function(r){var o=this;o.$def=e.Deferred(),o.router=r.router,o.issue=r.issue,o.model=new i(r),o.view=new a({model:o.model,router:o.router,issue:o.issue}),o.view.init().done(function(){o.mapPanController=new p({map:o.view.map}),o.mapLayerController=new l({views:o.view.markerViews,map:o.view.map,mapconfig:o.model.attributes.mapconfig}),o.mapTimelineController=new m({markerViews:o.view.markerViews,map:o.view.map,siteconfig:o.model.attributes.config}),o._registerTimelineListeners(),o.listenTo(o.view,"markers",function(e){o._registerMarkers(e),o.mapPanController.fitMarkerBounds(o.view.markerViews)}),o.view.render()}),e.when.apply(null,[o.model.init(),o.view.init()]).done(function(){o.$def.resolve(o)})},_registerMarkers:function(e){var o=this;r.forEach(e,function(e){o.listenTo(e.model,"active",function(r){o.mapPopupOpen(e.markerLayer);var n=o._getMarkerLayer(e.markerLayer,"getPopup");null!==n&&o.mapPanController.handlePopupPosition(n.getPopup())}),o.listenTo(e.model,"toggle",function(r){o.mapPopupToggle(e.markerLayer);var n=o._getMarkerLayer(e.markerLayer,"getPopup");null!==n&&o.mapPanController.handlePopupPosition(n.getPopup())}),o.listenTo(e,"click",function(r){o.mapPopupOpen(r),e.model.trigger("active",e.model)}),o.listenTo(e,"mouseover",function(e){o.view.map.hoverPopup&&(openpopup[popupid(mapMarker.getLatLng())]||mapMarker.openPopup())})})},_registerTimelineListeners:function(){var e=this;e.listenTo(e.mapTimelineController,"show",function(o){r.forEach(o,function(r){r.markerLayer?r.render():e.view.map.addLayer(r.markerLayer)})}),e.listenTo(e.mapTimelineController,"hide",function(o){r.forEach(o,function(r){r.markerLayer&&e.view.map.removeLayer(r.markerLayer)})})},_getMarkerLayer:function(e,o){var n,i;if(e instanceof L.LayerGroup){if(o in e)n=e;else for(i=e.getLayers();e=i.pop();)if(o in e){n=e;break}}else r.has(e,"originalEvent")&&(n=e.target);return n},mapPopupOpen:function(e){var r=this._getMarkerLayer(e,"openPopup");r&&r.openPopup()},mapPopupToggle:function(e){var r=this._getMarkerLayer(e,"togglePopup");r&&r.togglePopup()},mapPopupClose:function(e){var r=this._getMarkerLayer(e,"closePopup");r&&r.closePopup()}});return r.extend(u.prototype,t),u});
define("controllers/prototype",["underscore","backbone"],function(e,t){"use strict";var n=function(){this.cid=e.uniqueId("controller"),this.initialize.apply(this,arguments)};return n.extend=t.Router.extend,e.extend(n.prototype,t.Events),e.extend(n.prototype,{initialize:function(){throw new Error("unimplemented initialize()")}}),n});
!function(t,i){"function"==typeof define&&define.amd?define(["leaflet","d3"],i):"object"==typeof exports?module.exports=i:i(t.L)}(this,function(t,i){return t.Control.Timeline?t:(t.Control.Timeline=t.Control.extend({options:{orientation:"left",height:500,width:100,id:"timeline-container",margin:{left:3,right:3,top:10,bottom:10},collapsed:!1,item:{minHeight:1},on:{brushend:function(t){console.log(t)}}},initialize:function(i){t.Util.setOptions(this,i),this._container=t.DomUtil.get(this.options.id)},onRemove:function(){},onAdd:function(t){return this._container},addData:function(t){this._source=t,this._items=t.getItems(),this._addItemsToTimeline()},_addItemsToTimeline:function(){var t=this,e=this.options.height-this.options.margin.top-this.options.margin.bottom,n=this.options.width-this.options.margin.right-this.options.margin.left,o=(this._xScale=i.scale.linear().range([0,n]),this._yScale=i.scale.linear().domain([this._source.start,this._source.end]).range([0,e])),s=this._timeline=i.select("#timeline-container").append("svg").attr("id","timeline").attr("height",this.options.height).attr("width",this.options.width),a=s.append("g").attr("id","band").attr("width",n/2-this.options.margin.right).attr("height",e).attr("transform","translate("+.25*n+","+this.options.margin.top+") scale(.75 1.0)"),r=(a.selectAll("g").data(this._items).enter().append("rect").attr("class","timeline-item").attr("height",function(e){return i.max([t.options.item.minHeight,o(e.duration())])}).attr("width",n).attr("transform",function(t){return"translate(0, "+o(t.start)+")"}),i.svg.brush().y(o).on("brushend",function(){var e=o(r.extent()[0]),n=o(r.extent()[1]),s={clear:!1,selected:[]};e!==n?i.select("#band").selectAll("rect.timeline-item").each(function(t){o(t.start)<=n&&o(t.end)>=e&&s.selected.push(t)}):s.clear=!0,t.options.on.brushend(s)})),l=a.append("svg").attr("id","brush").call(r);l.selectAll("rect").attr("width",n);var h=s.append("g").attr("id","axis").attr("transform","translate("+(.25*n-this.options.margin.left)+","+this.options.margin.top+")"),c=i.svg.axis().scale(o).orient(this.options.orientation).tickSize(6,0).tickValues(this._source.tickValues()).tickFormat(function(i){return t._source.tickFormat(i)});h.call(c),this._handleTimelineMouseEvents()},_handleTimelineMouseEvents:function(){t.Browser.touch?t.DomEvent.on(this._container,"click",t.DomEvent.stopPropagation):t.DomEvent.disableClickPropagation(this._container)}}),void(t.control.timeline=function(i){return new t.Control.Timeline(i)}))});
define("mixins/asyncInit",["jquery","underscore"],function(n,e){"use strict";var i={$def:null,init:function(){return this.$def.promise()}};return i});
define("mixins/domwatcher",["jquery"],function(e){"use strict";var t={watchDOM:function(t,o,n){if(!o)throw"Empty selector in watchDOM()";if(0===e(o).length){var d=function(){e(o).length>0&&(e(document.body).off("DOMNodeInserted",d),n.resolve())};e(document.body).on("DOMNodeInserted",d),window.setTimeout(function(){e(document.body).off("DOMNodeInserted",d),n.reject()},t)}else n.resolve()}};return t});
define("mixins/fetchxml",["jquery"],function(e){"use strict";var r={fetchXML:function(r){var t=e.Deferred();return e.ajax({type:"GET",url:r,dataType:"xml",success:function(e){t.resolve(e)},error:function(e,r,n){t.reject()}}),t.promise()}};return r});
define("mixins/xml2html",["jquery","underscore"],function(e,t){"use strict";var r={_doc:function(e){var t;if("string"==typeof e)t=(new DOMParser).parseFromString(e,"text/xml");else{if(!(e instanceof Document))throw new Error("Unrecognized document input in XML2HTML");t=e}if(null==t||!t.hasOwnProperty("getElementsByTagName")&&t.getElementsByTagName("parsererror").length>0)throw new Error("Failed to parse document in xml2html");return t},xml2html:function(e,r,n,o){var i=this._doc(e),m=this._doc(r),a=new XSLTProcessor;a.importStylesheet(m),"object"==typeof n&&t.each(t.keys(n),function(e){a.setParameter(null,e,n[e])});var s;try{var c=a.transformToDocument(i);s=-1!=navigator.userAgent.indexOf("Firefox")?"text"===o?c.documentElement.textContent:c.documentElement:"text"===o?c.documentElement.textContent:s=c.body.innerHTML}catch(u){throw new Error("Error in XSLT transform: "+u.toString())}return s}};return r});
define("models/article",["jquery","underscore","backbone","mixins/fetchxml","mixins/asyncInit","mixins/xml2html","text!xsl/geojson.xsl","text!xsl/cited-range.xsl"],function(e,t,n,o,s,i,r,l){"use strict";var a=n.Model.extend({initialize:function(){var t=this;t.$def=e.Deferred();var n=t.fetchXML(t.get("path"));e.when(n).done(function(e){t.set("xml",e),t._mkGeojson(),t._mkCitedRange(),null!==t.geojson&&t.set("placeType",t.geojson.properties.layer),t.$def.resolve(t)}).fail(function(){t.$def.reject()})},defaults:{xml:null,placeType:null,iconUrl:"",citedRange:{}},geojson:null,getGeojson:function(){return null===this.geojson&&this._mkGeojson(),this.geojson},_mkGeojson:function(){try{var e=this.xml2html(this.get("xml"),r,{},"text");this.geojson=JSON.parse(e)}catch(t){throw new Error("Failed to parse geojson: "+t.toString())}},_mkCitedRange:function(){try{var e=this.xml2html(this.get("xml"),l,{},"text");this.set("citedRange",JSON.parse(e))}catch(t){throw new Error("Failed to parse cited range json: "+t.toString())}}});return t.extend(a.prototype,o),t.extend(a.prototype,s),t.extend(a.prototype,i),a});
define("models/issue",["jquery","underscore","backbone","models/article","collections/articles","mixins/asyncInit"],function(e,t,n,i,r,o){"use strict";var c=n.Model.extend({initialize:function(n){var o=this;o.$def=e.Deferred();var c=n.config.articles.pathBase;c.match(/\/$/)||(c+="/");var a=n.config.articles.files,s=new r;o.config=n.config,o.set("collection",s);var f=t.map(t.range(a.length),function(){return void 0});t.each(a,function(e,t){f[t]=new i({articleid:t,articledir:c,path:c+e})});var l=t.map(f,function(e){return e.init()});e.when.apply(null,l).done(function(){s.add(f),o.setIcons(),o.$def.resolve(o)}).always(function(){t.forEach(l,function(e){"rejected"===e.state()&&o.$def.reject()}),o.$def.reject()})},setIcons:function(){var e=this,n=e.config.markers.icons,i=t.shuffle(t.flatten(t.map(n,function(e){return t.map(e.files,function(t){return e.dir.concat(t)})}))),r=i.pop(),o=[];e.get("collection").forEach(function(e,t){var n=e.getGeojson()||{properties:{}},c=n.properties.layer;o[c]=o[c]||i.pop()||r,e.set("iconUrl",o[c])})},getArticle:function(e){var t,n=this.get("collection");return"object"==typeof e?t=e:("number"==typeof e||"string"==typeof e)&&(t=n.at(e)),t}});return t.extend(c.prototype,o),c});
define("models/map",["jquery","underscore","backbone","mixins/asyncInit"],function(e,n,i,o){"use strict";var t=i.Model.extend({initialize:function(n){var i=this;i.$def=e.Deferred(),e.getJSON(n.config.map.config,function(e){i.set("mapconfig",e),i.$def.resolve(i)}).fail(function(e,n,o){console.log("Failed to load map config file: "+o),i.$def.reject()})},defaults:{mapconfig:{}}});return n.extend(t.prototype,o),t});
define("models/timeline",["jquery","underscore","backbone","collections/timeline","models/timeline/item","mixins/asyncInit"],function(e,t,r,n,i,a){"use strict";var o=r.Model.extend({markerViews:null,start:null,end:null,siteconfig:null,bookconfig:null,initialize:function(t){var r=this;r.markerViews=t.markerViews,r.siteconfig=t.siteconfig,r.$def=e.Deferred(),e.getJSON(r.siteconfig.book.file,function(e){r.bookconfig=e.book,r._initialize(),r.$def.resolve(r)}).fail(function(e,t,n){r.$def.reject()})},_initialize:function(){var e=this,r=new n;e.set("collection",r),t.forEach(e.markerViews,function(n){var a=n.model,o=t.findWhere(e.bookconfig.chapters,{part:a.attributes.citedRange.part,chapter:a.attributes.citedRange.chapter});if(o){var c=o.paragraphs.start+a.attributes.citedRange.paragraph,s=c+1;r.add(new i({start:c,end:s,markerView:n}))}}),e.start=t.min(e.bookconfig.chapters,function(e){return e.paragraphs.start}).paragraphs.start,e.end=t.max(e.bookconfig.chapters,function(e){return e.paragraphs.end}).paragraphs.end},getItems:function(){return this.get("collection").models},tickValues:function(){var e=t.map(this.bookconfig.chapters,function(e){return e.paragraphs.start});return e.sort(function(e,t){return e-t}),e},tickFormat:function(e){var t,r,n=this;for(t=0;t<n.bookconfig.chapters.length;++t)if(r=n.bookconfig.chapters[t],e<=r.paragraphs.end)return e=r.chapter,e===n.bookconfig.chapters.length-1?"":e;return""}});return t.extend(o.prototype,a),o});
define("routes/router",["jquery","underscore","backbone","models/error/user","views/error/user","views/clear","controllers/issue","controllers/map","views/menu"],function(e,r,i,t,n,o,s,a,l){"use strict";var u=i.Router.extend({pages:{},config:{},issueController:null,mapController:null,initialize:function(e){var t=this;this.config=e.config,this.pages=e.config.pages,this.issueController=new s({router:this,config:this.config}),this.issueController.init().done(function(){r.has(t.pages.router,"history")&&t.pages.router.history&&i.history.start()})},navigate:function(e,r){i.history.fragment!==e&&i.history.navigate(e,r)},page:function(e){var i,t=this,n=!1;try{if(e||(e=this.pages.home),i=this.pages.pages[e],void 0===i)throw new Error("Missing config in router/page")}catch(s){return this.page("404")}(new o).render(),r.each(i,function(i){var o,s={config:t.config,issue:t.issueController.model,router:t},l=JSON.parse(JSON.stringify(i));if(r.has(l,"view"))o=l.view;else{if(!r.has(l,"partial")){if(r.has(confg,"full"))return void(window.location.href=l.full.page);throw new Error("Unsupported page type in router: "+e)}o="views/partial",l.partial.page=t.pages.pathBase+l.partial.page,s=r.extend(s,l.partial)}"views/map"===o?(t.mapController=new a(s),n=!0):require([o],function(e){var r=new e(s);r.render()})}),n||(t.mapController=null)},article:function(r){var i=this,t={config:i.config,issue:i.issueController.model,router:i};e("#titlepage").length>0&&e("#titlepage").remove(),e("#page").length>0&&e("#page").remove(),null===i.mapController&&(i.mapController=new a(t)),0===e("#menu").children().length&&new l(t).render(),i.mapController.init().done(function(){var e=i.issueController.model.getArticle(r);e.trigger("active",e)})}});return u});
define("views/app",["jquery","underscore","backbone"],function(e,n,i){"use strict";var o=i.View.extend({el:"body",initialize:function(){e(window).resize(function(){document.location.reload()})}});return o});
define("views/article",["jquery","underscore","backbone","views/article/gallery","mixins/xml2html","text!xsl/article.xsl"],function(e,i,t,r,l,o){"use strict";var n=t.View.extend({id:"article",initialize:function(e){var i=this;i.config=e.config},render:function(){var i=this;if(i.$el=e("#"+i.id),0===i.$el.find("#"+i.model.cid).length){var t=this.xml2html(this.model.get("xml"),o,{"article-dir":i.config.articles.pathBase,iconUrl:i.model.get("iconUrl"),cid:i.model.cid});try{e(".article-content").remove(),e("#"+this.id).append(t)}catch(l){console.log("article load error: "+l.toString())}return e("img.slidesjs-slide").length>0?(new r).render():(e("#footer").remove(),e("article").removeClass("before-footer").addClass("no-footer")),i.$el.find(".article-marker").click(function(e,t){i.model.trigger("toggle",i.model)}),i}},remove:function(){}});return i.extend(n.prototype,l),n});
define("views/clear",["jquery","underscore","backbone"],function(e,n,r,t){"use strict";var c=r.View.extend({el:"body",render:function(){e("body").empty()}});return c});
define("views/issue",["jquery","underscore","backbone","text!partials/issue.html","views/article"],function(e,i,t,n,r){"use strict";var s=t.View.extend({el:"#issue",template:i.template(n),initialize:function(e){var i=this;i.config=e.config},render:function(){this.$el.remove(),e("body").append(n)},renderArticle:function(e){new r({model:e,config:this.model.config,issue:this,router:this.model.router}).render()}});return s});
define("views/map",["jquery","underscore","backbone","leaflet","text!partials/map.html","views/marker","mixins/asyncInit"],function(e,i,n,a,r,t,m){"use strict";var o=n.View.extend({id:"map",tagName:"div",markerViews:[],mapconfig:{},initialize:function(i){var n=this;n.$def=e.Deferred(),n.model=i.model,n.issue=i.issue,e.when.apply({},[n.issue.init(),n.model.init()]).done(function(){n.mapconfig=n.model.get("mapconfig"),e("#"+this.id).length>0||e("#"+this.id).children().length>0||(n._initMap(),n.$def.resolve(n))})},_initMap:function(){var n=this;0===e("#"+this.id).length&&(e("body").append(r),n.map=new a.Map(n.mapconfig.id,n.mapconfig.map),new a.TileLayer(n.mapconfig.tileLayer.url,n.mapconfig.tileLayer.opts).addTo(n.map),new a.control.scale(n.mapconfig.scale).addTo(n.map),n.markerViews=i.map(n.issue.get("collection").models,function(e){return new t({model:e,map:n.map,mapconfig:n.mapconfig})}))},renewViews:function(){var e=this;e.markerViews=i.map(e.issue.get("collection").models,function(i){return i.markerView||(i.markerView=new t({model:i,map:e.map,mapconfig:e.mapconfig})),i.markerView}),i.forEach(e.markerViews,function(e){e.render()}),e.trigger("markers",e.markerViews)},render:function(){var e=this;e._initMap(),i.forEach(e.markerViews,function(e){e.render()}),e.trigger("markers",e.markerViews)}});return i.extend(o.prototype,m),o});
define("views/marker",["jquery","underscore","backbone","text!partials/marker.html","text!partials/marker-legend.html"],function(e,r,t,i,n){"use strict";var o=t.View.extend({template:r.template(i),el:"",markerLayer:null,map:null,mapconfig:null,initialize:function(e){var r=this;r.map=e.map,r.mapconfig=e.mapconfig,r.initMarkerLayer()},initMarkerLayer:function(){var e=this,r=this.model.getGeojson(),t=e.mapconfig.features.icon;t.iconUrl=this.model.get("iconUrl")||"";var i=L.icon(t);e.markerLayer=L.geoJson(r,{onEachFeature:function(r,t){var i=L.popup(e.mapconfig.features.popup);i.setContent(e.template({articleid:e.model.get("articleid"),geojson:e.model.getGeojson()})),t.bindPopup(i),t.removeEventListener("click"),t.on("click",function(r){e.trigger("click",r)}),t.on("mouseover",function(r){e.trigger("mouseover",r)})},pointToLayer:function(r,t){return L.marker(t,{icon:i,clickable:!!r.properties.text,title:r.properties.markername||"",opacity:e.mapconfig.features.opacity,riseOnHover:e.mapconfig.features.riseOnHover})}})},render:function(){this.markerLayer.addTo(this.map)}});return o});
define("views/menu",["jquery","underscore","backbone","text!partials/menu.html","mixins/domwatcher","views/article/menu"],function(e,t,n,i,r,o){"use strict";var a=n.View.extend({template:t.template(i),id:"menu",tagName:"div",issue:null,config:{},initialize:function(e){this.config=e.config,this.issue=e.issue},render:function(){var n=this;if(0===e("#"+n.id).children().length){var i=this.config.menu,r=[],a={},c={};t.each(i,function(e){if(a[e.partial]="","menu"===e.type){if("collections/articles"!==e.collection)throw new Error("Unhandled collection type requested: "+e.collection);c[e.collection]=n.issue.get("collection")}}),t.each(t.keys(a),function(n){var i=e.Deferred();require(["text!"+n],function(e){a[n]=t.template(e),i.resolve()}),r.push(i.promise())});var l="";e.when.apply(e,r).done(function(){t.forEach(i,function(n,i){var r=n.partial,u={},s="",f=[];"page"===n.type||"sep"===n.type?l+=a[r](n):"menu"===n.type&&(c[n.collection].models.forEach(function(t,i){var r,a=n.item.href.replace(":i",i),c=new o({model:t}),l=c.render({href:"#"+a});if("string"==typeof l)r=e(l);else{if(!(l instanceof Element))throw new Error("Unsupported result type for submenu: "+l.toString());if("BODY"===l.nodeName)r=e(l.innerHTML);else{if("LI"!==l.nodeName)throw new Error("Unsupported document element for submenu: "+l.toString());r=e(l.outerHTML)}}r.attr("data-sort-key")?u[r.attr("data-sort-key")]=r.clone():u[r.find("a").text()]=r.clone()}),f=t.keys(u),f.sort(function(e,t){return e.localeCompare(t)}),t.each(f,function(e){s+=u[e][0].outerHTML}),l+=a[r]({label:n.label,items:s}))})}).then(function(){e("#"+n.id).empty().append(n.template({content:l}));var t=e.Deferred();t.fail(function(){n.render()}),n.watchDOM(500,"#"+n.id,t)}).fail(function(){throw new Error("Failed to build menu.")})}}});return t.extend(a.prototype,r),a});
define("views/page",["jquery","underscore","backbone","mixins/domwatcher","text!partials/page.html"],function(e,t,n,r,i){"use strict";var a=n.View.extend({el:"body",render:function(){var t=this,n=e.Deferred();n.then(function(){e(t.el).append(i)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,r),a});
define("views/partial",["jquery","underscore","backbone","mixins/domwatcher","mixins/asyncInit"],function(e,t,n,i,r){"use strict";var a=n.View.extend({el:"",page:"",initialize:function(t){var n=this;n.el=t.el,n.$def=e.Deferred(),require(["text!"+t.page],function(e){n.page=e,n.$def.resolve(n)})},render:function(){var t=this,n=e.Deferred();t.init().then(function(){e(t.el).append(t.page)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,i),t.extend(a.prototype,r),a});
define("views/timeline",["jquery","underscore","backbone","leaflet","text!partials/timeline.html","controls/L.Control.Timeline"],function(e,i,t,n,l){"use strict";var r=t.View.extend({id:"timeline",map:null,initialize:function(e){var i=this;i.map=e.map},render:function(){var i=this;e(".leaflet-top.leaflet-left").append(l),i.model.init().done(function(){i.timeline=n.control.timeline({on:{brushend:function(e){i.handleFilter(e)}}}),i.timeline.addData(i.model)})},handleFilter:function(e){this.trigger("filter",e)}});return r});
define("controllers/map/layer",["jquery","underscore","backbone","controllers/prototype","text!partials/marker-legend.html"],function(e,r,l,n,o){"use strict";var t=n.extend({views:null,router:null,map:null,initialize:function(l){var n=this;n.views=l.views,n.map=l.map,n.mapconfig=l.mapconfig;var t=r.template(o),a=r.groupBy(n.views,function(e){return e.model.getGeojson().properties.layer}),i=L.control.layers(null,null,n.mapconfig.control.layers.options).addTo(n.map);r.each(r.keys(a),function(e){var l=e.replace(/\s+/g,"-"),n=t({iconUrl:a[e][0].model.get("iconUrl"),title:e,klass:l}),o=r.map(a[e],function(e){return e.markerLayer}),c=L.layerGroup(o);i.addOverlay(c,n)}),e("input.leaflet-control-layers-selector").each(function(r,l){e(l).click()})}});return t});
define("controllers/map/pan",["jquery","underscore","backbone","controllers/prototype","mixins/domwatcher"],function(t,e,n,o,i){"use strict";var a=o.extend({map:null,initialize:function(t){if(this.map=t.map,!this.map)throw new Error("Uninitialized map")},_fitMarkerBounds:function(t){var n=this,o=document.getElementById("article");if(o){var i=L.DomUtil.getViewportOffset(o).x,a=L.latLngBounds(e.map(t,function(t){var e=t.model.getGeojson().geometry.coordinates.slice(0);return L.latLng(e.reverse())}));0===i?n.map.fitBounds(a):i!=n.map.getSize().x?n.map.fitBounds(a,{paddingBottomRight:[document.body.clientWidth-i,0]}):n.map.fitBounds(a),n.map.invalidateSize()}},fitMarkerBounds:function(e){var n=this,o=t.Deferred();o.then(function(){n._fitMarkerBounds(e)}),this.watchDOM(1e3,"#article",o)},handlePopupPosition:function(e){var n,o,i,a,r,p=this,d=p.map,s=t(e.getContent()).attr("id");i=e.getLatLng(),void 0!==i&&(n=L.DomUtil.getViewportOffset(document.getElementById("article")).x,o=t("#"+s).closest(".leaflet-popup-content-wrapper").first(),r=L.point(e.options.autoPanPaddingBottomRight||e.options.autoPanPadding),r=r?r.x:0,a=o.length>0?o.offset().left+o.width()+r:0,0!=n&&a>n&&n!=d.getSize().x?d.panBy([a-n,0]):d.getBounds().contains(e.getLatLng())||(d.closePopup(e),d.openPopup(e)))}});return e.extend(a.prototype,i),a});
define("controllers/map/timeline",["jquery","underscore","backbone","controllers/prototype","views/timeline","models/timeline"],function(e,i,r,n,t,o){"use strict";var l=n.extend({map:null,model:null,view:null,siteconfig:null,markerViews:null,initialize:function(e){var r=this;r.views=e.views,r.map=e.map,r.markerViews=e.markerViews,i.forEach(e.markerViews,function(e){r.listenTo(e.model,"show",function(){}),r.listenTo(e.model,"hide",function(){})}),r.model=new o({siteconfig:e.siteconfig,markerViews:e.markerViews}),r.view=new t({model:r.model,map:r.map,markerViews:e.markerViews}),r.listenTo(r.view,"filter",function(e){var n,t,o={};e.clear?(n=i.map(r.markerViews,function(e){return e}),this.trigger("show",n)):(n=i.map(e.selected,function(e){return o[e.markerView.model.cid]=void 0,e.markerView}),t=i.filter(r.markerViews,function(e){return!(e.model.cid in o)}),t.length>0&&this.trigger("hide",t),n.length>0&&this.trigger("show",n))}),r.view.render()}});return l});
define("models/error/user",["backbone"],function(e){"use strict";var s=e.Model.extend({defaults:{msg:""},initialize:function(e){this.set("msg",e.message)}});return s});
define("models/timeline/item",["jquery","underscore","backbone"],function(e,n,t){"use strict";var r=t.Model.extend({markerView:null,start:null,end:null,initialize:function(e){var n=this;n.markerView=e.markerView,n.start=e.start,n.end=e.end},duration:function(){return this.end-this.start},compareTo:function(e){}});return r});
define("views/article/gallery",["jquery","underscore","backbone","views/article/gallery/popover","views/article/gallery/lightbox","views/article/gallery/slides"],function(e,i,r,n,l,a){"use strict";var o=r.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var i=e("#article article").height()-e("#header").outerHeight(!0);e("#body").css({height:i});var r=[];e("img.slidesjs-slide").each(function(i,n){var l=e.Deferred();e(n).load(function(){e(n).removeClass("remove"),l.resolve()}),e(n).error(function(){window.setTimeout(function(){l.reject()},500)}),r.push(l)}),e.when.apply({},r).always(function(){e("img.slidesjs-slide.remove").remove(),e(".image-loading").removeClass("image-loading"),(new n).render(),(new l).render(),(new a).render()})}});return o});
define("views/article/menu",["jquery","underscore","backbone","mixins/xml2html","text!xsl/article-menu.xsl"],function(e,t,i,n,r){"use strict";var l=i.View.extend({render:function(e){var t=this;if("resolved"!==this.model.init().state())throw"Uninitialized article in ArticleMenuView";var i=t.xml2html(t.model.get("xml"),r,e);return i}});return t.extend(l.prototype,n),l});
define("views/error/user",["jquery","backbone","text!partials/error/user.html"],function(e,t,r){"use strict";var i=t.View.extend({template:_.template(r),el:e("#errorDialog"),initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$el.modal({keyboard:!0,show:!0}),this}});return i});
define("views/article/gallery/lightbox",["jquery","underscore","backbone","text!partials/lightbox-title.html","lightbox"],function(e,t,i,n){"use strict";var r=i.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var i=this;return e(".gallery-item").magnificPopup({type:"image",gallery:{enabled:!0},image:{titleSrc:function(i){var r=i.el.attr("id"),l=e(".popover."+r),a=t.template(n),o=a({title:l.find(".head").text(),attr:l.find(".attr").text()});return o}}}),e(".glyphicon.glyphicon-expand").on("click",function(t){e(".gallery-item").magnificPopup("open")}),i}});return r});
define("views/article/gallery/popover",["jquery","underscore","backbone","text!partials/image-popover.html","text!partials/image-popover-content.html"],function(e,t,i,r,n){"use strict";var o=i.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var i=this,o=t.template(n);return e("img.slidesjs-slide").each(function(t,i){var n=i.getAttribute("id"),a=e(".popover."+n),c=a.find(".head").text();e(i).attr("alt",a.find(".desc").text());var l=o({attr:a.find(".attr").text()});e(i).popover({container:"body",html:!0,content:l,title:c,template:r,trigger:"hover",placement:"left"}),e(i).click(function(t){e(i).popover("hide")})}),i}});return o});
define("views/article/gallery/slides",["jquery","underscore","backbone","text!partials/image-popover.html","text!partials/image-popover-content.html","text!partials/lightbox-title.html","slidesjs","lightbox"],function(i,e,t,s,l,n){"use strict";var a=t.View.extend({id:"article",initialize:function(){},remove:function(){},render:function(){var e=this;return i("#slides").slidesjs({navigation:{active:i("img.slidesjs-slide").length>1,effect:"fade"},pagination:{active:i("img.slidesjs-slide").length>1,effect:"fade"},effect:{fade:{speed:100,crossfade:!0}},callback:{loaded:function(e){var t=i(".slidesjs-control").children(":eq("+(e-1)+")");t.css({visibility:"hidden"}),t.css({height:"auto",width:"auto",maxHeight:i(".slidesjs-container").height(),maxWidth:i(".slidesjs-container").width(),position:"relative"});var s=(i(".slidesjs-container").width()-t.width())/2;s-=parseInt(t.css("padding-left"),10),t.css({left:s}),t.css({visibility:"visible"})},start:function(e){i(".slidesjs-control").children().css({visibility:"hidden"})},complete:function(e){var t=e-1,s=i(".slidesjs-control").children(":eq("+t+")");s.css({height:"auto",width:"auto",maxHeight:i(".slidesjs-container").height(),maxWidth:i(".slidesjs-container").width(),position:"relative"}),s.css({visibility:"visible"})}}}),e}});return a});
require.config({paths:{backbone:"//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min",bootstrap:"//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min",d3:"//cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3",jquery:"//code.jquery.com/jquery-2.1.4.min",leaflet:"leaflet-src",lightbox:"//cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.0/jquery.magnific-popup.min",slidesjs:"//cdnjs.cloudflare.com/ajax/libs/slidesjs/3.0/jquery.slides.min",text:"//cdnjs.cloudflare.com/ajax/libs/require-text/2.0.12/text.min",underscore:"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min",partials:"../partials",xsl:"../script/xsl",pages:"../pages"},shim:{bootstrap:{deps:["jquery"]},backbone:{deps:["jquery","underscore"],exports:"Backbone"},underscore:{exports:"_"},text:{deps:[]},slidesjs:{deps:["jquery"]},lightbox:{deps:["jquery"]}}}),require(["jquery","models/error/user","views/error/user","routes/router","views/app","bootstrap"],function(e,s,o,r,a){"use strict";var i=e("#main").attr("data-config");i?e.getJSON(i,function(e){try{new a,new r({routes:e.pages.routes,config:e})}catch(i){e.debug||new o({model:new s({msg:i.toString()})})}}).fail(function(e,r,a){new o({model:new s({msg:"Failed to load site config file '"+i+"' "+a})})}):new o({model:new s({msg:"No configuration filename specified in home page."})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbGxlY3Rpb25zL2FydGljbGVzLmpzIiwiY29sbGVjdGlvbnMvdGltZWxpbmUuanMiLCJjb250cm9sbGVycy9pc3N1ZS5qcyIsImNvbnRyb2xsZXJzL21hcC5qcyIsImNvbnRyb2xsZXJzL3Byb3RvdHlwZS5qcyIsImNvbnRyb2xzL0wuQ29udHJvbC5UaW1lbGluZS5qcyIsIm1peGlucy9hc3luY0luaXQuanMiLCJtaXhpbnMvZG9td2F0Y2hlci5qcyIsIm1peGlucy9mZXRjaHhtbC5qcyIsIm1peGlucy94bWwyaHRtbC5qcyIsIm1vZGVscy9hcnRpY2xlLmpzIiwibW9kZWxzL2lzc3VlLmpzIiwibW9kZWxzL21hcC5qcyIsIm1vZGVscy90aW1lbGluZS5qcyIsInJvdXRlcy9yb3V0ZXIuanMiLCJ2aWV3cy9hcHAuanMiLCJ2aWV3cy9hcnRpY2xlLmpzIiwidmlld3MvY2xlYXIuanMiLCJ2aWV3cy9pc3N1ZS5qcyIsInZpZXdzL21hcC5qcyIsInZpZXdzL21hcmtlci5qcyIsInZpZXdzL21lbnUuanMiLCJ2aWV3cy9wYWdlLmpzIiwidmlld3MvcGFydGlhbC5qcyIsInZpZXdzL3RpbWVsaW5lLmpzIiwiY29udHJvbGxlcnMvbWFwL2xheWVyLmpzIiwiY29udHJvbGxlcnMvbWFwL3Bhbi5qcyIsImNvbnRyb2xsZXJzL21hcC90aW1lbGluZS5qcyIsIm1vZGVscy9lcnJvci91c2VyLmpzIiwibW9kZWxzL3RpbWVsaW5lL2l0ZW0uanMiLCJ2aWV3cy9hcnRpY2xlL2dhbGxlcnkuanMiLCJ2aWV3cy9hcnRpY2xlL21lbnUuanMiLCJ2aWV3cy9lcnJvci91c2VyLmpzIiwidmlld3MvYXJ0aWNsZS9nYWxsZXJ5L2xpZ2h0Ym94LmpzIiwidmlld3MvYXJ0aWNsZS9nYWxsZXJ5L3BvcG92ZXIuanMiLCJ2aWV3cy9hcnRpY2xlL2dhbGxlcnkvc2xpZGVzLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCIkIiwiXyIsIkJhY2tib25lIiwiQXJ0aWNsZU1vZGVsIiwiQXJ0aWNsZXNDb2xsZWN0aW9uIiwiQ29sbGVjdGlvbiIsImV4dGVuZCIsIm1vZGVsIiwiVGltZWxpbmVJdGVtTW9kZWwiLCJUaW1lbGluZUNvbGxlY3Rpb24iLCJDb250cm9sbGVyIiwiQXN5bmNJbml0IiwiSXNzdWVWaWV3IiwiSXNzdWVNb2RlbCIsIklzc3VlQ29udHJvbGxlciIsInZpZXciLCJyb3V0ZXIiLCJpbml0aWFsaXplIiwiYXJncyIsInRoYXQiLCJ0aGlzIiwiJGRlZiIsIkRlZmVycmVkIiwiY29uZmlnIiwicmVuZGVyIiwiaW5pdCIsImRvbmUiLCJmb3JFYWNoIiwiZ2V0IiwibW9kZWxzIiwiYXJ0aWNsZSIsImxpc3RlblRvIiwidXJsIiwibmF2aWdhdGUiLCJ0cmlnZ2VyIiwicmVuZGVyQXJ0aWNsZSIsInJlc29sdmUiLCJhbHdheXMiLCJyZWplY3QiLCJwcm90b3R5cGUiLCJNYXBNb2RlbCIsIk1hcFZpZXciLCJNYXBQYW5Db250cm9sbGVyIiwiTWFwTGF5ZXJDb250cm9sbGVyIiwiTWFwVGltZWxpbmVDb250cm9sbGVyIiwiTWFwQ29udHJvbGxlciIsImlzc3VlIiwibWFwUGFuQ29udHJvbGxlciIsIm1hcFRpbWVsaW5lQ29udHJvbGxlciIsIm1hcCIsIm1hcExheWVyQ29udHJvbGxlciIsInZpZXdzIiwibWFya2VyVmlld3MiLCJtYXBjb25maWciLCJhdHRyaWJ1dGVzIiwic2l0ZWNvbmZpZyIsIl9yZWdpc3RlclRpbWVsaW5lTGlzdGVuZXJzIiwiX3JlZ2lzdGVyTWFya2VycyIsImZpdE1hcmtlckJvdW5kcyIsIndoZW4iLCJhcHBseSIsIm1hcmtlclZpZXciLCJtYXBQb3B1cE9wZW4iLCJtYXJrZXJMYXllciIsIm1hcmtlciIsIl9nZXRNYXJrZXJMYXllciIsImhhbmRsZVBvcHVwUG9zaXRpb24iLCJnZXRQb3B1cCIsIm1hcFBvcHVwVG9nZ2xlIiwiZXZ0IiwiaG92ZXJQb3B1cCIsIm9wZW5wb3B1cCIsInBvcHVwaWQiLCJtYXBNYXJrZXIiLCJnZXRMYXRMbmciLCJvcGVuUG9wdXAiLCJhZGRMYXllciIsInJlbW92ZUxheWVyIiwib2JqIiwibWV0aG9kIiwibWFwTWFya2VyTGF5ZXIiLCJsYXllcnMiLCJMIiwiTGF5ZXJHcm91cCIsImdldExheWVycyIsInBvcCIsImhhcyIsInRhcmdldCIsInRvZ2dsZVBvcHVwIiwibWFwUG9wdXBDbG9zZSIsImNsb3NlUG9wdXAiLCJjaWQiLCJ1bmlxdWVJZCIsImFyZ3VtZW50cyIsIlJvdXRlciIsIkV2ZW50cyIsIkVycm9yIiwicm9vdCIsInBsdWdpbiIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJkMyIsIkNvbnRyb2wiLCJUaW1lbGluZSIsIm9wdGlvbnMiLCJvcmllbnRhdGlvbiIsImhlaWdodCIsIndpZHRoIiwiaWQiLCJtYXJnaW4iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJjb2xsYXBzZWQiLCJpdGVtIiwibWluSGVpZ2h0Iiwib24iLCJicnVzaGVuZCIsImJydXNoZWQiLCJjb25zb2xlIiwibG9nIiwiVXRpbCIsInNldE9wdGlvbnMiLCJfY29udGFpbmVyIiwiRG9tVXRpbCIsIm9uUmVtb3ZlIiwib25BZGQiLCJhZGREYXRhIiwic291cmNlIiwiX3NvdXJjZSIsIl9pdGVtcyIsImdldEl0ZW1zIiwiX2FkZEl0ZW1zVG9UaW1lbGluZSIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsInlTY2FsZSIsIl94U2NhbGUiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwiX3lTY2FsZSIsImRvbWFpbiIsInN0YXJ0IiwiZW5kIiwidGltZWxpbmUiLCJfdGltZWxpbmUiLCJzZWxlY3QiLCJhcHBlbmQiLCJhdHRyIiwiYmFuZCIsImJydXNoIiwic2VsZWN0QWxsIiwiZGF0YSIsImVudGVyIiwiZCIsIm1heCIsImR1cmF0aW9uIiwic3ZnIiwieSIsImV4dFN0YXJ0IiwiZXh0ZW50IiwiZXh0RW5kIiwicmVzdWx0cyIsImNsZWFyIiwic2VsZWN0ZWQiLCJlYWNoIiwiaSIsInB1c2giLCJ5QnJ1c2giLCJjYWxsIiwieUF4aXMiLCJheGlzIiwib3JpZW50IiwidGlja1NpemUiLCJ0aWNrVmFsdWVzIiwidGlja0Zvcm1hdCIsIl9oYW5kbGVUaW1lbGluZU1vdXNlRXZlbnRzIiwiQnJvd3NlciIsInRvdWNoIiwiRG9tRXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJkaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbiIsImNvbnRyb2wiLCJwcm9taXNlIiwiRE9NV2F0Y2hlciIsIndhdGNoRE9NIiwibXMiLCJzZWwiLCJsZW5ndGgiLCJmIiwiZG9jdW1lbnQiLCJib2R5Iiwib2ZmIiwid2luZG93Iiwic2V0VGltZW91dCIsIkZldGNoWE1MIiwiZmV0Y2hYTUwiLCIkZ2V0IiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJlcnJvciIsImpxWEhSIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwiWE1MMkhUTUwiLCJfZG9jIiwieG1sIiwieG1sRG9jIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiRG9jdW1lbnQiLCJoYXNPd25Qcm9wZXJ0eSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwieG1sMmh0bWwiLCJ4c2wiLCJwYXJhbXMiLCJtb2RlIiwieHNsRG9jIiwieHNsdFByb2Nlc3NvciIsIlhTTFRQcm9jZXNzb3IiLCJpbXBvcnRTdHlsZXNoZWV0Iiwia2V5cyIsImtleSIsInNldFBhcmFtZXRlciIsInJlc3VsdCIsImRvYyIsInRyYW5zZm9ybVRvRG9jdW1lbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiZG9jdW1lbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJlIiwidG9TdHJpbmciLCJnZW9Kc29uWHNsIiwiY2l0ZWRSYW5nZVhzbCIsIk1vZGVsIiwic2V0IiwiX21rR2VvanNvbiIsIl9ta0NpdGVkUmFuZ2UiLCJnZW9qc29uIiwicHJvcGVydGllcyIsImxheWVyIiwiZmFpbCIsImRlZmF1bHRzIiwicGxhY2VUeXBlIiwiaWNvblVybCIsImNpdGVkUmFuZ2UiLCJnZXRHZW9qc29uIiwianNvblN0cmluZyIsIkpTT04iLCJwYXJzZSIsIkFydGljbGVDb2xsZWN0aW9uIiwiYXJ0ZGlyIiwiYXJ0aWNsZXMiLCJwYXRoQmFzZSIsIm1hdGNoIiwiZmlsZXMiLCJjb2wiLCJ1bmRlZmluZWQiLCJmaWxlIiwiYXJ0aWNsZWlkIiwiYXJ0aWNsZWRpciIsInBhdGgiLCJpbml0cyIsImFkZCIsInNldEljb25zIiwiJHByb21pc2UiLCJzdGF0ZSIsImljY29uZmlnIiwibWFya2VycyIsImljb25zIiwiaWNvbkZpbGVzIiwic2h1ZmZsZSIsImZsYXR0ZW4iLCJlbnRyeSIsImRpciIsImNvbmNhdCIsImRlZmF1bHRJY29uRmlsZSIsImdldEFydGljbGUiLCJhcnQiLCJhdCIsImdldEpTT04iLCJqcXhociIsIlRpbWVsaW5lSXRlbSIsIlRpbWVsaW5lTW9kZWwiLCJib29rY29uZmlnIiwiYm9vayIsIl9pbml0aWFsaXplIiwiYm9va0NoYXB0ZXIiLCJmaW5kV2hlcmUiLCJjaGFwdGVycyIsInBhcnQiLCJjaGFwdGVyIiwicGFyYWdyYXBocyIsInBhcmFncmFwaCIsIm1pbiIsInZhbHVlcyIsInNvcnQiLCJhIiwiYiIsInAiLCJVc2VyRXJyb3JNb2RlbCIsIlVzZXJFcnJvclZpZXciLCJDbGVhclZpZXciLCJNZW51VmlldyIsInBhZ2VzIiwiaXNzdWVDb250cm9sbGVyIiwibWFwQ29udHJvbGxlciIsIm9wdHMiLCJoaXN0b3J5IiwiZnJhZ21lbnQiLCJwYWdlIiwicGFnZUNvbmZpZyIsIm1hcFBhZ2UiLCJob21lIiwicGMiLCJ2aWV3TmFtZSIsInN0cmluZ2lmeSIsImNvbmZnIiwibG9jYXRpb24iLCJocmVmIiwiZnVsbCIsInBhcnRpYWwiLCJyZXF1aXJlIiwiVmlldyIsInYiLCJyZW1vdmUiLCJjaGlsZHJlbiIsIkFwcFZpZXciLCJlbCIsInJlc2l6ZSIsInJlbG9hZCIsIkdhbGxlcnlWaWV3IiwiQXJ0aWNsZVZpZXciLCIkZWwiLCJmaW5kIiwiaHRtbCIsImFydGljbGUtZGlyIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNsaWNrIiwiZWx0IiwidG1wbCIsImVtcHR5IiwidGVtcGxhdGUiLCJtYXBQYXJ0aWFsIiwiTWFya2VyVmlldyIsInRhZ05hbWUiLCJfaW5pdE1hcCIsIk1hcCIsIlRpbGVMYXllciIsInRpbGVMYXllciIsImFkZFRvIiwicmVuZXdWaWV3cyIsIm12IiwibGVnZW5kUGFydGlhbCIsImluaXRNYXJrZXJMYXllciIsImljb25Db25maWciLCJmZWF0dXJlcyIsImljb24iLCJnZW9Kc29uIiwib25FYWNoRmVhdHVyZSIsImZlYXR1cmUiLCJwb3B1cCIsInNldENvbnRlbnQiLCJiaW5kUG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicG9pbnRUb0xheWVyIiwibGF0bG5nIiwiY2xpY2thYmxlIiwidGV4dCIsInRpdGxlIiwibWFya2VybmFtZSIsIm9wYWNpdHkiLCJyaXNlT25Ib3ZlciIsIm1lbnVUbXBsIiwiQXJ0aWNsZU1lbnVWaWV3IiwiaXRlbXMiLCJtZW51IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZXMiLCJjb2xsZWN0aW9ucyIsImNvbGxlY3Rpb24iLCJ0ZW1wbCIsImNvbnRlbnQiLCJzb3J0ZXIiLCJzdWJDb250ZW50Iiwic29ydEtleXMiLCJqIiwiJGxpIiwicmVwbGFjZSIsImFtdiIsIkVsZW1lbnQiLCJub2RlTmFtZSIsIm91dGVySFRNTCIsImNsb25lIiwibG9jYWxlQ29tcGFyZSIsImxhYmVsIiwidGhlbiIsIiRmYWlsRGVmIiwiUGFnZVZpZXciLCJQYXJ0aWFsVmlldyIsIiR3YXRjaERlZiIsInRpbWVsaW5lQ29udHJvbFBhcnRpYWwiLCJUaW1lbGluZVZpZXciLCJoYW5kbGVGaWx0ZXIiLCJsZWdlbmRUZW1wbCIsImxheWVyTWFya2VycyIsImdyb3VwQnkiLCJsYXllck5hbWUiLCJrbGFzcyIsImxheWVyTGVnZW5kIiwibWFya2VyTGF5ZXJzIiwibGF5ZXJHcm91cCIsImFkZE92ZXJsYXkiLCJfZml0TWFya2VyQm91bmRzIiwiZ2V0RWxlbWVudEJ5SWQiLCJlZGdlUHRYIiwiZ2V0Vmlld3BvcnRPZmZzZXQiLCJ4IiwiYm91bmRzIiwibGF0TG5nQm91bmRzIiwibG5nTGF0IiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsInNsaWNlIiwibGF0TG5nIiwicmV2ZXJzZSIsImZpdEJvdW5kcyIsImdldFNpemUiLCJwYWRkaW5nQm90dG9tUmlnaHQiLCJjbGllbnRXaWR0aCIsImludmFsaWRhdGVTaXplIiwiJHBvcHVwV3JhcCIsInBvcHVwTGF0TG5nIiwicG9wdXBSaWdodFgiLCJwYWQiLCJnZXRDb250ZW50IiwiY2xvc2VzdCIsImZpcnN0IiwicG9pbnQiLCJhdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0IiwiYXV0b1BhblBhZGRpbmciLCJvZmZzZXQiLCJwYW5CeSIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwic2hvd01vZGVscyIsImhpZGVNb2RlbHMiLCJzaG93SWRzIiwiZmlsdGVyIiwibXNnIiwibWVzc2FnZSIsImNvbXBhcmVUbyIsIkFydGljbGVHYWxsZXJ5UG9wb3ZlclZpZXciLCJBcnRpY2xlR2FsbGVyeUxpZ2h0Ym94VmlldyIsIkFydGljbGVHYWxsZXJ5U2xpZGVzVmlldyIsIkFydGljbGVHYWxsZXJ5VmlldyIsIm91dGVySGVpZ2h0IiwiY3NzIiwiZGVmcyIsImltZyIsImxvYWQiLCJhbVhzbCIsIm1lbnVpdGVtIiwibW9kYWwiLCJrZXlib2FyZCIsInNob3ciLCJsaWdodGJveFRpdGxlVGVtcGwiLCJtYWduaWZpY1BvcHVwIiwiZ2FsbGVyeSIsImVuYWJsZWQiLCJpbWFnZSIsInRpdGxlU3JjIiwiJGl0ZW0iLCIkcG8iLCJwY3QiLCJwb3BvdmVyVGVtcGwiLCJwb3BvdmVyQ29udGVudFRlbXBsIiwiZ2V0QXR0cmlidXRlIiwicG9wb3ZlciIsImNvbnRhaW5lciIsInBsYWNlbWVudCIsInNsaWRlc2pzIiwibmF2aWdhdGlvbiIsImFjdGl2ZSIsImVmZmVjdCIsInBhZ2luYXRpb24iLCJmYWRlIiwic3BlZWQiLCJjcm9zc2ZhZGUiLCJjYWxsYmFjayIsImxvYWRlZCIsIm51bWJlciIsIiRpbWciLCJ2aXNpYmlsaXR5IiwibWF4SGVpZ2h0IiwibWF4V2lkdGgiLCJwb3NpdGlvbiIsInBhcnNlSW50IiwiY29tcGxldGUiLCJuZXdJbWciLCJwYXRocyIsImJhY2tib25lIiwiYm9vdHN0cmFwIiwianF1ZXJ5IiwibGVhZmxldCIsImxpZ2h0Ym94IiwidW5kZXJzY29yZSIsInBhcnRpYWxzIiwic2hpbSIsImRlcHMiLCJjb25maWdmaWxlIiwicm91dGVzIiwiZGVidWciXSwibWFwcGluZ3MiOiJBQUNBQSxPQUFPLHdCQUNILFNBQ0EsYUFDQSxXQUNBLGtCQUNELFNBQVNDLEVBQUVDLEVBQUVDLEVBQVNDLEdBQ3JCLFlBQ0EsSUFBSUMsR0FBcUJGLEVBQVNHLFdBQVdDLFFBQ3pDQyxNQUFPSixHQUVYLE9BQU9DO0FDVlhMLE9BQU8sd0JBQ0gsU0FDQSxhQUNBLFdBQ0Esd0JBQ0QsU0FBU0MsRUFBRUMsRUFBRUMsRUFBU00sR0FDckIsWUFDQSxJQUFJQyxHQUFxQlAsRUFBU0csV0FBV0MsUUFDekNDLE1BQU9DLEdBRVgsT0FBT0M7QUNWWFYsT0FBTyxxQkFDRCxTQUNBLGFBQ0EsV0FDQSx3QkFDQSxtQkFDQSxjQUNBLGdCQUNILFNBQVNDLEVBQUVDLEVBQUVDLEVBQVNRLEVBQVdDLEVBQVVDLEVBQVVDLEdBQ3BELFlBQ0EsSUFBSUMsR0FBa0JKLEVBQVdKLFFBQzNCQyxNQUFPLEtBQ1BRLEtBQU8sS0FDUEMsT0FBUSxLQUNSQyxXQUFZLFNBQVNDLEdBQ25CLEdBQUlDLEdBQU9DLElBQ1hELEdBQUtFLEtBQU9yQixFQUFFc0IsV0FDZEgsRUFBS0gsT0FBU0UsRUFBS0YsT0FDbkJHLEVBQUtaLE1BQVEsR0FBSU0sSUFBYVUsT0FBUUwsRUFBS0ssU0FDM0NKLEVBQUtKLEtBQU8sR0FBSUgsSUFDVkwsTUFBT1ksRUFBS1osTUFDWmdCLE9BQVFMLEVBQUtLLFNBRW5CSixFQUFLSixLQUFLUyxTQUNWTCxFQUFLWixNQUFNa0IsT0FBT0MsS0FB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LElBQ0ksR0FBSXVSLEdBQ0osR0FBSWhQLElBQ0V5YSxPQUFRaGQsRUFBV2dRLE1BQU1nTixPQUN6QmhmLE9BQVFnQyxJQUVoQixNQUFPc0wsR0FDQXRMLEVBQVdpZCxPQUNaLEdBQUlwTixJQUNBN1MsTUFBTyxHQUFJNFMsSUFDUHNKLElBQUs1TixFQUFFQyxrQkFLeEJVLEtBQUssU0FBU3dDLEVBQU9sRixFQUFZRixHQUNoQyxHQUFJd0csSUFDQTdTLE1BQU8sR0FBSTRTLElBQ1BzSixJQUFLLG9DQUFzQzZELEVBQWEsS0FBTzFULFFBSzNFLEdBQUl3RyxJQUNBN1MsTUFBTyxHQUFJNFMsSUFDUHNKLElBQUsiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdjb2xsZWN0aW9ucy9hcnRpY2xlcycsIFtcbiAgICAnanF1ZXJ5JywgXG4gICAgJ3VuZGVyc2NvcmUnLCBcbiAgICAnYmFja2JvbmUnLFxuICAgICdtb2RlbHMvYXJ0aWNsZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxBcnRpY2xlTW9kZWwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVzQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICAgICAgbW9kZWw6IEFydGljbGVNb2RlbFxuICAgIH0pOyAgICBcbiAgICByZXR1cm4gQXJ0aWNsZXNDb2xsZWN0aW9uO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnY29sbGVjdGlvbnMvdGltZWxpbmUnLCBbXG4gICAgJ2pxdWVyeScsIFxuICAgICd1bmRlcnNjb3JlJywgXG4gICAgJ2JhY2tib25lJyxcbiAgICAnbW9kZWxzL3RpbWVsaW5lL2l0ZW0nXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsVGltZWxpbmVJdGVtTW9kZWwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFRpbWVsaW5lQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICAgICAgbW9kZWw6IFRpbWVsaW5lSXRlbU1vZGVsXG4gICAgfSk7ICAgIFxuICAgIHJldHVybiBUaW1lbGluZUNvbGxlY3Rpb247XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ2NvbnRyb2xsZXJzL2lzc3VlJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ2NvbnRyb2xsZXJzL3Byb3RvdHlwZSdcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuICAgICwgJ3ZpZXdzL2lzc3VlJ1xuICAgICwgJ21vZGVscy9pc3N1ZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxDb250cm9sbGVyLEFzeW5jSW5pdCxJc3N1ZVZpZXcsSXNzdWVNb2RlbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgSXNzdWVDb250cm9sbGVyID0gQ29udHJvbGxlci5leHRlbmQoe1xuICAgICAgICAgIG1vZGVsOiBudWxsXG4gICAgICAgICwgdmlldyA6IG51bGxcbiAgICAgICAgLCByb3V0ZXI6IG51bGxcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LiRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICB0aGF0LnJvdXRlciA9IGFyZ3Mucm91dGVyO1xuICAgICAgICAgICAgdGhhdC5tb2RlbCA9IG5ldyBJc3N1ZU1vZGVsKHsgY29uZmlnOiBhcmdzLmNvbmZpZyB9KTtcbiAgICAgICAgICAgIHRoYXQudmlldyA9IG5ldyBJc3N1ZVZpZXcoe1xuICAgICAgICAgICAgICAgICAgbW9kZWw6IHRoYXQubW9kZWxcbiAgICAgICAgICAgICAgICAsIGNvbmZpZzogYXJncy5jb25maWdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhhdC52aWV3LnJlbmRlcigpO1xuICAgICAgICAgICAgdGhhdC5tb2RlbC5pbml0KCkuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2godGhhdC5tb2RlbC5nZXQoJ2NvbGxlY3Rpb24nKS5tb2RlbHMsIGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5saXN0ZW5UbyhhcnRpY2xlLCAnYWN0aXZlJywgZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICdhcnRpY2xlLycgKyBhcnRpY2xlLmdldCgnYXJ0aWNsZWlkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnJvdXRlci5uYXZpZ2F0ZSh1cmwsIHt0cmlnZ2VyOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnZpZXcucmVuZGVyQXJ0aWNsZShhcnRpY2xlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChJc3N1ZUNvbnRyb2xsZXIucHJvdG90eXBlLEFzeW5jSW5pdCk7XG4gICAgcmV0dXJuIElzc3VlQ29udHJvbGxlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgnY29udHJvbGxlcnMvbWFwJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ2NvbnRyb2xsZXJzL3Byb3RvdHlwZSdcbiAgICAsICdtb2RlbHMvbWFwJ1xuICAgICwgJ3ZpZXdzL21hcCdcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuICAgICwgJ2NvbnRyb2xsZXJzL21hcC9wYW4nXG4gICAgLCAnY29udHJvbGxlcnMvbWFwL2xheWVyJ1xuICAgICwgJ2NvbnRyb2xsZXJzL21hcC90aW1lbGluZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxDb250cm9sbGVyLE1hcE1vZGVsLE1hcFZpZXcsQXN5bmNJbml0LE1hcFBhbkNvbnRyb2xsZXIsTWFwTGF5ZXJDb250cm9sbGVyLE1hcFRpbWVsaW5lQ29udHJvbGxlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFwQ29udHJvbGxlciA9IENvbnRyb2xsZXIuZXh0ZW5kKHtcbiAgICAgICAgICBtb2RlbDogbnVsbFxuICAgICAgICAsIHZpZXc6ICBudWxsXG4gICAgICAgICwgaXNzdWU6IG51bGxcbiAgICAgICAgLCBtYXBQYW5Db250cm9sbGVyIDogbnVsbFxuICAgICAgICAsIE1hcExheWVyQ29udHJvbGxlciA6IG51bGxcbiAgICAgICAgLCBtYXBUaW1lbGluZUNvbnRyb2xsZXIgOiBudWxsXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdGhhdC5yb3V0ZXIgPSBhcmdzLnJvdXRlcjtcbiAgICAgICAgICAgIHRoYXQuaXNzdWUgPSBhcmdzLmlzc3VlO1xuICAgICAgICAgICAgdGhhdC5tb2RlbCA9IG5ldyBNYXBNb2RlbChhcmdzKTtcbiAgICAgICAgICAgIHRoYXQudmlldyA9IG5ldyBNYXBWaWV3KHtcbiAgICAgICAgICAgICAgICAgIG1vZGVsOiAgdGhhdC5tb2RlbFxuICAgICAgICAgICAgICAgICwgcm91dGVyOiB0aGF0LnJvdXRlclxuICAgICAgICAgICAgICAgICwgaXNzdWU6IHRoYXQuaXNzdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhhdC52aWV3LmluaXQoKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQubWFwUGFuQ29udHJvbGxlciA9IG5ldyBNYXBQYW5Db250cm9sbGVyKHtcbiAgICAgICAgICAgICAgICAgICAgbWFwOiB0aGF0LnZpZXcubWFwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC5tYXBMYXllckNvbnRyb2xsZXIgPSBuZXcgTWFwTGF5ZXJDb250cm9sbGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICB2aWV3cyA6IHRoYXQudmlldy5tYXJrZXJWaWV3c1xuICAgICAgICAgICAgICAgICAgICAsIG1hcCAgIDogdGhhdC52aWV3Lm1hcFxuICAgICAgICAgICAgICAgICAgICAsIG1hcGNvbmZpZzogdGhhdC5tb2RlbC5hdHRyaWJ1dGVzLm1hcGNvbmZpZ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQubWFwVGltZWxpbmVDb250cm9sbGVyID0gbmV3IE1hcFRpbWVsaW5lQ29udHJvbGxlcih7XG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VyVmlld3MgOiB0aGF0LnZpZXcubWFya2VyVmlld3NcbiAgICAgICAgICAgICAgICAgICAgLCBtYXAgICAgICAgICA6IHRoYXQudmlldy5tYXBcbiAgICAgICAgICAgICAgICAgICAgLCBzaXRlY29uZmlnICA6IHRoYXQubW9kZWwuYXR0cmlidXRlcy5jb25maWdcbiAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoYXQuX3JlZ2lzdGVyVGltZWxpbmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICB0aGF0Lmxpc3RlblRvKHRoYXQudmlldywgJ21hcmtlcnMnLCBmdW5jdGlvbihtYXJrZXJWaWV3cyl7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3JlZ2lzdGVyTWFya2VycyhtYXJrZXJWaWV3cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwUGFuQ29udHJvbGxlci5maXRNYXJrZXJCb3VuZHModGhhdC52aWV3Lm1hcmtlclZpZXdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGF0LnZpZXcucmVuZGVyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseShudWxsLFt0aGF0Lm1vZGVsLmluaXQoKSwgdGhhdC52aWV3LmluaXQoKV0pLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAsIF9yZWdpc3Rlck1hcmtlcnMgOiBmdW5jdGlvbihtYXJrZXJWaWV3cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgXy5mb3JFYWNoKG1hcmtlclZpZXdzLCBmdW5jdGlvbihtYXJrZXJWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5saXN0ZW5UbyhtYXJrZXJWaWV3Lm1vZGVsLCAnYWN0aXZlJywgZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lm1hcFBvcHVwT3BlbihtYXJrZXJWaWV3Lm1hcmtlckxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IHRoYXQuX2dldE1hcmtlckxheWVyKG1hcmtlclZpZXcubWFya2VyTGF5ZXIsICdnZXRQb3B1cCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5tYXBQYW5Db250cm9sbGVyLmhhbmRsZVBvcHVwUG9zaXRpb24obWFya2VyLmdldFBvcHVwKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQubGlzdGVuVG8obWFya2VyVmlldy5tb2RlbCwgJ3RvZ2dsZScsIGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5tYXBQb3B1cFRvZ2dsZShtYXJrZXJWaWV3Lm1hcmtlckxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IHRoYXQuX2dldE1hcmtlckxheWVyKG1hcmtlclZpZXcubWFya2VyTGF5ZXIsICdnZXRQb3B1cCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5tYXBQYW5Db250cm9sbGVyLmhhbmRsZVBvcHVwUG9zaXRpb24obWFya2VyLmdldFBvcHVwKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQubGlzdGVuVG8obWFya2VyVmlldywgJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwUG9wdXBPcGVuKGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlclZpZXcubW9kZWwudHJpZ2dlcignYWN0aXZlJywgbWFya2VyVmlldy5tb2RlbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC5saXN0ZW5UbyhtYXJrZXJWaWV3LCdtb3VzZW92ZXInLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGF0LnZpZXcubWFwLmhvdmVyUG9wdXApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5wb3B1cFtwb3B1cGlkKG1hcE1hcmtlci5nZXRMYXRMbmcoKSldKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIG1hcE1hcmtlci5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgX3JlZ2lzdGVyVGltZWxpbmVMaXN0ZW5lcnMgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQubGlzdGVuVG8odGhhdC5tYXBUaW1lbGluZUNvbnRyb2xsZXIsICdzaG93JywgZnVuY3Rpb24obWFya2VyVmlld3MpIHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobWFya2VyVmlld3MsIGZ1bmN0aW9uKG1hcmtlclZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlclZpZXcubWFya2VyTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlclZpZXcucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnZpZXcubWFwLmFkZExheWVyKG1hcmtlclZpZXcubWFya2VyTGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoYXQubGlzdGVuVG8odGhhdC5tYXBUaW1lbGluZUNvbnRyb2xsZXIsICdoaWRlJywgZnVuY3Rpb24obWFya2VyVmlld3MpIHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobWFya2VyVmlld3MsIGZ1bmN0aW9uKG1hcmtlclZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlclZpZXcubWFya2VyTGF5ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnZpZXcubWFwLnJlbW92ZUxheWVyKG1hcmtlclZpZXcubWFya2VyTGF5ZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLCBfZ2V0TWFya2VyTGF5ZXIgOiBmdW5jdGlvbihvYmosbWV0aG9kKSB7XG4gICAgICAgICAgICB2YXIgbWFwTWFya2VyTGF5ZXIsIGxheWVycztcbiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXJMYXllciA9IG9iajtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXllcnMgPSBvYmouZ2V0TGF5ZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChvYmogPSBsYXllcnMucG9wKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyTGF5ZXIgPSBvYmo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uaGFzKG9iaiwgJ29yaWdpbmFsRXZlbnQnKSkge1xuICAgICAgICAgICAgICAgIG1hcE1hcmtlckxheWVyID0gb2JqLnRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXBNYXJrZXJMYXllcjtcbiAgICAgICAgfVxuICAgICAgICAsIG1hcFBvcHVwT3BlbjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgbWFwTWFya2VyTGF5ZXIgPSB0aGlzLl9nZXRNYXJrZXJMYXllcihvYmosICdvcGVuUG9wdXAnKTtcbiAgICAgICAgICAgIGlmICghbWFwTWFya2VyTGF5ZXIpIHJldHVybjtcbiAgICAgICAgICAgIG1hcE1hcmtlckxheWVyLm9wZW5Qb3B1cCgpO1xuICAgICAgICB9XG4gICAgICAgICwgbWFwUG9wdXBUb2dnbGU6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIG1hcE1hcmtlckxheWVyID0gdGhpcy5fZ2V0TWFya2VyTGF5ZXIob2JqLCAndG9nZ2xlUG9wdXAnKTtcbiAgICAgICAgICAgIGlmICghbWFwTWFya2VyTGF5ZXIpIHJldHVybjtcbiAgICAgICAgICAgIG1hcE1hcmtlckxheWVyLnRvZ2dsZVBvcHVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgLCBtYXBQb3B1cENsb3NlOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHZhciBtYXBNYXJrZXJMYXllciA9IHRoaXMuX2dldE1hcmtlckxheWVyKG9iaiwgJ2Nsb3NlUG9wdXAnKTtcbiAgICAgICAgICAgIGlmICghbWFwTWFya2VyTGF5ZXIpIHJldHVybjtcbiAgICAgICAgICAgIG1hcE1hcmtlckxheWVyLmNsb3NlUG9wdXAoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKE1hcENvbnRyb2xsZXIucHJvdG90eXBlLEFzeW5jSW5pdCk7XG4gICAgcmV0dXJuIE1hcENvbnRyb2xsZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ2NvbnRyb2xsZXJzL3Byb3RvdHlwZScsIFtcbiAgICAgICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuXSwgZnVuY3Rpb24oXyxCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQ29udHJvbGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNpZCA9IF8udW5pcXVlSWQoJ2NvbnRyb2xsZXInKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLmV4dGVuZCA9IEJhY2tib25lLlJvdXRlci5leHRlbmQ7XG4gICAgXy5leHRlbmQoQ29udHJvbGxlci5wcm90b3R5cGUsIEJhY2tib25lLkV2ZW50cyk7XG4gICAgXy5leHRlbmQoQ29udHJvbGxlci5wcm90b3R5cGUsIHsgXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmltcGxlbWVudGVkIGluaXRpYWxpemUoKScpO1xuICAgICAgICB9IFxuICAgIH0pO1xuICAgIHJldHVybiBDb250cm9sbGVyO1xufSk7IiwiKGZ1bmN0aW9uIChyb290LCBwbHVnaW4pIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShbJ2xlYWZsZXQnLCdkMyddLCBwbHVnaW4pO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXHR9IGVsc2Uge1xuXHRcdHBsdWdpbihyb290LkwpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChMLGQzKSB7XG4gICAgaWYgKEwuQ29udHJvbC5UaW1lbGluZSkgcmV0dXJuIEw7XG4gICAgTC5Db250cm9sLlRpbWVsaW5lID0gTC5Db250cm9sLmV4dGVuZCh7XG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIC8vcG9zaXRpb246ICd0b3BsZWZ0J1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiAnbGVmdCdcbiAgICAgICAgICAgICAgLCBoZWlnaHQ6IDUwMFxuICAgICAgICAgICAgICAsIHdpZHRoOiAxMDBcbiAgICAgICAgICAgICAgLCBpZCA6ICd0aW1lbGluZS1jb250YWluZXInXG4gICAgICAgICAgICAgICwgbWFyZ2luOiB7IGxlZnQ6IDMsIHJpZ2h0OiAzLCB0b3A6IDEwLCBib3R0b206IDEwIH1cbiAgICAgICAgICAgICAgLCBjb2xsYXBzZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICwgaXRlbSA6IHttaW5IZWlnaHQ6MX1cbiAgICAgICAgICAgICAgLCBvbiA6IHtcbiAgICAgICAgICAgICAgICAgIGJydXNoZW5kOiBmdW5jdGlvbihicnVzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYnJ1c2hlZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAsIGluaXRpYWxpemUgOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IEwuRG9tVXRpbC5nZXQodGhpcy5vcHRpb25zLmlkKTtcbiAgICAgICAgfVxuICAgICAgICAsIG9uUmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGRvIGFueSBjbGVhbnVwIGhlcmVcbiAgICAgICAgfVxuICAgICAgICAsIG9uQWRkOiBmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgLCBhZGREYXRhOiBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gc291cmNlLmdldEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRJdGVtc1RvVGltZWxpbmUoKTtcbiAgICAgICAgfVxuICAgICAgICAsIF9hZGRJdGVtc1RvVGltZWxpbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGlubmVySGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodCAtIHRoaXMub3B0aW9ucy5tYXJnaW4udG9wICAgLSB0aGlzLm9wdGlvbnMubWFyZ2luLmJvdHRvbTtcbiAgICAgICAgICAgIHZhciBpbm5lcldpZHRoICA9IHRoaXMub3B0aW9ucy53aWR0aCAgLSB0aGlzLm9wdGlvbnMubWFyZ2luLnJpZ2h0IC0gdGhpcy5vcHRpb25zLm1hcmdpbi5sZWZ0O1xuXG4gICAgICAgICAgICB2YXIgeFNjYWxlID0gdGhpcy5feFNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgICAgICAgICAgICAucmFuZ2UoWzAsaW5uZXJXaWR0aF0pO1xuXG4gICAgICAgICAgICB2YXIgeVNjYWxlID0gdGhpcy5feVNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgICAgICAgICAgICAuZG9tYWluKFt0aGlzLl9zb3VyY2Uuc3RhcnQsdGhpcy5fc291cmNlLmVuZF0pXG4gICAgICAgICAgICAgICAgLnJhbmdlKFswLGlubmVySGVpZ2h0XSk7XG5cbiAgICAgICAgICAgIHZhciB0aW1lbGluZSA9IHRoaXMuX3RpbWVsaW5lID0gZDMuc2VsZWN0KCcjdGltZWxpbmUtY29udGFpbmVyJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsICd0aW1lbGluZScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy5vcHRpb25zLndpZHRoKTtcblxuICAgICAgICAgICAgdmFyIGJhbmQgPSB0aW1lbGluZS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsJ2JhbmQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIChpbm5lcldpZHRoLzIgLSB0aGlzLm9wdGlvbnMubWFyZ2luLnJpZ2h0KSlcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaW5uZXJIZWlnaHQpICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBcbiAgICAgICAgICAgICAgICAgICAgICAndHJhbnNsYXRlKCcgKyAuMjUqaW5uZXJXaWR0aCArICcsJyArIHRoaXMub3B0aW9ucy5tYXJnaW4udG9wICsgICcpJ1xuICAgICAgICAgICAgICAgICAgICArICcgc2NhbGUoLjc1IDEuMCknXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gYmFuZC5zZWxlY3RBbGwoJ2cnKVxuICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuX2l0ZW1zKVxuICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgncmVjdCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywndGltZWxpbmUtaXRlbScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQzLm1heChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQub3B0aW9ucy5pdGVtLm1pbkhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgLCB5U2NhbGUoZC5kdXJhdGlvbigpKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsaW5uZXJXaWR0aClcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCAnICsgeVNjYWxlKGQuc3RhcnQpICsgJyknO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgYnJ1c2ggPSBkMy5zdmcuYnJ1c2goKVxuICAgICAgICAgICAgICAgIC55KHlTY2FsZSlcbiAgICAgICAgICAgICAgICAub24oJ2JydXNoZW5kJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dFN0YXJ0ID0geVNjYWxlKGJydXNoLmV4dGVudCgpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dEVuZCAgID0geVNjYWxlKGJydXNoLmV4dGVudCgpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLCBzZWxlY3RlZCA6IFtdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRTdGFydCAhPT0gZXh0RW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoJyNiYW5kJykuc2VsZWN0QWxsKCdyZWN0LnRpbWVsaW5lLWl0ZW0nKS5lYWNoKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeVNjYWxlKGkuc3RhcnQpIDw9IGV4dEVuZCkgJiYgKHlTY2FsZShpLmVuZCkgICA+PSBleHRTdGFydCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuc2VsZWN0ZWQucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5jbGVhciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vcHRpb25zLm9uLmJydXNoZW5kKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgeUJydXNoID0gYmFuZC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywnYnJ1c2gnKVxuICAgICAgICAgICAgICAgIC5jYWxsKGJydXNoKTtcbiAgICAgICAgICAgIHlCcnVzaC5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsaW5uZXJXaWR0aCk7XG5cbiAgICAgICAgICAgIHZhciB5QXhpcyA9IHRpbWVsaW5lLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywnYXhpcycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgnICsgKCguMjUqaW5uZXJXaWR0aCkgLSB0aGlzLm9wdGlvbnMubWFyZ2luLmxlZnQpICsgJywnICsgdGhpcy5vcHRpb25zLm1hcmdpbi50b3AgKyAgJyknKTtcblxuICAgICAgICAgICAgdmFyIGF4aXMgPSBkMy5zdmcuYXhpcygpXG4gICAgICAgICAgICAgICAgLnNjYWxlKHlTY2FsZSlcbiAgICAgICAgICAgICAgICAub3JpZW50KHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbilcbiAgICAgICAgICAgICAgICAudGlja1NpemUoNiwgMClcbiAgICAgICAgICAgICAgICAudGlja1ZhbHVlcyh0aGlzLl9zb3VyY2UudGlja1ZhbHVlcygpKVxuICAgICAgICAgICAgICAgIC50aWNrRm9ybWF0KGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5fc291cmNlLnRpY2tGb3JtYXQoaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB5QXhpcy5jYWxsKGF4aXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVUaW1lbGluZU1vdXNlRXZlbnRzKCk7ICAgICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgLCBfaGFuZGxlVGltZWxpbmVNb3VzZUV2ZW50cyA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFMLkJyb3dzZXIudG91Y2gpIHtcbiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBMLmNvbnRyb2wudGltZWxpbmUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTC5Db250cm9sLlRpbWVsaW5lKG9wdGlvbnMpO1xuICAgIH07XG59KSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbWl4aW5zL2FzeW5jSW5pdCcsIFtcbiAgICAnanF1ZXJ5JyxcbiAgICAndW5kZXJzY29yZSdcbl0sIGZ1bmN0aW9uKCQsXykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQXN5bmNJbml0ID0ge1xuICAgICAgICAgICRkZWY6IG51bGxcbiAgICAgICAgLCBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRkZWYucHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNJbml0O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbWl4aW5zL2RvbXdhdGNoZXInLCBbXG4gICAgJ2pxdWVyeScgXG5dLCBmdW5jdGlvbigkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBET01XYXRjaGVyID0ge1xuICAgICAgICB3YXRjaERPTSA6IGZ1bmN0aW9uKG1zLHNlbCwkZGVmKSB7XG4gICAgICAgICAgICBpZiAoIXNlbCkgdGhyb3cgXCJFbXB0eSBzZWxlY3RvciBpbiB3YXRjaERPTSgpXCI7XG4gICAgICAgICAgICBpZiAoJChzZWwpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBmID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHNlbCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5vZmYoJ0RPTU5vZGVJbnNlcnRlZCcsIGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGRlZi5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkub24oJ0RPTU5vZGVJbnNlcnRlZCcsIGYpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLm9mZignRE9NTm9kZUluc2VydGVkJywgZik7XG4gICAgICAgICAgICAgICAgICAgICRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfSwgbXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERPTVdhdGNoZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtaXhpbnMvZmV0Y2h4bWwnLCBbXG4gICAgJ2pxdWVyeSdcbl0sIGZ1bmN0aW9uKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEZldGNoWE1MID0ge1xuICAgICAgICAvLyByZXR1cm4gYW4gb2JqZWN0IGltcGxlbWVudGluZyB0aGUgUHJvbWlzZSBpbnRlcmZhY2VcbiAgICAgICAgLy8gd2hlbiBzdWNjZXNzZnVsLCB0aGUgUHJvbWlzZSByZXR1cm5zIHRoZSBkYXRhIGZldGNoZWRcbiAgICAgICAgLy8gYnkgdGhlIGFqYXggcmVxdWVzdFxuICAgICAgICAvLyBkYXRhIHJldHVybmVkIGJ5IHRoZSBwcm9taXNlIGlzIGEgRG9jdW1lbnRcbiAgICAgICAgZmV0Y2hYTUwgOiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgIHZhciAkZ2V0ID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAgICAgJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAgICAgIHVybCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ3htbCcsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgJGdldC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICAkZ2V0LnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICRnZXQucHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmV0Y2hYTUw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtaXhpbnMveG1sMmh0bWwnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnXG5dLCBmdW5jdGlvbigkLF8pIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFhNTDJIVE1MID0ge1xuICAgICAgICBfZG9jOiBmdW5jdGlvbih4bWwpIHtcbiAgICAgICAgICAgIHZhciB4bWxEb2M7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHhtbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB4bWxEb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbCwndGV4dC94bWwnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeG1sIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICB4bWxEb2MgPSB4bWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBkb2N1bWVudCBpbnB1dCBpbiBYTUwySFRNTFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4bWxEb2MgPT0gbnVsbCB8fCAoIXhtbERvYy5oYXNPd25Qcm9wZXJ0eSgnZ2V0RWxlbWVudHNCeVRhZ05hbWUnKSAmJiB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhcnNlcmVycm9yJykubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgZG9jdW1lbnQgaW4geG1sMmh0bWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geG1sRG9jO1xuICAgICAgICB9LFxuICAgICAgICAvLyByZXR1cm4gSFRNTCBvciBKU09OIHN0cmluZyBmcm9tIFhTTFQgdHJhbnNmb3JtYXRpb25cbiAgICAgICAgeG1sMmh0bWw6IGZ1bmN0aW9uKHhtbCx4c2wscGFyYW1zLG1vZGUpIHtcbiAgICAgICAgICAgIHZhciB4bWxEb2MgPSB0aGlzLl9kb2MoeG1sKSxcbiAgICAgICAgICAgICAgICB4c2xEb2MgPSB0aGlzLl9kb2MoeHNsKTtcbiAgICAgICAgICAgIHZhciB4c2x0UHJvY2Vzc29yID0gbmV3IFhTTFRQcm9jZXNzb3IoKTtcbiAgICAgICAgICAgIHhzbHRQcm9jZXNzb3IuaW1wb3J0U3R5bGVzaGVldCh4c2xEb2MpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKF8ua2V5cyhwYXJhbXMpLCBmdW5jdGlvbihrZXkpe1xuICAgICAgICAgICAgICAgICAgICB4c2x0UHJvY2Vzc29yLnNldFBhcmFtZXRlcihudWxsLGtleSxwYXJhbXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZG9jID0geHNsdFByb2Nlc3Nvci50cmFuc2Zvcm1Ub0RvY3VtZW50KHhtbERvYyk7XG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vPHRyYW5zZm9ybWlpeDpyZXN1bHQ+Li4uPC90cmFuc2Zvcm1paXg6cmVzdWx0PlxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb2MuZG9jdW1lbnRFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRvYy5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgPSBkb2MuYm9keS5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBpbiBYU0xUIHRyYW5zZm9ybTogJyArIGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gWE1MMkhUTUw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtb2RlbHMvYXJ0aWNsZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtaXhpbnMvZmV0Y2h4bWwnXG4gICAgLCAnbWl4aW5zL2FzeW5jSW5pdCdcbiAgICAsICdtaXhpbnMveG1sMmh0bWwnXG4gICAgLCAndGV4dCF4c2wvZ2VvanNvbi54c2wnXG4gICAgLCAndGV4dCF4c2wvY2l0ZWQtcmFuZ2UueHNsJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEZldGNoWE1MLEFzeW5jSW5pdCxYTUwySFRNTCxnZW9Kc29uWHNsLGNpdGVkUmFuZ2VYc2wpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdmFyICRnZXQgPSB0aGF0LmZldGNoWE1MKHRoYXQuZ2V0KCdwYXRoJykpO1xuICAgICAgICAgICAgJC53aGVuKCRnZXQpLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2V0KCd4bWwnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB0aGF0Ll9ta0dlb2pzb24oKTtcbiAgICAgICAgICAgICAgICB0aGF0Ll9ta0NpdGVkUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5nZW9qc29uICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNldCgncGxhY2VUeXBlJywgdGhhdC5nZW9qc29uLnByb3BlcnRpZXMubGF5ZXIpO1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIC8vVE9ETzogJ3htbCc6IHNlcmlhbGl6ZT8gYW5kIGNhY2hlIHRvIGxvY2Fsc3RvcmFnZVxuICAgICAgICAgICAgLy8gYWRkIGFkYXB0ZXIgZm9yIGFjY2VzcyB0aHJvdWdoIC5hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgIFwieG1sXCIgICAgICAgOiBudWxsICAgIC8vIERvY3VtZW50XG4gICAgICAgICAgICAsIFwicGxhY2VUeXBlXCIgOiBudWxsXG4gICAgICAgICAgICAsIFwiaWNvblVybFwiICAgOiAnJ1xuICAgICAgICAgICAgLCBcImNpdGVkUmFuZ2VcIjoge31cbiAgICAgICAgfSxcbiAgICAgICAgZ2VvanNvbjogbnVsbCxcbiAgICAgICAgZ2V0R2VvanNvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZW9qc29uID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHRoaXMuX21rR2VvanNvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvanNvbjtcbiAgICAgICAgfSxcbiAgICAgICAgX21rR2VvanNvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uU3RyaW5nID0gdGhpcy54bWwyaHRtbCh0aGlzLmdldCgneG1sJyksIGdlb0pzb25Yc2wsIHt9LCAndGV4dCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2VvanNvbiA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGdlb2pzb246IFwiICsgZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX21rQ2l0ZWRSYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uU3RyaW5nID0gdGhpcy54bWwyaHRtbCh0aGlzLmdldCgneG1sJyksIGNpdGVkUmFuZ2VYc2wsIHt9LCAndGV4dCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdjaXRlZFJhbmdlJywgSlNPTi5wYXJzZShqc29uU3RyaW5nKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGNpdGVkIHJhbmdlIGpzb246IFwiICsgZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKEFydGljbGVNb2RlbC5wcm90b3R5cGUsRmV0Y2hYTUwpO1xuICAgIF8uZXh0ZW5kKEFydGljbGVNb2RlbC5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICBfLmV4dGVuZChBcnRpY2xlTW9kZWwucHJvdG90eXBlLFhNTDJIVE1MKTtcbiAgICByZXR1cm4gQXJ0aWNsZU1vZGVsO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbW9kZWxzL2lzc3VlJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ21vZGVscy9hcnRpY2xlJ1xuICAgICwgJ2NvbGxlY3Rpb25zL2FydGljbGVzJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQXJ0aWNsZU1vZGVsLEFydGljbGVDb2xsZWN0aW9uLEFzeW5jSW5pdCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgSXNzdWVNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICAgID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiAgID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdmFyIGFydGRpciAgPSBhcmdzLmNvbmZpZy5hcnRpY2xlcy5wYXRoQmFzZTtcbiAgICAgICAgICAgIGlmICghYXJ0ZGlyLm1hdGNoKC9cXC8kLykpIGFydGRpciArPSAnLyc7XG4gICAgICAgICAgICB2YXIgZmlsZXMgICA9IGFyZ3MuY29uZmlnLmFydGljbGVzLmZpbGVzO1xuICAgICAgICAgICAgdmFyIGNvbCAgICAgPSBuZXcgQXJ0aWNsZUNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoYXQuY29uZmlnID0gYXJncy5jb25maWc7XG4gICAgICAgICAgICB0aGF0LnNldCgnY29sbGVjdGlvbicsIGNvbCk7XG4gICAgICAgICAgICAvLyBmaXggbGVuZ3RoIG9mIGFydGljbGVzIGFycmF5XG4gICAgICAgICAgICB2YXIgYXJ0aWNsZXMgPSBfLm1hcChfLnJhbmdlKGZpbGVzLmxlbmd0aCksIGZ1bmN0aW9uKCl7cmV0dXJuIHVuZGVmaW5lZDt9KTtcbiAgICAgICAgICAgIC8vIGFydGljbGVzIGNvbnN0cnVjdGVkIHN5bmMsIHNvIGFydGljbGUgb2JqZWN0cyBhZGRlZCB0byBsaXN0IGJ5IGluZGV4XG4gICAgICAgICAgICBfLmVhY2goZmlsZXMsIGZ1bmN0aW9uKGZpbGUsaSkge1xuICAgICAgICAgICAgICAgIGFydGljbGVzW2ldID0gbmV3IEFydGljbGVNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgIGFydGljbGVpZDogIGksXG4gICAgICAgICAgICAgICAgICAgIGFydGljbGVkaXI6IGFydGRpcixcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogICAgICAgYXJ0ZGlyICsgZmlsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgaW5pdHMgPSBfLm1hcChhcnRpY2xlcywgZnVuY3Rpb24oYXJ0aWNsZSl7cmV0dXJuIGFydGljbGUuaW5pdCgpO30pO1xuICAgICAgICAgICAgJC53aGVuLmFwcGx5KG51bGwsaW5pdHMpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29sLmFkZChhcnRpY2xlcyk7XG4gICAgICAgICAgICAgICAgdGhhdC5zZXRJY29ucygpO1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChpbml0cywgZnVuY3Rpb24oJHByb21pc2Upe1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHByb21pc2Uuc3RhdGUoKSA9PT0gJ3JlamVjdGVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7IC8vIG5vdCByZS1zZXQgb24gZmFpbHVyZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFwIG1hcmtlciBpY29ucyBmaWxlbmFtZSB2YWx1ZXMgYXJlIHNldCBoZXJlOyBpY29uIGNvbG9ycyBhcmUgYXNzaWduZWRcbiAgICAgICAgLy8gcmFuZG9tbHksIHNvIHRvIHN1cHBvcnQgYSBjb25zaXN0ZW5jeSBiZXR3ZWVuIHRoZSBjb2xvciBhbmQgdGhlIHBsYWNlLXR5cGVcbiAgICAgICAgLy8gbGF5ZXIsIHRoZXkgbXVzdCBiZSBhc3NpZ25lZCBhcyBhIGdyb3VwXG4gICAgICAgICwgc2V0SWNvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGljY29uZmlnICA9IHRoYXQuY29uZmlnLm1hcmtlcnMuaWNvbnM7XG4gICAgICAgICAgICB2YXIgaWNvbkZpbGVzID0gXy5zaHVmZmxlKF8uZmxhdHRlbihcbiAgICAgICAgICAgICAgICBfLm1hcChpY2NvbmZpZywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8ubWFwKGVudHJ5LmZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkuZGlyLmNvbmNhdChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRJY29uRmlsZSA9IGljb25GaWxlcy5wb3AoKTtcbiAgICAgICAgICAgIHZhciBpY29ucyA9IFtdO1xuICAgICAgICAgICAgLy8gZG8gbWFwIG1hcmtlciBpY29uIGluaXRpYWxpemF0aW9uOyB0aGlzIHNlZW1zIGxpa2UgaXQgc2hvdWxkXG4gICAgICAgICAgICAvLyBiZSBpc29sYXRlZCB0byB0aGUgTWFwVmlldyBvciBNYXJrZXJWaWV3LCBidXQgaXMgZGF0YSB1c2VkXG4gICAgICAgICAgICAvLyBlbHNld2hlcmUgaW4gdGhlIGFwcGxpY2F0aW9uLCBzbyB0aGV5IGFyZSBhc3NpZ25lZCBoZXJlXG4gICAgICAgICAgICB0aGF0LmdldCgnY29sbGVjdGlvbicpLmZvckVhY2goZnVuY3Rpb24oYXJ0aWNsZSxpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdlb2pzb24gPSAoYXJ0aWNsZS5nZXRHZW9qc29uKCkgfHwge1wicHJvcGVydGllc1wiOnt9fSk7XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gZ2VvanNvbi5wcm9wZXJ0aWVzLmxheWVyO1xuICAgICAgICAgICAgICAgIGljb25zW2xheWVyXSA9IGljb25zW2xheWVyXSB8fCBpY29uRmlsZXMucG9wKCkgfHwgZGVmYXVsdEljb25GaWxlO1xuICAgICAgICAgICAgICAgIGFydGljbGUuc2V0KCdpY29uVXJsJywgaWNvbnNbbGF5ZXJdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBhcnRpY2xlIG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIGFyZ3VtZW50O1xuICAgICAgICAvLyBhcmd1bWVudCBtYXkgYmUgZWl0aGVyIGFuIGluZGV4IGludG8gdGhlIGNvbGxlY3Rpb25cbiAgICAgICAgLy8gKGUuZy4sIHdoZW4gcHJvdmlkZWQgYnkgYSB1cmwpIG9yIGFuIEFydGljbGVNb2RlbFxuICAgICAgICAvLyAoZS5nLiwgd2hlbiBzZWxlY3RlZCBieSBhIG1hcCBtYXJrZXIpIFxuICAgICAgICAsIGdldEFydGljbGU6IGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgIHZhciBhcnQ7XG4gICAgICAgICAgICB2YXIgY29sID0gdGhpcy5nZXQoJ2NvbGxlY3Rpb24nKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJ0aWNsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBhcnQgPSBhcnRpY2xlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJ0aWNsZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGFydGljbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgYXJ0ID0gY29sLmF0KGFydGljbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFydDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKElzc3VlTW9kZWwucHJvdG90eXBlLEFzeW5jSW5pdCk7XG4gICAgcmV0dXJuIElzc3VlTW9kZWw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtb2RlbHMvbWFwJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LiRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkLmdldEpTT04oYXJncy5jb25maWcubWFwLmNvbmZpZywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2V0KCdtYXBjb25maWcnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oanF4aHIsIHRleHRTdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBsb2FkIG1hcCBjb25maWcgZmlsZTogJyArIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIFwibWFwY29uZmlnXCIgOiB7fVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKE1hcE1vZGVsLnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBNYXBNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy90aW1lbGluZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdjb2xsZWN0aW9ucy90aW1lbGluZSdcbiAgICAsICdtb2RlbHMvdGltZWxpbmUvaXRlbSdcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLFRpbWVsaW5lQ29sbGVjdGlvbixUaW1lbGluZUl0ZW0sQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBUaW1lbGluZU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgICBtYXJrZXJWaWV3czogbnVsbFxuICAgICAgICAsIHN0YXJ0OiBudWxsXG4gICAgICAgICwgZW5kOiBudWxsXG4gICAgICAgICwgc2l0ZWNvbmZpZyA6IG51bGxcbiAgICAgICAgLCBib29rY29uZmlnIDogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQubWFya2VyVmlld3MgPSBhcmdzLm1hcmtlclZpZXdzO1xuICAgICAgICAgICAgdGhhdC5zaXRlY29uZmlnID0gYXJncy5zaXRlY29uZmlnO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgJC5nZXRKU09OKHRoYXQuc2l0ZWNvbmZpZy5ib29rLmZpbGUsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmJvb2tjb25maWcgPSBkYXRhLmJvb2s7XG4gICAgICAgICAgICAgICAgdGhhdC5faW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbihqcXhociwgdGV4dFN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAsIF9pbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY29sID0gbmV3IFRpbWVsaW5lQ29sbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhhdC5zZXQoJ2NvbGxlY3Rpb24nLCBjb2wpO1xuICAgICAgICAgICAgXy5mb3JFYWNoKHRoYXQubWFya2VyVmlld3MsIGZ1bmN0aW9uKG1hcmtlclZpZXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBtYXJrZXJWaWV3Lm1vZGVsO1xuICAgICAgICAgICAgICAgIHZhciBib29rQ2hhcHRlciA9IF8uZmluZFdoZXJlKHRoYXQuYm9va2NvbmZpZy5jaGFwdGVycywge1xuICAgICAgICAgICAgICAgICAgICAgIHBhcnQgICAgOiBtb2RlbC5hdHRyaWJ1dGVzLmNpdGVkUmFuZ2UucGFydFxuICAgICAgICAgICAgICAgICAgICAsIGNoYXB0ZXIgOiBtb2RlbC5hdHRyaWJ1dGVzLmNpdGVkUmFuZ2UuY2hhcHRlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghYm9va0NoYXB0ZXIpIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBib29rQ2hhcHRlci5wYXJhZ3JhcGhzLnN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICsgbW9kZWwuYXR0cmlidXRlcy5jaXRlZFJhbmdlLnBhcmFncmFwaDtcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gc3RhcnQgKyAxO1xuICAgICAgICAgICAgICAgIGNvbC5hZGQobmV3IFRpbWVsaW5lSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICwgZW5kOiBlbmRcbiAgICAgICAgICAgICAgICAgICAgLCBtYXJrZXJWaWV3OiBtYXJrZXJWaWV3XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGF0LnN0YXJ0ID0gXy5taW4odGhhdC5ib29rY29uZmlnLmNoYXB0ZXJzLCBmdW5jdGlvbihjaGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXIucGFyYWdyYXBocy5zdGFydDtcbiAgICAgICAgICAgIH0pLnBhcmFncmFwaHMuc3RhcnQ7XG4gICAgICAgICAgICB0aGF0LmVuZCA9IF8ubWF4KHRoYXQuYm9va2NvbmZpZy5jaGFwdGVycywgZnVuY3Rpb24oY2hhcHRlcil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXB0ZXIucGFyYWdyYXBocy5lbmQ7XG4gICAgICAgICAgICB9KS5wYXJhZ3JhcGhzLmVuZDtcbiAgICAgICAgfVxuICAgICAgICAsIGdldEl0ZW1zIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2NvbGxlY3Rpb24nKS5tb2RlbHM7XG4gICAgICAgIH1cbiAgICAgICAgLCB0aWNrVmFsdWVzIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gXy5tYXAodGhpcy5ib29rY29uZmlnLmNoYXB0ZXJzLCBmdW5jdGlvbihjaGFwdGVyKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcHRlci5wYXJhZ3JhcGhzLnN0YXJ0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YWx1ZXMuc29ydChmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGEtYjsgfSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgICwgdGlja0Zvcm1hdCA6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgaSxjaGFwdGVyO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGF0LmJvb2tjb25maWcuY2hhcHRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcHRlciA9IHRoYXQuYm9va2NvbmZpZy5jaGFwdGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAgPD0gY2hhcHRlci5wYXJhZ3JhcGhzLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IGNoYXB0ZXIuY2hhcHRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJsYW5rIHRpY2sgZm9yIGVuZCBvZiBib29rXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocCA9PT0gdGhhdC5ib29rY29uZmlnLmNoYXB0ZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcblxuICAgICAgICAgICAgXy5maW5kSW5kZXgodGhpcy5nZXQoJ2NvbGxlY3Rpb24nKS5tb2RlbHMsIGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgICAgIHJldHVybiAoaXRlbS5jaWQgPT09IHRpbWVsaW5lSXRlbS5jaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWkpIHJldHVybjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgnY29sbGVjdGlvbicpLmdldChpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKFRpbWVsaW5lTW9kZWwucHJvdG90eXBlLEFzeW5jSW5pdCk7XG4gICAgcmV0dXJuIFRpbWVsaW5lTW9kZWw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdyb3V0ZXMvcm91dGVyJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ21vZGVscy9lcnJvci91c2VyJ1xuICAgICwgJ3ZpZXdzL2Vycm9yL3VzZXInXG4gICAgLCAndmlld3MvY2xlYXInXG4gICAgLCAnY29udHJvbGxlcnMvaXNzdWUnXG4gICAgLCAnY29udHJvbGxlcnMvbWFwJ1xuICAgICwgJ3ZpZXdzL21lbnUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldyxDbGVhclZpZXcsSXNzdWVDb250cm9sbGVyLE1hcENvbnRyb2xsZXIsTWVudVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJvdXRlciA9IEJhY2tib25lLlJvdXRlci5leHRlbmQoe1xuICAgICAgICAgIHBhZ2VzICAgOiB7fSAgIC8vIGNvbmZpZyBmb3Igc3VwcG9ydGVkIHBhZ2VzXG4gICAgICAgICwgY29uZmlnICA6IHt9ICAgLy8gZ2xvYmFsIHNpdGUgY29uZmlndXJhdGlvbiwgaS5lLiwgc2l0ZS5qc29uXG4gICAgICAgICwgaXNzdWVDb250cm9sbGVyIDogbnVsbCAvLyBJc3N1ZU1vZGVsIGZvciB0aGlzIGFwcFxuICAgICAgICAsIG1hcENvbnRyb2xsZXIgICA6IG51bGxcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCAgICA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG9wdHMuY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5wYWdlcyAgPSBvcHRzLmNvbmZpZy5wYWdlcztcbiAgICAgICAgICAgIHRoaXMuaXNzdWVDb250cm9sbGVyID0gbmV3IElzc3VlQ29udHJvbGxlcih7XG4gICAgICAgICAgICAgICAgICByb3V0ZXI6IHRoaXNcbiAgICAgICAgICAgICAgICAsIGNvbmZpZzogdGhpcy5jb25maWcgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVDb250cm9sbGVyLmluaXQoKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIHBhZ2VzLnJvdXRlci5oaXN0b3J5ID0gdHJ1ZSBieSBkZWZhdWx0LCBpZiBtaXNzaW5nXG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKHRoYXQucGFnZXMucm91dGVyLCdoaXN0b3J5JykgJiYgISF0aGF0LnBhZ2VzLnJvdXRlci5oaXN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIEJhY2tib25lLmhpc3Rvcnkuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAsIG5hdmlnYXRlOiBmdW5jdGlvbihmcmFnbWVudCxvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoQmFja2JvbmUuaGlzdG9yeS5mcmFnbWVudCA9PT0gZnJhZ21lbnQpIHJldHVybjtcbiAgICAgICAgICAgIEJhY2tib25lLmhpc3RvcnkubmF2aWdhdGUoZnJhZ21lbnQsb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLCBwYWdlOiBmdW5jdGlvbihwYWdlKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgcGFnZUNvbmZpZztcbiAgICAgICAgICAgIHZhciBtYXBQYWdlID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghcGFnZSkgcGFnZSA9IHRoaXMucGFnZXMuaG9tZTtcbiAgICAgICAgICAgICAgICBwYWdlQ29uZmlnID0gdGhpcy5wYWdlcy5wYWdlc1twYWdlXTtcbiAgICAgICAgICAgICAgICBpZiAocGFnZUNvbmZpZyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgY29uZmlnIGluIHJvdXRlci9wYWdlJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFnZSgnNDA0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXcgQ2xlYXJWaWV3KCkucmVuZGVyKCk7XG4gICAgICAgICAgICBfLmVhY2gocGFnZUNvbmZpZywgZnVuY3Rpb24ocGMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlld05hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB0aGF0LmNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAsIGlzc3VlOiAgdGhhdC5pc3N1ZUNvbnRyb2xsZXIubW9kZWxcbiAgICAgICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoYXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGNsb25lIGNvbmZpZyB0byBhdm9pZCBnbG9iYWwgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBjKSk7XG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKGNvbmZpZywgJ3ZpZXcnKSkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TmFtZSA9IGNvbmZpZy52aWV3O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5oYXMoY29uZmlnLCAncGFydGlhbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdOYW1lID0gJ3ZpZXdzL3BhcnRpYWwnO1xuICAgICAgICAgICAgICAgICAgICBjb25maWcucGFydGlhbC5wYWdlID0gdGhhdC5wYWdlcy5wYXRoQmFzZSArIGNvbmZpZy5wYXJ0aWFsLnBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBfLmV4dGVuZChhcmdzLGNvbmZpZy5wYXJ0aWFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF8uaGFzKGNvbmZnLCAnZnVsbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gY29uZmlnLmZ1bGwucGFnZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgcGFnZSB0eXBlIGluIHJvdXRlcjogJyArIHBhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmlld05hbWUgPT09ICd2aWV3cy9tYXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwQ29udHJvbGxlciA9IG5ldyBNYXBDb250cm9sbGVyKGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBtYXBQYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlKFt2aWV3TmFtZV0sIGZ1bmN0aW9uKFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ID0gbmV3IFZpZXcoYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghbWFwUGFnZSkgdGhhdC5tYXBDb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAsIGFydGljbGUgOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICBjb25maWc6IHRoYXQuY29uZmlnXG4gICAgICAgICAgICAgICAgLCBpc3N1ZTogIHRoYXQuaXNzdWVDb250cm9sbGVyLm1vZGVsXG4gICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoYXRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoJCgnI3RpdGxlcGFnZScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGl0bGVwYWdlJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJCgnI3BhZ2UnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnI3BhZ2UnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGF0Lm1hcENvbnRyb2xsZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcENvbnRyb2xsZXIgPSBuZXcgTWFwQ29udHJvbGxlcihhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgkKCcjbWVudScpLmNoaWxkcmVuKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV3IE1lbnVWaWV3KGFyZ3MpLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2VsZWN0IHRoZSBhcnRpY2xlIGluZGljYXRlZCBieSB0aGUgdXJsJ3Mgcm91dGUgb25seSBhZnRlclxuICAgICAgICAgICAgLy8gdGhlIG1hcCBoYXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIHRoYXQubWFwQ29udHJvbGxlci5pbml0KCkuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJ0aWNsZSA9IHRoYXQuaXNzdWVDb250cm9sbGVyLm1vZGVsLmdldEFydGljbGUoaWQpOyBcbiAgICAgICAgICAgICAgICBhcnRpY2xlLnRyaWdnZXIoJ2FjdGl2ZScsIGFydGljbGUpO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBSb3V0ZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCd2aWV3cy9hcHAnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgc2lnbmFsID0ge307XG4gICAgdmFyIEFwcFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFwcFZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2FydGljbGUnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAndmlld3MvYXJ0aWNsZS9nYWxsZXJ5J1xuICAgICwgJ21peGlucy94bWwyaHRtbCdcbiAgICAsICd0ZXh0IXhzbC9hcnRpY2xlLnhzbCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxHYWxsZXJ5VmlldyxYTUwySFRNTCx4c2wpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICBpZDogJ2FydGljbGUnLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGVsID0gJCgnIycgKyB0aGF0LmlkKTtcbiAgICAgICAgICAgIGlmICh0aGF0LiRlbC5maW5kKCcjJyArIHRoYXQubW9kZWwuY2lkKS5sZW5ndGggIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLnhtbDJodG1sKFxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KCd4bWwnKSwgeHNsLCBcbiAgICAgICAgICAgICAgICB7XCJhcnRpY2xlLWRpclwiOiB0aGF0LmNvbmZpZy5hcnRpY2xlcy5wYXRoQmFzZVxuICAgICAgICAgICAgICAgICwgXCJpY29uVXJsXCIgICAgOiB0aGF0Lm1vZGVsLmdldCgnaWNvblVybCcpXG4gICAgICAgICAgICAgICAgLCBcImNpZFwiICAgICAgICA6IHRoYXQubW9kZWwuY2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgJCgnLmFydGljbGUtY29udGVudCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJyMnK3RoaXMuaWQpLmFwcGVuZChodG1sKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFydGljbGUgbG9hZCBlcnJvcjogXCIgKyBlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCAkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbmV3IEdhbGxlcnlWaWV3KCkucmVuZGVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNmb290ZXInKS5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICQoJ2FydGljbGUnKS5yZW1vdmVDbGFzcygnYmVmb3JlLWZvb3RlcicpLmFkZENsYXNzKCduby1mb290ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoYXQuJGVsLmZpbmQoJy5hcnRpY2xlLW1hcmtlcicpLmNsaWNrKGZ1bmN0aW9uKGksZWx0KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5tb2RlbC50cmlnZ2VyKCd0b2dnbGUnLCB0aGF0Lm1vZGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7IC8qIHJldGFpbiAqL30sXG4gICAgfSk7XG4gICAgXy5leHRlbmQoQXJ0aWNsZVZpZXcucHJvdG90eXBlLFhNTDJIVE1MKTtcbiAgICByZXR1cm4gQXJ0aWNsZVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2NsZWFyJywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJyxcbiAgICAnYmFja2JvbmUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsdG1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQ2xlYXJWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICBlbDogJ2JvZHknLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnYm9keScpLmVtcHR5KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQ2xlYXJWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9pc3N1ZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL2lzc3VlLmh0bWwnXG4gICAgLCAndmlld3MvYXJ0aWNsZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSx0bXBsLEFydGljbGVWaWV3KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBJc3N1ZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAgICAgICAgICcjaXNzdWUnLFxuICAgICAgICB0ZW1wbGF0ZTogICBfLnRlbXBsYXRlKHRtcGwpLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCh0bXBsKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyQXJ0aWNsZTogZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgbmV3IEFydGljbGVWaWV3KHtcbiAgICAgICAgICAgICAgICAgIG1vZGVsOiAgYXJ0aWNsZVxuICAgICAgICAgICAgICAgICwgY29uZmlnOiB0aGlzLm1vZGVsLmNvbmZpZ1xuICAgICAgICAgICAgICAgICwgaXNzdWU6ICB0aGlzXG4gICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoaXMubW9kZWwucm91dGVyXG4gICAgICAgICAgICB9KS5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBJc3N1ZVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL21hcCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdsZWFmbGV0J1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFwLmh0bWwnXG4gICAgLCAndmlld3MvbWFya2VyJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsTCxtYXBQYXJ0aWFsLE1hcmtlclZpZXcsQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXBWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICAgIGlkOiAgICAgICdtYXAnXG4gICAgICAgICwgdGFnTmFtZTogJ2RpdidcbiAgICAgICAgLCBtYXJrZXJWaWV3czogW10gLy8gc3Vidmlld3NcbiAgICAgICAgLCBtYXBjb25maWc6IHt9XG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdGhhdC5tb2RlbCA9IGFyZ3MubW9kZWw7XG4gICAgICAgICAgICB0aGF0Lmlzc3VlID0gYXJncy5pc3N1ZTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseSh7fSxbdGhhdC5pc3N1ZS5pbml0KCksIHRoYXQubW9kZWwuaW5pdCgpXSkuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcGNvbmZpZyA9IHRoYXQubW9kZWwuZ2V0KCdtYXBjb25maWcnKTtcbiAgICAgICAgICAgICAgICBpZiAoJCgnIycgKyB0aGlzLmlkKS5sZW5ndGggPiAwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKCQoJyMnICsgdGhpcy5pZCkuY2hpbGRyZW4oKS5sZW5ndGggPiAwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhhdC5faW5pdE1hcCgpOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgX2luaXRNYXAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIGlmICgkKCcjJyArIHRoaXMuaWQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQobWFwUGFydGlhbCk7XG4gICAgICAgICAgICAgICAgdGhhdC5tYXAgPSBuZXcgTC5NYXAodGhhdC5tYXBjb25maWcuaWQsIHRoYXQubWFwY29uZmlnLm1hcCk7XG4gICAgICAgICAgICAgICAgbmV3IEwuVGlsZUxheWVyKHRoYXQubWFwY29uZmlnLnRpbGVMYXllci51cmwsIHRoYXQubWFwY29uZmlnLnRpbGVMYXllci5vcHRzKS5hZGRUbyh0aGF0Lm1hcCk7XG4gICAgICAgICAgICAgICAgbmV3IEwuY29udHJvbC5zY2FsZSh0aGF0Lm1hcGNvbmZpZy5zY2FsZSkuYWRkVG8odGhhdC5tYXApOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcmtlclZpZXdzID0gXy5tYXAodGhhdC5pc3N1ZS5nZXQoJ2NvbGxlY3Rpb24nKS5tb2RlbHMsIGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXJrZXJWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgICAgIDogYXJ0aWNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXAgICAgICAgOiB0aGF0Lm1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXBjb25maWcgOiB0aGF0Lm1hcGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAsIHJlbmV3Vmlld3MgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQubWFya2VyVmlld3MgPSBfLm1hcCh0aGF0Lmlzc3VlLmdldCgnY29sbGVjdGlvbicpLm1vZGVscywgZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgIGlmICghYXJ0aWNsZS5tYXJrZXJWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIGFydGljbGUubWFya2VyVmlldyA9IG5ldyBNYXJrZXJWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgICAgIDogYXJ0aWNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXAgICAgICAgOiB0aGF0Lm1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXBjb25maWcgOiB0aGF0Lm1hcGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFydGljbGUubWFya2VyVmlldztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXy5mb3JFYWNoKHRoYXQubWFya2VyVmlld3MsIGZ1bmN0aW9uKG12KSB7IG12LnJlbmRlcigpOyB9KTtcbiAgICAgICAgICAgIHRoYXQudHJpZ2dlcignbWFya2VycycsIHRoYXQubWFya2VyVmlld3MpO1xuICAgICAgICB9XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuX2luaXRNYXAoKTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCh0aGF0Lm1hcmtlclZpZXdzLCBmdW5jdGlvbihtdikgeyBtdi5yZW5kZXIoKSB9KTtcbiAgICAgICAgICAgIHRoYXQudHJpZ2dlcignbWFya2VycycsIHRoYXQubWFya2VyVmlld3MpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoTWFwVmlldy5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gTWFwVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvbWFya2VyJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFya2VyLmh0bWwnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9tYXJrZXItbGVnZW5kLmh0bWwnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsdG1wbCxsZWdlbmRQYXJ0aWFsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXJrZXJWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRtcGwpXG4gICAgICAgICwgZWw6ICcnXG4gICAgICAgICwgbWFya2VyTGF5ZXI6IG51bGxcbiAgICAgICAgLCBtYXA6IG51bGxcbiAgICAgICAgLCBtYXBjb25maWc6IG51bGxcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0Lm1hcCA9IGFyZ3MubWFwO1xuICAgICAgICAgICAgdGhhdC5tYXBjb25maWcgPSBhcmdzLm1hcGNvbmZpZztcbiAgICAgICAgICAgIHRoYXQuaW5pdE1hcmtlckxheWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLCBpbml0TWFya2VyTGF5ZXIgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICAgID0gdGhpcztcbiAgICAgICAgICAgIHZhciBnZW9qc29uID0gdGhpcy5tb2RlbC5nZXRHZW9qc29uKCk7XG4gICAgICAgICAgICB2YXIgaWNvbkNvbmZpZyA9IHRoYXQubWFwY29uZmlnLmZlYXR1cmVzLmljb247XG4gICAgICAgICAgICBpY29uQ29uZmlnLmljb25VcmwgPSAodGhpcy5tb2RlbC5nZXQoJ2ljb25VcmwnKSB8fCAnJyk7XG4gICAgICAgICAgICB2YXIgaWNvbiA9IEwuaWNvbihpY29uQ29uZmlnKTtcbiAgICAgICAgICAgIHRoYXQubWFya2VyTGF5ZXIgPSBMLmdlb0pzb24oZ2VvanNvbiwge1xuICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGZ1bmN0aW9uIChmZWF0dXJlLCBtYXBNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBwb3B1cCB0byB0aGlzIG1hcmtlclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9wdXAgPSBMLnBvcHVwKHRoYXQubWFwY29uZmlnLmZlYXR1cmVzLnBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgcG9wdXAuc2V0Q29udGVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGVpZDogIHRoYXQubW9kZWwuZ2V0KCdhcnRpY2xlaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9qc29uOiAgICB0aGF0Lm1vZGVsLmdldEdlb2pzb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLmJpbmRQb3B1cChwb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNsaWNrIGhhbmRsZXIgZm9yIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBtYXJrZXIsIHdoaWNoIHdvdWxkIGNsb3NlIHRoZSBwb3B1cCBpZiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyB3ZXJlIGFscmVhZHkgb3BlblxuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCdjbGljaycsIGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCdtb3VzZW92ZXInLCBldnQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBvaW50VG9MYXllcjogZnVuY3Rpb24gKGZlYXR1cmUsIGxhdGxuZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTC5tYXJrZXIobGF0bG5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb24gICAgICAgIDogaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgLCBjbGlja2FibGUgICA6ICEhZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICwgdGl0bGUgICAgICAgOiAoZmVhdHVyZS5wcm9wZXJ0aWVzLm1hcmtlcm5hbWUgfHwgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAsIG9wYWNpdHkgICAgIDogdGhhdC5tYXBjb25maWcuZmVhdHVyZXMub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLCByaXNlT25Ib3ZlciA6IHRoYXQubWFwY29uZmlnLmZlYXR1cmVzLnJpc2VPbkhvdmVyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VyTGF5ZXIuYWRkVG8odGhpcy5tYXApO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIE1hcmtlclZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL21lbnUnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9tZW51Lmh0bWwnXG4gICAgLCAnbWl4aW5zL2RvbXdhdGNoZXInXG4gICAgLCAndmlld3MvYXJ0aWNsZS9tZW51J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLG1lbnVUbXBsLERPTVdhdGNoZXIsQXJ0aWNsZU1lbnVWaWV3KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNZW51VmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUobWVudVRtcGwpLFxuICAgICAgICAgIGlkOiAgICAgICdtZW51J1xuICAgICAgICAsIHRhZ05hbWU6ICdkaXYnXG4gICAgICAgICwgaXNzdWU6ICAgbnVsbFxuICAgICAgICAsIGNvbmZpZzogIHt9XG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBhcmdzLmNvbmZpZztcbiAgICAgICAgICAgIHRoaXMuaXNzdWUgID0gYXJncy5pc3N1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIGlmICgkKCcjJyArIHRoYXQuaWQpLmNoaWxkcmVuKCkubGVuZ3RoICE9PSAwKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLmNvbmZpZy5tZW51O1xuICAgICAgICAgICAgLy8gcmVuZGVyIGVhY2ggaXRlbSBmcm9tIHRoZSBjb25maWcgZmlsZSB0byBhIDxsaT5cbiAgICAgICAgICAgIC8vIG11c3QgYmUgZG9uZSBhc3luYyBkdWUgdG8gcmV0cmlldmFsIG9mIHBhcnRpYWwgZmlsZXNcbiAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgIC8vIGNhY2hlIG9mIHRlbXBsYXRlIHN0cmluZ3M6IHVybCA9PiB0ZW1wbFxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb25zID0ge307XG4gICAgICAgICAgICBfLmVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlc1tpdGVtLnBhcnRpYWxdID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21lbnUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggaXRlbS5jb2xsZWN0aW9uID09PSBcImNvbGxlY3Rpb25zL2FydGljbGVzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25zW2l0ZW0uY29sbGVjdGlvbl0gPSB0aGF0Lmlzc3VlLmdldCgnY29sbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5oYW5kbGVkIGNvbGxlY3Rpb24gdHlwZSByZXF1ZXN0ZWQ6IFwiICsgaXRlbS5jb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXy5lYWNoKF8ua2V5cyh0ZW1wbGF0ZXMpLCBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgICAgICByZXF1aXJlKFsndGV4dCEnICsgdXJsXSwgZnVuY3Rpb24odGVtcGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVzW3VybF0gPSBfLnRlbXBsYXRlKHRlbXBsKTtcbiAgICAgICAgICAgICAgICAgICAgJGRlZi5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCgkZGVmLnByb21pc2UoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbmRlciB0aGUgbWVudSBhcyBhIDxkaXY+XG4gICAgICAgICAgICB2YXIgY29udGVudCA9ICcnO1xuICAgICAgICAgICAgJC53aGVuLmFwcGx5KCQsIHByb21pc2VzKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSxpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBpdGVtLnBhcnRpYWw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3J0ZXIgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YkNvbnRlbnQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvcnRLZXlzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdwYWdlJyB8fCBpdGVtLnR5cGUgPT09ICdzZXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9ICh0ZW1wbGF0ZXNbdXJsXSkoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnbWVudScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25zW2l0ZW0uY29sbGVjdGlvbl0ubW9kZWxzLmZvckVhY2goZnVuY3Rpb24obW9kZWwsaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBocmVmICAgID0gaXRlbS5pdGVtLmhyZWYucmVwbGFjZSgnOmknLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW12ICAgICA9IG5ldyBBcnRpY2xlTWVudVZpZXcoe21vZGVsOm1vZGVsfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCAgPSBhbXYucmVuZGVyKHtocmVmOiAnIycgKyBocmVmfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRsaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIGFuIDxsaT4gZWxlbWVudCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaSA9ICQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5ub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGkgPSAkKHJlc3VsdC5pbm5lckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5ub2RlTmFtZSA9PT0gJ0xJJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpID0gJChyZXN1bHQub3V0ZXJIVE1MKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZG9jdW1lbnQgZWxlbWVudCBmb3Igc3VibWVudTogJyArIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgcmVzdWx0IHR5cGUgZm9yIHN1Ym1lbnU6ICcgKyByZXN1bHQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbGkuYXR0cignZGF0YS1zb3J0LWtleScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlclskbGkuYXR0cignZGF0YS1zb3J0LWtleScpXSA9ICRsaS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlclskbGkuZmluZCgnYScpLnRleHQoKV0gPSAkbGkuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRLZXlzID0gXy5rZXlzKHNvcnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0S2V5cy5zb3J0KGZ1bmN0aW9uKGEsYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChzb3J0S2V5cywgZnVuY3Rpb24oa2V5KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJDb250ZW50ICs9IHNvcnRlcltrZXldWzBdLm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCArPSAodGVtcGxhdGVzW3VybF0pKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogc3ViQ29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyB0aGF0LmlkKS5lbXB0eSgpLmFwcGVuZCh0aGF0LnRlbXBsYXRlKHtjb250ZW50OiBjb250ZW50fSkpO1xuICAgICAgICAgICAgICAgIC8vIGNvbmZpcm0gdGhhdCB0aGUgbWVudSBoYXMgbG9hZGVkXG4gICAgICAgICAgICAgICAgdmFyICRmYWlsRGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgICAgICRmYWlsRGVmLmZhaWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGF0LndhdGNoRE9NKDUwMCwgJyMnICsgdGhhdC5pZCwgJGZhaWxEZWYpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gYnVpbGQgbWVudS5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKE1lbnVWaWV3LnByb3RvdHlwZSxET01XYXRjaGVyKTtcbiAgICByZXR1cm4gTWVudVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL3BhZ2UnLCBbXG4gICAgJ2pxdWVyeScsIFxuICAgICd1bmRlcnNjb3JlJywgXG4gICAgJ2JhY2tib25lJyxcbiAgICAnbWl4aW5zL2RvbXdhdGNoZXInLFxuICAgICd0ZXh0IXBhcnRpYWxzL3BhZ2UuaHRtbCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxET01XYXRjaGVyLHBhZ2UpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFBhZ2VWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICBlbDogJ2JvZHknLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciAkZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgJGRlZi50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhhdC5lbCkuYXBwZW5kKHBhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndhdGNoRE9NKDEwMDAsdGhhdC5lbCwkZGVmKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKFBhZ2VWaWV3LnByb3RvdHlwZSxET01XYXRjaGVyKTtcbiAgICByZXR1cm4gUGFnZVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL3BhcnRpYWwnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnbWl4aW5zL2RvbXdhdGNoZXInXG4gICAgLCAnbWl4aW5zL2FzeW5jSW5pdCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxET01XYXRjaGVyLEFzeW5jSW5pdCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUGFydGlhbFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnJyxcbiAgICAgICAgcGFnZTogJycsXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmVsICAgPSBvcHRzLmVsO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgcmVxdWlyZShbJ3RleHQhJyArIG9wdHMucGFnZV0sIGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnBhZ2UgPSBodG1sO1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyICR3YXRjaERlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRoYXQuaW5pdCgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGF0LmVsKS5hcHBlbmQodGhhdC5wYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy53YXRjaERPTSgxMDAwLHRoYXQuZWwsJHdhdGNoRGVmKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKFBhcnRpYWxWaWV3LnByb3RvdHlwZSxET01XYXRjaGVyKTtcbiAgICBfLmV4dGVuZChQYXJ0aWFsVmlldy5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gUGFydGlhbFZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL3RpbWVsaW5lJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ2xlYWZsZXQnXG4gICAgLCAndGV4dCFwYXJ0aWFscy90aW1lbGluZS5odG1sJ1xuICAgICwgJ2NvbnRyb2xzL0wuQ29udHJvbC5UaW1lbGluZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxMLHRpbWVsaW5lQ29udHJvbFBhcnRpYWwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFRpbWVsaW5lVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICBpZDogJ3RpbWVsaW5lJ1xuICAgICAgICAsIG1hcDogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQubWFwID0gYXJncy5tYXA7XG4gICAgICAgIH1cbiAgICAgICAgLCByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgJCgnLmxlYWZsZXQtdG9wLmxlYWZsZXQtbGVmdCcpLmFwcGVuZCh0aW1lbGluZUNvbnRyb2xQYXJ0aWFsKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoYXQubW9kZWwuaW5pdCgpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC50aW1lbGluZSA9IEwuY29udHJvbC50aW1lbGluZSh7XG4gICAgICAgICAgICAgICAgICAgIG9uOiB7IGJydXNoZW5kOiBmdW5jdGlvbihhKSB7IHRoYXQuaGFuZGxlRmlsdGVyKGEpOyB9fVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQudGltZWxpbmUuYWRkRGF0YSh0aGF0Lm1vZGVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgaGFuZGxlRmlsdGVyIDogZnVuY3Rpb24oc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZmlsdGVyJywgc2VsZWN0ZWQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFRpbWVsaW5lVmlldztcbn0pO1xuXG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCdjb250cm9sbGVycy9tYXAvbGF5ZXInLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnY29udHJvbGxlcnMvcHJvdG90eXBlJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFya2VyLWxlZ2VuZC5odG1sJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLENvbnRyb2xsZXIsbGVnZW5kUGFydGlhbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFwTGF5ZXJDb250cm9sbGVyID0gQ29udHJvbGxlci5leHRlbmQoe1xuICAgICAgICAgIHZpZXdzICA6IG51bGxcbiAgICAgICAgLCByb3V0ZXIgOiBudWxsXG4gICAgICAgICwgbWFwICAgIDogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQudmlld3MgPSBhcmdzLnZpZXdzO1xuICAgICAgICAgICAgdGhhdC5tYXAgPSBhcmdzLm1hcDtcbiAgICAgICAgICAgIHRoYXQubWFwY29uZmlnID0gYXJncy5tYXBjb25maWc7ICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgbGVnZW5kVGVtcGwgPSBfLnRlbXBsYXRlKGxlZ2VuZFBhcnRpYWwpO1xuICAgICAgICAgICAgdmFyIGxheWVyTWFya2VycyA9IF8uZ3JvdXBCeSh0aGF0LnZpZXdzLCBmdW5jdGlvbihtYXJrZXJWaWV3KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFya2VyVmlldy5tb2RlbC5nZXRHZW9qc29uKCkucHJvcGVydGllcy5sYXllcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSBMLmNvbnRyb2wubGF5ZXJzKG51bGwsIG51bGwsIHRoYXQubWFwY29uZmlnLmNvbnRyb2wubGF5ZXJzLm9wdGlvbnMpLmFkZFRvKHRoYXQubWFwKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIF8uZWFjaChfLmtleXMobGF5ZXJNYXJrZXJzKSwgZnVuY3Rpb24obGF5ZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtsYXNzID0gbGF5ZXJOYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJMZWdlbmQgPSBsZWdlbmRUZW1wbCh7XG4gICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogbGF5ZXJNYXJrZXJzW2xheWVyTmFtZV1bMF0ubW9kZWwuZ2V0KCdpY29uVXJsJylcbiAgICAgICAgICAgICAgICAgICAgLCB0aXRsZSAgOiBsYXllck5hbWVcbiAgICAgICAgICAgICAgICAgICAgLCBrbGFzcyAgOiBrbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJMYXllcnMgPSBfLm1hcChsYXllck1hcmtlcnNbbGF5ZXJOYW1lXSwgZnVuY3Rpb24odmlldyl7IHJldHVybiB2aWV3Lm1hcmtlckxheWVyOyB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBMLmxheWVyR3JvdXAobWFya2VyTGF5ZXJzKTtcbiAgICAgICAgICAgICAgICBjb250cm9sLmFkZE92ZXJsYXkobGF5ZXIsbGF5ZXJMZWdlbmQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCdpbnB1dC5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNlbGVjdG9yJykuZWFjaChmdW5jdGlvbihpLGVsdCkge1xuICAgICAgICAgICAgICAgJChlbHQpLmNsaWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBNYXBMYXllckNvbnRyb2xsZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ2NvbnRyb2xsZXJzL21hcC9wYW4nLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnY29udHJvbGxlcnMvcHJvdG90eXBlJ1xuICAgICwgJ21peGlucy9kb213YXRjaGVyJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLENvbnRyb2xsZXIsRE9NV2F0Y2hlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFwUGFuQ29udHJvbGxlciA9IENvbnRyb2xsZXIuZXh0ZW5kKHtcbiAgICAgICAgICBtYXA6IG51bGxcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLm1hcCA9IGFyZ3MubWFwO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1hcClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmluaXRpYWxpemVkIG1hcFwiKTtcbiAgICAgICAgfVxuICAgICAgICAsIF9maXRNYXJrZXJCb3VuZHMgOiBmdW5jdGlvbihtYXJrZXJWaWV3cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGVsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnRpY2xlJyk7XG4gICAgICAgICAgICBpZiAoIWVsdCkgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGVkZ2VQdFggPSBMLkRvbVV0aWwuZ2V0Vmlld3BvcnRPZmZzZXQoZWx0KS54O1xuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IEwubGF0TG5nQm91bmRzKF8ubWFwKG1hcmtlclZpZXdzLGZ1bmN0aW9uKG1hcmtlclZpZXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG5nTGF0ID0gbWFya2VyVmlldy5tb2RlbC5nZXRHZW9qc29uKCkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEwubGF0TG5nKGxuZ0xhdC5yZXZlcnNlKCkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKGVkZ2VQdFggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWRnZVB0WCAhPSB0aGF0Lm1hcC5nZXRTaXplKCkueCkge1xuICAgICAgICAgICAgICAgIC8vIG1hcCB1bmRlcm5lYXRoIGFydGljbGVcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcC5maXRCb3VuZHMoYm91bmRzLCB7XG4gICAgICAgICAgICAgICAgICAgICdwYWRkaW5nQm90dG9tUmlnaHQnIDogW2RvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLSBlZGdlUHRYLDBdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBiZXNpZGUgYXJ0aWNsZVxuICAgICAgICAgICAgICAgIHRoYXQubWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhhdC5tYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGp1c3QgbWFwIHBhbi96b29tIHRvIG1ha2UgYWxsIG1hcCBtYXJrZXJzIG9jY3VyIHRvIHRoZSBcbiAgICAgICAgLy8gbGVmdCBvZiBkaXYjYXJ0aWNsZSBpbiB3aWRlIG1vZGVcbiAgICAgICAgLCBmaXRNYXJrZXJCb3VuZHMgOiBmdW5jdGlvbihtYXJrZXJWaWV3cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyICRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkZGVmLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fZml0TWFya2VyQm91bmRzKG1hcmtlclZpZXdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy53YXRjaERPTSgxMDAwLCcjYXJ0aWNsZScsJGRlZik7XG4gICAgICAgIH1cbiAgICAgICAgLCBoYW5kbGVQb3B1cFBvc2l0aW9uIDogZnVuY3Rpb24ocG9wdXApIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBtYXAgPSB0aGF0Lm1hcDtcbiAgICAgICAgICAgIHZhciBpZCA9ICQocG9wdXAuZ2V0Q29udGVudCgpKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgdmFyIGVkZ2VQdFgsICRwb3B1cFdyYXAsIHBvcHVwTGF0TG5nLCBwb3B1cFJpZ2h0WCwgcGFkO1xuICAgICAgICAgICAgcG9wdXBMYXRMbmcgPSBwb3B1cC5nZXRMYXRMbmcoKTtcbiAgICAgICAgICAgIGlmIChwb3B1cExhdExuZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBlZGdlUHRYID0gTC5Eb21VdGlsLmdldFZpZXdwb3J0T2Zmc2V0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnRpY2xlJykpLng7XG4gICAgICAgICAgICAvLyBtYXAgc2hvdWxkIHBhbiByaWdodC9lYXN0IGlmIHRoZSBwb3B1cCBiYWxsb29uIGlzIGNvdmVyZWQgYnkgdGhlIGFydGljbGU7XG4gICAgICAgICAgICAvLyBwYWQgaXMgYSBzbGlnaHQgcmVsaWVmIGJldHdlZW4gdGhlIHBvcHVwIGFuZCB0aGUgYXJ0aWNsZVxuICAgICAgICAgICAgJHBvcHVwV3JhcCA9ICQoJyMnICsgaWQpLmNsb3Nlc3QoJy5sZWFmbGV0LXBvcHVwLWNvbnRlbnQtd3JhcHBlcicpLmZpcnN0KCk7XG4gICAgICAgICAgICBwYWQgPSBMLnBvaW50KHBvcHVwLm9wdGlvbnMuYXV0b1BhblBhZGRpbmdCb3R0b21SaWdodCB8fCBwb3B1cC5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKTtcbiAgICAgICAgICAgIHBhZCA9IHBhZCA/IHBhZC54IDogMDtcbiAgICAgICAgICAgIHBvcHVwUmlnaHRYID0gKCRwb3B1cFdyYXAubGVuZ3RoID4gMCkgXG4gICAgICAgICAgICAgICAgPyAkcG9wdXBXcmFwLm9mZnNldCgpLmxlZnQgKyAkcG9wdXBXcmFwLndpZHRoKCkgKyBwYWRcbiAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICBpZiAoZWRnZVB0WCAhPSAwICYmIHBvcHVwUmlnaHRYID4gZWRnZVB0WCAmJiBlZGdlUHRYICE9IG1hcC5nZXRTaXplKCkueCkge1xuICAgICAgICAgICAgICAgIG1hcC5wYW5CeShbcG9wdXBSaWdodFggLSBlZGdlUHRYLDBdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1hcC5nZXRCb3VuZHMoKS5jb250YWlucyhwb3B1cC5nZXRMYXRMbmcoKSkpIHtcbiAgICAgICAgICAgICAgICBtYXAuY2xvc2VQb3B1cChwb3B1cCk7XG4gICAgICAgICAgICAgICAgbWFwLm9wZW5Qb3B1cChwb3B1cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChNYXBQYW5Db250cm9sbGVyLnByb3RvdHlwZSxET01XYXRjaGVyKTtcbiAgICByZXR1cm4gTWFwUGFuQ29udHJvbGxlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgnY29udHJvbGxlcnMvbWFwL3RpbWVsaW5lJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ2NvbnRyb2xsZXJzL3Byb3RvdHlwZSdcbiAgICAsICd2aWV3cy90aW1lbGluZSdcbiAgICAsICdtb2RlbHMvdGltZWxpbmUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQ29udHJvbGxlcixUaW1lbGluZVZpZXcsVGltZWxpbmVNb2RlbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFwVGltZWxpbmVDb250cm9sbGVyID0gQ29udHJvbGxlci5leHRlbmQoe1xuICAgICAgICAgIG1hcCAgICA6IG51bGxcbiAgICAgICAgLCBtb2RlbCAgOiBudWxsXG4gICAgICAgICwgdmlldyAgIDogbnVsbFxuICAgICAgICAsIHNpdGVjb25maWc6IG51bGxcbiAgICAgICAgLCBtYXJrZXJWaWV3czogbnVsbFxuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQudmlld3MgPSBhcmdzLnZpZXdzO1xuICAgICAgICAgICAgdGhhdC5tYXAgPSBhcmdzLm1hcDtcbiAgICAgICAgICAgIHRoYXQubWFya2VyVmlld3MgPSBhcmdzLm1hcmtlclZpZXdzO1xuICAgICAgICAgICAgXy5mb3JFYWNoKGFyZ3MubWFya2VyVmlld3MsIGZ1bmN0aW9uKG1hcmtlclZpZXcpe1xuICAgICAgICAgICAgICAgIHRoYXQubGlzdGVuVG8obWFya2VyVmlldy5tb2RlbCwgJ3Nob3cnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdnZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC5saXN0ZW5UbyhtYXJrZXJWaWV3Lm1vZGVsLCAnaGlkZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhhdC5tb2RlbCA9IG5ldyBUaW1lbGluZU1vZGVsKHtcbiAgICAgICAgICAgICAgICAgIHNpdGVjb25maWcgIDogYXJncy5zaXRlY29uZmlnXG4gICAgICAgICAgICAgICAgLCBtYXJrZXJWaWV3cyA6IGFyZ3MubWFya2VyVmlld3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhhdC52aWV3ID0gbmV3IFRpbWVsaW5lVmlldyh7XG4gICAgICAgICAgICAgICAgICBtb2RlbCA6IHRoYXQubW9kZWxcbiAgICAgICAgICAgICAgICAsIG1hcCAgIDogdGhhdC5tYXBcbiAgICAgICAgICAgICAgICAsIG1hcmtlclZpZXdzIDogYXJncy5tYXJrZXJWaWV3c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByZXN1bHRzLmNsZWFyIGlzIGEgZmxhZyB0aGF0IHRoZSBicnVzaCBpcyBlbXB0eVxuICAgICAgICAgICAgLy8gcmVzdWx0cy5pbmNsIGlzIGFuIGFycmF5IG9mIE1hcFRpbWVsaW5lSXRlbSdzXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIHNob3cvaGlkZSBvbiBsaXN0cyBvZiBBcnRpY2xlTW9kZWwnc1xuICAgICAgICAgICAgdGhhdC5saXN0ZW5Ubyh0aGF0LnZpZXcsICdmaWx0ZXInLCBmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNob3dNb2RlbHMsIGhpZGVNb2RlbHMsIHNob3dJZHMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5jbGVhcikge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kZWxzID0gXy5tYXAodGhhdC5tYXJrZXJWaWV3cywgZnVuY3Rpb24obWFya2VyVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcmtlclZpZXc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3Nob3cnLCBzaG93TW9kZWxzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kZWxzID0gXy5tYXAocmVzdWx0cy5zZWxlY3RlZCwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0lkc1tpdGVtLm1hcmtlclZpZXcubW9kZWwuY2lkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm1hcmtlclZpZXc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTW9kZWxzID0gXy5maWx0ZXIodGhhdC5tYXJrZXJWaWV3cywgZnVuY3Rpb24obWFya2VyVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEobWFya2VyVmlldy5tb2RlbC5jaWQgaW4gc2hvd0lkcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGlkZU1vZGVscy5sZW5ndGggPiAwKSB0aGlzLnRyaWdnZXIoJ2hpZGUnLCBoaWRlTW9kZWxzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd01vZGVscy5sZW5ndGggPiAwKSB0aGlzLnRyaWdnZXIoJ3Nob3cnLCBzaG93TW9kZWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoYXQudmlldy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBNYXBUaW1lbGluZUNvbnRyb2xsZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtb2RlbHMvZXJyb3IvdXNlcicsIFtcbiAgICAnYmFja2JvbmUnXG5dLCBmdW5jdGlvbihCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgVXNlckVycm9yTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgXCJtc2dcIiA6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdGhpcy5zZXQoJ21zZycsIGFyZ3MubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9KTsgICAgXG4gICAgcmV0dXJuIFVzZXJFcnJvck1vZGVsO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbW9kZWxzL3RpbWVsaW5lL2l0ZW0nLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFRpbWVsaW5lSXRlbU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgICBtYXJrZXJWaWV3OiBudWxsXG4gICAgICAgICwgc3RhcnQ6IG51bGwgICAgICAgLy8gXCJhYnNvbHV0ZVwiIHN0YXJ0IChpZSwgcGFyYWdyYXBoIGluZGV4IHcvbyBjaGFwdGVyKVxuICAgICAgICAsIGVuZDogbnVsbCAgICAgICAgIC8vIFwiYWJzb2x1dGVcIiBlbmRcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0Lm1hcmtlclZpZXcgPSBhcmdzLm1hcmtlclZpZXc7XG4gICAgICAgICAgICB0aGF0LnN0YXJ0ID0gYXJncy5zdGFydDtcbiAgICAgICAgICAgIHRoYXQuZW5kID0gYXJncy5lbmQ7XG4gICAgICAgIH1cbiAgICAgICAgLCBkdXJhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbmQtdGhpcy5zdGFydDtcbiAgICAgICAgfVxuICAgICAgICAsIGNvbXBhcmVUbzogZnVuY3Rpb24oYikge1xuICAgICAgICAgICAgcmV0dXJuIFxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFRpbWVsaW5lSXRlbU1vZGVsO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9hcnRpY2xlL2dhbGxlcnknLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAndmlld3MvYXJ0aWNsZS9nYWxsZXJ5L3BvcG92ZXInXG4gICAgLCAndmlld3MvYXJ0aWNsZS9nYWxsZXJ5L2xpZ2h0Ym94J1xuICAgICwgJ3ZpZXdzL2FydGljbGUvZ2FsbGVyeS9zbGlkZXMnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQXJ0aWNsZUdhbGxlcnlQb3BvdmVyVmlldyxBcnRpY2xlR2FsbGVyeUxpZ2h0Ym94VmlldyxBcnRpY2xlR2FsbGVyeVNsaWRlc1ZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVHYWxsZXJ5VmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICBpZDogJ2FydGljbGUnXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7fVxuICAgICAgICAsIHJlbW92ZTogZnVuY3Rpb24oKSB7IC8qIHJldGFpbiAqL31cbiAgICAgICAgLCByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIC8vIGFkanVzdCBoZWlnaHQgb2YgYXJ0aWNsZSBib2R5XG4gICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgaW4gY3NzXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJCgnI2FydGljbGUgYXJ0aWNsZScpLmhlaWdodCgpIC0gJCgnI2hlYWRlcicpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgICAgJCgnI2JvZHknKS5jc3Moe2hlaWdodDpoZWlnaHR9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gcmVtb3ZlIGltYWdlcyB0aGF0IGZhaWwgdG8gbG9hZCwgc2luY2Ugd2UgY2Fubm90IGRvXG4gICAgICAgICAgICAvLyBhIGZpbGUgdGVzdCB3aGVuIHJ1bm5pbmcgdGhlIHhzbFxuICAgICAgICAgICAgdmFyIGRlZnMgPSBbXTtcbiAgICAgICAgICAgICQoJ2ltZy5zbGlkZXNqcy1zbGlkZScpLmVhY2goZnVuY3Rpb24oaSxpbWcpe1xuICAgICAgICAgICAgICAgIHZhciAkZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgICAgICQoaW1nKS5sb2FkKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQoaW1nKS5yZW1vdmVDbGFzcygncmVtb3ZlJyk7XG4gICAgICAgICAgICAgICAgICAgICRkZWYucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoaW1nKS5lcnJvcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBzb21lIHRpbWUgYmVmb3JlIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkZWZzLnB1c2goJGRlZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseSh7fSxkZWZzKS5hbHdheXMoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKCdpbWcuc2xpZGVzanMtc2xpZGUucmVtb3ZlJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgJCgnLmltYWdlLWxvYWRpbmcnKS5yZW1vdmVDbGFzcygnaW1hZ2UtbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIG5ldyBBcnRpY2xlR2FsbGVyeVBvcG92ZXJWaWV3KCkucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgbmV3IEFydGljbGVHYWxsZXJ5TGlnaHRib3hWaWV3KCkucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgbmV3IEFydGljbGVHYWxsZXJ5U2xpZGVzVmlldygpLnJlbmRlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQXJ0aWNsZUdhbGxlcnlWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuLypcbiAqIFRoaXMgaXMgbWVhbnQgdG8gYmUgZXh0ZW5kZWQgYXMgYW4gYWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgdGhlXG4gKiBzZWN0aW9ucyBvZiBhbiBhcnRpY2xlLlxuICovXG5kZWZpbmUoJ3ZpZXdzL2FydGljbGUvbWVudScsIFtcbiAgICAnanF1ZXJ5JywgXG4gICAgJ3VuZGVyc2NvcmUnLCBcbiAgICAnYmFja2JvbmUnLFxuICAgICdtaXhpbnMveG1sMmh0bWwnLFxuICAgICd0ZXh0IXhzbC9hcnRpY2xlLW1lbnUueHNsJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLFhNTDJIVE1MLGFtWHNsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcnRpY2xlTWVudVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAvLyB0aGlzIHZpZXcgaXMgbWVhbnQgdG8gYmUgY2FsbGVkIG9ubHkgYWZ0ZXIgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgICAgICAgIC8vIGFydGljbGUgbW9kZWwgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmluaXQoKS5zdGF0ZSgpICE9PSAncmVzb2x2ZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJVbmluaXRpYWxpemVkIGFydGljbGUgaW4gQXJ0aWNsZU1lbnVWaWV3XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWVudWl0ZW0gPSB0aGF0LnhtbDJodG1sKHRoYXQubW9kZWwuZ2V0KCd4bWwnKSwgYW1Yc2wsIHBhcmFtcyk7XG4gICAgICAgICAgICByZXR1cm4gbWVudWl0ZW07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChBcnRpY2xlTWVudVZpZXcucHJvdG90eXBlLFhNTDJIVE1MKTtcbiAgICByZXR1cm4gQXJ0aWNsZU1lbnVWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9lcnJvci91c2VyJywgW1xuICAgICdqcXVlcnknLCBcbiAgICAnYmFja2JvbmUnLCBcbiAgICAndGV4dCFwYXJ0aWFscy9lcnJvci91c2VyLmh0bWwnXG5dLCBmdW5jdGlvbigkLEJhY2tib25lLHRtcGwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFVzZXJFcnJvclZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRtcGwpLFxuICAgICAgICBlbDogJCgnI2Vycm9yRGlhbG9nJyksXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKHRoaXMubW9kZWwuYXR0cmlidXRlcykpO1xuICAgICAgICAgICAgdGhpcy4kZWwubW9kYWwoe2tleWJvYXJkOiB0cnVlLCBzaG93OiB0cnVlfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBVc2VyRXJyb3JWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9hcnRpY2xlL2dhbGxlcnkvbGlnaHRib3gnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9saWdodGJveC10aXRsZS5odG1sJ1xuICAgICwgJ2xpZ2h0Ym94J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLGxpZ2h0Ym94VGl0bGVUZW1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQXJ0aWNsZUdhbGxlcnlMaWdodGJveFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgICAgaWQ6ICdhcnRpY2xlJ1xuICAgICAgICAsIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge31cbiAgICAgICAgLCByZW1vdmU6IGZ1bmN0aW9uKCkgeyAvKiByZXRhaW4gKi99XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAkKCcuZ2FsbGVyeS1pdGVtJykubWFnbmlmaWNQb3B1cCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgICAgICBnYWxsZXJ5OntcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVTcmM6IGZ1bmN0aW9uKCRpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSAkaXRlbS5lbC5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRwbyA9ICQoJy5wb3BvdmVyLicgKyBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGN0ID0gXy50ZW1wbGF0ZShsaWdodGJveFRpdGxlVGVtcGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBwY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkcG8uZmluZCgnLmhlYWQnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogJHBvLmZpbmQoJy5hdHRyJykudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcuZ2x5cGhpY29uLmdseXBoaWNvbi1leHBhbmQnKS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpe1xuICAgICAgICAgICAgICAgICQoJy5nYWxsZXJ5LWl0ZW0nKS5tYWduaWZpY1BvcHVwKCdvcGVuJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFydGljbGVHYWxsZXJ5TGlnaHRib3hWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9hcnRpY2xlL2dhbGxlcnkvcG9wb3ZlcicsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL2ltYWdlLXBvcG92ZXIuaHRtbCdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL2ltYWdlLXBvcG92ZXItY29udGVudC5odG1sJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLHBvcG92ZXJUZW1wbCxwb3BvdmVyQ29udGVudFRlbXBsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcnRpY2xlR2FsbGVyeVBvcG92ZXJWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICAgIGlkOiAnYXJ0aWNsZSdcbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICwgcmVtb3ZlOiBmdW5jdGlvbigpIHsgLyogcmV0YWluICovfVxuICAgICAgICAsIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgLy8gYWRkIHBvcG92ZXJzIHRvIGltYWdlc1xuICAgICAgICAgICAgdmFyIHBjdCA9IF8udGVtcGxhdGUocG9wb3ZlckNvbnRlbnRUZW1wbCk7XG4gICAgICAgICAgICAkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5lYWNoKGZ1bmN0aW9uKGksZWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gZWx0LmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgICAgICAgICB2YXIgJHBvID0gJCgnLnBvcG92ZXIuJyArIGlkKTtcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSAkcG8uZmluZCgnLmhlYWQnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgJChlbHQpLmF0dHIoJ2FsdCcsICRwby5maW5kKCcuZGVzYycpLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBwY3Qoe1xuICAgICAgICAgICAgICAgICAgICBhdHRyOiAkcG8uZmluZCgnLmF0dHInKS50ZXh0KClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGVsdCkucG9wb3Zlcih7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogXCJib2R5XCIsXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBwb3BvdmVyVGVtcGwsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IFwiaG92ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcImxlZnRcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoZWx0KS5jbGljayhmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbHQpLnBvcG92ZXIoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQXJ0aWNsZUdhbGxlcnlQb3BvdmVyVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvYXJ0aWNsZS9nYWxsZXJ5L3NsaWRlcycsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL2ltYWdlLXBvcG92ZXIuaHRtbCdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL2ltYWdlLXBvcG92ZXItY29udGVudC5odG1sJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvbGlnaHRib3gtdGl0bGUuaHRtbCdcbiAgICAsICdzbGlkZXNqcydcbiAgICAsICdsaWdodGJveCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxwb3BvdmVyVGVtcGwscG9wb3ZlckNvbnRlbnRUZW1wbCxsaWdodGJveFRpdGxlVGVtcGwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVHYWxsZXJ5U2xpZGVzVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgICBpZDogJ2FydGljbGUnXG4gICAgICAgICwgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7fVxuICAgICAgICAsIHJlbW92ZTogZnVuY3Rpb24oKSB7IC8qIHJldGFpbiAqL31cbiAgICAgICAgLCByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIC8vIGNvbmZpZ3VyZSBzbGlkZXNqczsgdXAgdG8gbm93LCAnZGlzcGxheTpub25lJ1xuICAgICAgICAgICAgLy8gaGFzIGFwcGxpZWRcbiAgICAgICAgICAgICQoXCIjc2xpZGVzXCIpLnNsaWRlc2pzKHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCQoJ2ltZy5zbGlkZXNqcy1zbGlkZScpLmxlbmd0aCA+IDEpLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6IFwiZmFkZVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCQoJ2ltZy5zbGlkZXNqcy1zbGlkZScpLmxlbmd0aCA+IDEpLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6IFwiZmFkZVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgZmFkZToge1xuICAgICAgICAgICAgICAgICAgICAgIHNwZWVkOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgY3Jvc3NmYWRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBvbiBsb2FkIG9mIGZpcnN0IHBpY1xuICAgICAgICAgICAgICAgICAgICBsb2FkZWQ6IGZ1bmN0aW9uKG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkKFwiLnNsaWRlc2pzLWNvbnRyb2xcIikuY2hpbGRyZW4oJzplcSgnKyAobnVtYmVyIC0gMSkgKyAnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5jc3Moe3Zpc2liaWxpdHk6IFwiaGlkZGVuXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCB3aWR0aDogICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWF4SGVpZ2h0OiAkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWF4V2lkdGg6ICAkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS53aWR0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBwb3NpdGlvbjogIFwicmVsYXRpdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9ICgkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS53aWR0aCgpIC0gJGltZy53aWR0aCgpKS8yO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCAtPSBwYXJzZUludCgkaW1nLmNzcygncGFkZGluZy1sZWZ0JyksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHsgbGVmdDogbGVmdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHsgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBzdGFydCBvZiBjaGFuZ2Ugb2YgcGljIChhZnRlciBmaXJzdClcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5zbGlkZXNqcy1jb250cm9sXCIpLmNoaWxkcmVuKCkuY3NzKHt2aXNpYmlsaXR5OiBcImhpZGRlblwifSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBlbmQgb2YgY2hhbmdlIG9mIHBpYyAoYWZ0ZXIgZmlyc3QpXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihudW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbWcgPSBudW1iZXIgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkKFwiLnNsaWRlc2pzLWNvbnRyb2xcIikuY2hpbGRyZW4oJzplcSgnKyBuZXdJbWcgKyAnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHdpZHRoOiAgJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXhIZWlnaHQ6ICQoXCIuc2xpZGVzanMtY29udGFpbmVyXCIpLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXhXaWR0aDogICQoXCIuc2xpZGVzanMtY29udGFpbmVyXCIpLndpZHRoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHBvc2l0aW9uOiAgXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHsgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFydGljbGVHYWxsZXJ5U2xpZGVzVmlldztcbn0pO1xuIiwicmVxdWlyZS5jb25maWcoe1xuICBwYXRoczoge1xuICAgICAgYmFja2JvbmUgIDogJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2JhY2tib25lLmpzLzEuMS4yL2JhY2tib25lLW1pbidcbiAgICAsIGJvb3RzdHJhcCA6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy90d2l0dGVyLWJvb3RzdHJhcC8zLjMuNS9qcy9ib290c3RyYXAubWluJ1xuICAgIC8vLCBkMyAgICAgICAgOiAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZDMvMy41LjYvZDMubWluJ1xuICAgIFxuICAgICwgZDMgICAgICAgIDogJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2QzLzMuNS42L2QzJ1xuICAgIFxuICAgICwganF1ZXJ5ICAgIDogJy8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4nXG4gICAgLy8sIGxlYWZsZXQgICA6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0LzAuNy4zL2xlYWZsZXQnXG4gICAgXG4gICAgLCBsZWFmbGV0ICAgOiAnbGVhZmxldC1zcmMnXG4gICAgXG4gICAgLCBsaWdodGJveCAgOiAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbWFnbmlmaWMtcG9wdXAuanMvMS4wLjAvanF1ZXJ5Lm1hZ25pZmljLXBvcHVwLm1pbidcbiAgICAsIHNsaWRlc2pzICA6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9zbGlkZXNqcy8zLjAvanF1ZXJ5LnNsaWRlcy5taW4nXG4gICAgLCB0ZXh0ICAgICAgOiAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcmVxdWlyZS10ZXh0LzIuMC4xMi90ZXh0Lm1pbidcbiAgICAsIHVuZGVyc2NvcmU6ICcvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy91bmRlcnNjb3JlLmpzLzEuOC4zL3VuZGVyc2NvcmUtbWluJ1xuICAgICwgcGFydGlhbHMgIDogJy4uL3BhcnRpYWxzJ1xuICAgICwgeHNsICAgICAgIDogJy4uL3NjcmlwdC94c2wnXG4gICAgLCBwYWdlcyAgICAgOiAnLi4vcGFnZXMnXG4gIH0sXG4gIHNoaW06IHtcbiAgICBib290c3RyYXA6IHtcbiAgICAgIGRlcHM6IFsnanF1ZXJ5J11cbiAgICB9LFxuICAgIGJhY2tib25lOiB7XG4gICAgICAgICdkZXBzJzogWydqcXVlcnknLCAndW5kZXJzY29yZSddLFxuICAgICAgICAnZXhwb3J0cyc6ICdCYWNrYm9uZSdcbiAgICB9LFxuICAgIHVuZGVyc2NvcmU6IHtcbiAgICAgICAgJ2V4cG9ydHMnOiAnXydcbiAgICB9LFxuICAgIHRleHQ6IHtcbiAgICAgICAgJ2RlcHMnOiBbXVxuICAgIH0sXG4gICAgc2xpZGVzanM6IHtcbiAgICAgICAgZGVwczogWydqcXVlcnknXVxuICAgIH0sXG4gICAgbGlnaHRib3g6IHtcbiAgICAgIGRlcHM6IFsnanF1ZXJ5J11cbiAgICB9XG4gIH1cbn0pO1xucmVxdWlyZShbXG4gICAgJ2pxdWVyeScsXG4gICAgJ21vZGVscy9lcnJvci91c2VyJyxcbiAgICAndmlld3MvZXJyb3IvdXNlcicsXG4gICAgJ3JvdXRlcy9yb3V0ZXInLFxuICAgICd2aWV3cy9hcHAnLFxuICAgICdib290c3RyYXAnXG5dLCBmdW5jdGlvbigkLFVzZXJFcnJvck1vZGVsLFVzZXJFcnJvclZpZXcsUm91dGVyLEFwcFZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGNvbmZpZ2ZpbGUgPSAkKCcjbWFpbicpLmF0dHIoJ2RhdGEtY29uZmlnJyk7XG4gICAgaWYgKGNvbmZpZ2ZpbGUpIHtcbiAgICAgICAgJC5nZXRKU09OKGNvbmZpZ2ZpbGUsIGZ1bmN0aW9uKHNpdGVjb25maWcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmV3IEFwcFZpZXcoKTtcbiAgICAgICAgICAgICAgICBuZXcgUm91dGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICByb3V0ZXM6IHNpdGVjb25maWcucGFnZXMucm91dGVzXG4gICAgICAgICAgICAgICAgICAgICwgY29uZmlnOiBzaXRlY29uZmlnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaXRlY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVc2VyRXJyb3JWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBuZXcgVXNlckVycm9yTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oanF4aHIsIHRleHRTdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICBuZXcgVXNlckVycm9yVmlldyh7XG4gICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogXCJGYWlsZWQgdG8gbG9hZCBzaXRlIGNvbmZpZyBmaWxlICdcIiArIGNvbmZpZ2ZpbGUgKyBcIicgXCIgKyBlcnJvclxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IFVzZXJFcnJvclZpZXcoe1xuICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgbXNnOiBcIk5vIGNvbmZpZ3VyYXRpb24gZmlsZW5hbWUgc3BlY2lmaWVkIGluIGhvbWUgcGFnZS5cIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=