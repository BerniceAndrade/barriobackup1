define("collections/articles",["jquery","underscore","backbone","models/article"],function(e,c,n,o){"use strict";var r=n.Collection.extend({model:o});return r});
define("collections/markers",["jquery","underscore","backbone","models/marker"],function(e,r,n,o){"use strict";var c=n.Collection.extend({model:o});return c});


define("mixins/asyncInit",["jquery","underscore"],function(n,e){"use strict";var i={$def:null,init:function(){return this.$def.promise()}};return i});
define("mixins/domwatcher",["jquery"],function(e){"use strict";var t={watchDOM:function(t,o,n){if(!o)throw"Empty selector in watchDOM()";if(0===e(o).length){var d=function(){e(o).length>0&&(e(document.body).off("DOMNodeInserted",d),n.resolve())};e(document.body).on("DOMNodeInserted",d),window.setTimeout(function(){e(document.body).off("DOMNodeInserted",d),n.reject()},t)}else n.resolve()}};return t});
define("mixins/fetchxml",["jquery"],function(e){"use strict";var r={fetchXML:function(r){var t=e.Deferred();return e.ajax({type:"GET",url:r,dataType:"xml",success:function(e){t.resolve(e)},error:function(e,r,n){t.reject()}}),t.promise()}};return r});
define("mixins/xml2html",["jquery","underscore"],function(e,t){"use strict";var r={_doc:function(e){var t;if("string"==typeof e)t=(new DOMParser).parseFromString(e,"text/xml");else{if(!(e instanceof Document))throw new Error("Unrecognized document input in XML2HTML");t=e}if(null==t||!t.hasOwnProperty("getElementsByTagName")&&t.getElementsByTagName("parsererror").length>0)throw new Error("Failed to parse document in xml2html");return t},xml2html:function(e,r,n,o){var i=this._doc(e),m=this._doc(r),a=new XSLTProcessor;a.importStylesheet(m),"object"==typeof n&&t.each(t.keys(n),function(e){a.setParameter(null,e,n[e])});var s;try{var c=a.transformToDocument(i);s=-1!=navigator.userAgent.indexOf("Firefox")?"text"===o?c.documentElement.textContent:c.documentElement:"text"===o?c.documentElement.textContent:s=c.body.innerHTML}catch(u){throw new Error("Error in XSLT transform: "+u.toString())}return s}};return r});
define("models/app",["jquery","underscore","backbone","routes/router","models/issue"],function(e,n,o,i,r){"use strict";var s=o.Model.extend({initialize:function(e){var n=new r({config:e.config});new i({routes:e.config.pages.routes,config:e.config,issue:n})}});return s});
define("models/article",["jquery","underscore","backbone","mixins/fetchxml","mixins/asyncInit","mixins/xml2html","text!xsl/geojson.xsl"],function(e,t,n,o,i,s,r){"use strict";var l=n.Model.extend({initialize:function(){var t=this;t.$def=e.Deferred();var n=t.fetchXML(t.get("path"));e.when(n).done(function(e){t.set("xml",e),t._mkGeojson(),null!==t.geojson&&t.set("placeType",t.geojson.properties.layer),t.$def.resolve(t)}).fail(function(){t.$def.reject()})},defaults:{xml:null,placeType:null,iconUrl:""},select:function(){this.trigger("active")},unselect:function(){this.trigger("inactive")},toggle:function(){this.trigger("toggle")},geojson:null,getGeojson:function(){return null===this.geojson&&this._mkGeojson(),this.geojson},_mkGeojson:function(){try{var e=this.xml2html(this.get("xml"),r,{},"text");this.geojson=JSON.parse(e)}catch(t){throw new Error("Failed to parse to json: "+t.toString())}}});return t.extend(l.prototype,o),t.extend(l.prototype,i),t.extend(l.prototype,s),l});
define("models/issue",["jquery","underscore","backbone","models/article","collections/articles","mixins/asyncInit"],function(e,t,i,n,c,l){"use strict";var r=i.Model.extend({initialize:function(i){var l=this;l.$def=e.Deferred();var r=i.config.articles.pathBase;r.match(/\/$/)||(r+="/");var a=i.config.articles.files,o=new c;l.config=i.config,l.set("collection",o);var s=t.map(t.range(a.length),function(){return void 0});t.each(a,function(e,t){s[t]=new n({articleid:t,articledir:r,path:r+e})});var f=t.map(s,function(e){return e.init()});e.when({},f).fail(function(){l.$def.reject()}),e.when.apply(null,f).done(function(){o.add(s),l.on("select",function(e){l._selectArticle(e)}),l.$def.resolve(l)}),e.when.apply(null,f).always(function(){t.forEach(f,function(e){"rejected"===e.state()&&l.$def.reject()}),l.$def.resolve(l)})},defaults:{activeArticle:null},_selectArticle:function(e){var t,i=this,n=i.get("collection");if("object"==typeof e)t=e;else{if("number"!=typeof e&&"string"!=typeof e)throw"Bad argument to models/issue";t=n.at(e)}(null===this.get("activeArticle")||this.get("activeArticle")!=e)&&(this.get("activeArticle")&&this.get("activeArticle").unselect(),i.set("activeArticle",t),t.init().done(function(){i.trigger("update",t),t.select()}))}});return t.extend(r.prototype,l),r});
define("models/map",["jquery","underscore","backbone","collections/markers","models/marker","mixins/asyncInit"],function(e,o,n,i,r,t){"use strict";var s=n.Model.extend({initialize:function(o){var n=this;if(n.$def=e.Deferred(),n.issue=o.issue,n.set("siteconfig",o.config),void 0===n.issue)throw new Error("Missing issue model in map model");if(n.set("router",o.router),!o.router)throw new Error("No router in MapModel");var i=e.Deferred();e.getJSON(o.config.map.config,function(e){n.set("mapconfig",e),i.resolve()}).fail(function(e,o,n){i.reject(),console.log("Failed to load map config file: "+n)}),e.when.apply({},[n.issue.init(),i]).done(function(){n._makeCollection(n.issue.get("collection").models,{success:function(){n.$def.resolve(n)},fail:function(){n.$def.reject()}})}).fail(function(){n.$def.reject()}).always(function(){n.$def.reject()})},defaults:{mapconfig:{},siteconfig:{},iconUrls:{}},_makeCollection:function(e,n){var t=this,s=new i;t.set("collection",s);var c=new Array(e.length),f=!1,a="",l=t.get("iconUrls"),u=t.attributes.siteconfig.markers.icons,d=o.shuffle(o.flatten(o.map(u,function(e){return o.map(e.files,function(o){return e.dir.concat(o)})})));if(e.forEach(function(e,o){var n=e.getGeojson()||{properties:{}},i=n.properties.layer;l[i]=l[i]||d.pop(),e.set("iconUrl",l[i])}),e.forEach(function(e,o){var n;try{n=new r({issue:t.issue,article:e,json:e.getGeojson(),router:t.router,iconUrl:l[e.get("placeType")]})}catch(i){return f=!0,void(a+="\n"+i.toString())}c[o]=n}),f)throw n.fail(),new Error(a);s.add(c),n.success()}});return o.extend(s.prototype,t),s});
define("models/marker",["jquery","underscore","backbone"],function(e,t,i){"use strict";var r=i.Model.extend({article:null,json:{},initialize:function(e){var t=this;t.app=e.app,t.article=e.article,t.router=e.router,e.issue.init().done(function(e){t.listenTo(t.article,"active",function(){t.trigger("active")}),t.listenTo(t.article,"toggle",function(){t.trigger("toggle")})})}});return r});
define("routes/router",["jquery","underscore","backbone","models/error/user","views/error/user","views/clear","views/issue","views/map","views/menu"],function(e,i,r,n,s,t,a,o,u){"use strict";var g=r.Router.extend({pages:{},config:{},issue:null,mapView:null,initialize:function(e){var n=this;this.config=e.config,this.pages=e.config.pages,this.issue=e.issue,this.issue.init().done(function(){i.has(n.pages.router,"history")&&n.pages.router.history&&r.history.start()})},navigate:function(e,i){r.history.fragment!==e&&r.history.navigate(e,i)},page:function(e){var r,n=this;try{if(e||(e=this.pages.home),r=this.pages.pages[e],void 0===r)throw new Error("Missing config in router/page")}catch(s){return this.page("404")}(new t).render(),i.each(r,function(r){var s,t={config:n.config,issue:n.issue,router:n},a=JSON.parse(JSON.stringify(r));if(i.has(a,"view"))s=a.view;else{if(!i.has(a,"partial")){if(i.has(confg,"full"))return void(window.location.href=a.full.page);throw new Error("Unsupported page type in router: "+e)}s="views/partial",a.partial.page=n.pages.pathBase+a.partial.page,t=i.extend(t,a.partial)}require([s],function(e){var i=new e(t);"views/map"===s&&(n.mapView=i),i.render()})})},article:function(i){var r=this,n={config:r.config,issue:r.issue,router:r};if(e("#titlepage").length>0&&e("#titlepage").remove(),0===e("#issue").length){var s=new a(n);s.render()}if(0===e("#map").length&&(r.mapView=new o(n),r.mapView.render()),0===e("#menu").children().length){var t=new u(n);t.render()}e.when.apply({},[r.mapView.init()]).done(function(){r.issue.trigger("select",i)})}});return g});
define("views/app",["jquery","underscore","backbone"],function(e,n,i){"use strict";var o=i.View.extend({el:"body",initialize:function(){e(window).resize(function(){document.location.reload()})}});return o});
define("views/article",["jquery","underscore","backbone","mixins/domwatcher","mixins/xml2html","text!xsl/article.xsl","text!partials/image-popover.html","text!partials/image-popover-content.html","text!partials/lightbox-title.html","slidesjs","lightbox"],function(e,t,i,l,s,o,r,a,n){"use strict";var c=i.View.extend({id:"article",legendClass:"",initialize:function(e){var t=this;t.config=e.config,t.legendClass="."+t.model.attributes.placeType.replace(/\s+/g,"-")},render:function(){var t=this;if(t.$el=e("#"+t.id),0===t.$el.find("#"+t.model.cid).length){var i=this.xml2html(this.model.get("xml"),o,{"article-dir":t.config.articles.pathBase,iconUrl:t.model.get("iconUrl"),cid:t.model.cid});try{e(".article-content").remove(),e("#"+this.id).append(i)}catch(l){console.log("article load error: "+l.toString())}if(0===e("img.slidesjs-slide").length)e("#footer").remove(),e("article").removeClass("before-footer").addClass("no-footer");else try{t.postprocess()}catch(l){throw new Error("Failed to handle article images")}return t.$el.find(".article-marker").click(function(e,i){t.model.toggle()}),t}},remove:function(){},postprocess:function(){var i=this,l=e("#article article").height()-e("#header").outerHeight(!0);e("#body").css({height:l});var s=t.template(a);e("img.slidesjs-slide").each(function(t,i){var l=i.getAttribute("id"),o=e(".popover."+l),a=o.find(".head").text();e(i).attr("alt",o.find(".desc").text());var n=s({attr:o.find(".attr").text()});e(i).popover({container:"body",html:!0,content:n,title:a,template:r,trigger:"hover",placement:"left"}),e(i).click(function(t){e(i).popover("hide")})});var o=[];return i.$el.find("img.slidesjs-slide").each(function(t,i){var l=e.Deferred();e(i).load(function(){e(i).removeClass("remove"),l.resolve()}),e(i).error(function(){window.setTimeout(function(){l.reject()},500)}),o.push(l)}),e.when.apply({},o).always(function(){e("img.slidesjs-slide.remove").remove(),e(".image-loading").removeClass("image-loading"),e("#slides").slidesjs({navigation:{active:e("img.slidesjs-slide").length>1,effect:"fade"},pagination:{active:e("img.slidesjs-slide").length>1,effect:"fade"},effect:{fade:{speed:100,crossfade:!0}},callback:{loaded:function(t){var i=e(".slidesjs-control").children(":eq("+(t-1)+")");i.css({visibility:"hidden"}),i.css({height:"auto",width:"auto",maxHeight:e(".slidesjs-container").height(),maxWidth:e(".slidesjs-container").width(),position:"relative"});var l=(e(".slidesjs-container").width()-i.width())/2;l-=parseInt(i.css("padding-left"),10),i.css({left:l}),i.css({visibility:"visible"})},start:function(t){e(".slidesjs-control").children().css({visibility:"hidden"})},complete:function(t){var i=t-1,l=e(".slidesjs-control").children(":eq("+i+")");l.css({height:"auto",width:"auto",maxHeight:e(".slidesjs-container").height(),maxWidth:e(".slidesjs-container").width(),position:"relative"}),l.css({visibility:"visible"})}}})}),e(".gallery-item").magnificPopup({type:"image",gallery:{enabled:!0},image:{titleSrc:function(i){var l=i.el.attr("id"),s=e(".popover."+l),o=t.template(n),r=o({title:s.find(".head").text(),attr:s.find(".attr").text()});return r}}}),e(".glyphicon.glyphicon-expand").on("click",function(t){e(".gallery-item").magnificPopup("open")}),i}});return t.extend(c.prototype,l),t.extend(c.prototype,s),c});
define("views/clear",["jquery","underscore","backbone"],function(e,n,r,t){"use strict";var c=r.View.extend({el:"body",render:function(){e("body").empty()}});return c});
define("views/issue",["jquery","underscore","backbone","text!partials/issue.html","views/article"],function(e,i,t,n,o){"use strict";var r=t.View.extend({el:"#issue",template:i.template(n),initialize:function(e){var i=this;i.model=e.issue,i.model.on("update",function(e){i.select(e)})},render:function(){this.$el.remove(),e("body").append(n)},select:function(e){var i=this,t=new o({model:e,config:i.model.config,issue:i,router:i.model.router});e.on("active",t.render,t),e.on("inactive",t.remove,t)}});return r});
define("views/map",["jquery","underscore","backbone","leaflet","text!partials/map.html","text!partials/marker-legend.html","models/map","views/marker","mixins/asyncInit"],function(e,t,o,n,r,i,a,p,l){"use strict";var c=o.View.extend({id:"map",tagName:"div",initialize:function(t){var o=this;o.$def=e.Deferred(),o.config=t.config,o.model=new a(t),o.router=t.router},render:function(){var o=this;e("#"+o.id).children().length>0||(e("body").append(r),this.model.init().done(function(){var e=o.model.get("collection"),r=o.model.get("mapconfig"),a=new n.Map(r.id,r.map),p=t.template(i),l={},c={},u={},s=function(e){return e.lat.toString()+e.lng.toString()};o.configureMap(a,r,l,s,e.models),e.forEach(function(e){var t=e.get("json")||{properties:{}},i=(t.properties.layer,r.features.icon);i.iconUrl=e.get("iconUrl")||"";var p=n.icon(i);o.addMarkerToLayer(e,a,l,s,r,c,p,i.iconUrl)}),t.each(t.keys(c),function(e){var t=e.replace(/\s+/g,"-"),r=p({iconUrl:o.model.get("iconUrls")[e],title:e,klass:t});u[r]=n.layerGroup(c[e])}),o.addLayerControl(u,r.control.layers.options,a),o.$def.resolve(o)}))},addLayerControl:function(t,o,r){n.control.layers(null,t,o).addTo(r),e("input.leaflet-control-layers-selector").each(function(t,o){e(o).click()})},configureMap:function(e,o,r,i,a){var p,l,c,u,s;p=this,l=new n.TileLayer(o.tileLayer.url,o.tileLayer.opts),c=n.control.scale(o.scale),e.addLayer(l),c.addTo(e),s=n.DomUtil.getViewportOffset(document.getElementById("article")).x,u=n.latLngBounds(t.map(a,function(e){var t=e.get("json").geometry.coordinates.slice(0);return n.latLng(t.reverse())})),0===s?e.fitBounds(u):s!=e.getSize().x?e.fitBounds(u,{paddingBottomRight:[document.body.clientWidth-s,0]}):e.fitBounds(u),e.invalidateSize(),e.on("popupopen",function(t){var o=t.popup,n=o.getLatLng();p.handlePopupPosition(e,o),r[i(n)]=-1!=navigator.userAgent.indexOf("Firefox")?!0:!0}),e.on("popupclose",function(e){r[i(e.popup.getLatLng())]=-1!=navigator.userAgent.indexOf("Firefox")?!1:!1})},handlePopupPosition:function(t,o){var r,i,a,p,l;a=o.getLatLng(),void 0!==a&&(r=n.DomUtil.getViewportOffset(document.getElementById("article")).x,i=e(o.getContent()).closest(".leaflet-popup-content-wrapper").first(),l=n.point(o.options.autoPanPaddingBottomRight||o.options.autoPanPadding),l=l?l.x:0,p=i.offset().left+i.width()+l,0!=r&&p>r&&r!=t.getSize().x?t.panBy([p-r,0]):t.getBounds().contains(o.getLatLng())||(t.closePopup(o),t.openPopup(o)))},addMarkerToLayer:function(e,o,r,i,a,l,c,u){var s=this,d=e.get("json"),g=new p({model:e,router:s.router});g.on("active",function(){s.handlePopupPosition(o,g.popup)}),g.on("toggle",function(){g.mapMarker.togglePopup()}),g.render(),n.geoJson(d,{onEachFeature:function(o,p){var c=n.popup(a.features.popup);g.popup=c,g.mapMarker=p,c.setContent(g.el),p.bindPopup(c),p.removeEventListener("click"),p.on("click",function(){e.trigger("active")}),p.on("mouseover",function(){s.config.map.hoverPopup&&(r[i(p.getLatLng())]||p.openPopup())}),e.on("active",function(e){r[i(p.getLatLng())]||p.openPopup()}),r[i(p.getLatLng())]=!1,t.has(l,d.properties.layer)?l[d.properties.layer].push(p):l[d.properties.layer]=[p]},pointToLayer:function(e,t){return n.marker(t,{icon:c,clickable:!!e.properties.text,title:e.properties.markername||"",opacity:a.features.opacity,riseOnHover:a.features.riseOnHover})}})}});return t.extend(c.prototype,l),c});
define("views/marker",["jquery","underscore","backbone","text!partials/marker.html"],function(e,t,r,i){"use strict";var l=r.View.extend({template:t.template(i),el:"",router:null,popup:null,mapMarker:null,legendClass:"",initialize:function(e){var t=this;t.router=e.router,t.model.on("active",function(){var e="article/"+t.model.article.get("articleid");t.router.navigate(e,{trigger:!0}),t.trigger("active")}),t.model.on("toggle",function(){t.trigger("toggle")})},render:function(){this.$el.html(this.template({articleid:this.model.article.get("articleid"),geojson:this.model.article.getGeojson()}))}});return l});
define("views/menu",["jquery","underscore","backbone","text!partials/menu.html","mixins/domwatcher","views/article/menu"],function(e,t,n,i,r,o){"use strict";var a=n.View.extend({template:t.template(i),id:"menu",tagName:"div",issue:null,config:{},initialize:function(e){this.config=e.config,this.issue=e.issue},render:function(){var n=this;if(0===e("#"+n.id).children().length){var i=this.config.menu,r=[],a={},c={};t.each(i,function(e){if(a[e.partial]="","menu"===e.type){if("collections/articles"!==e.collection)throw new Error("Unhandled collection type requested: "+e.collection);c[e.collection]=n.issue.get("collection")}}),t.each(t.keys(a),function(n){var i=e.Deferred();require(["text!"+n],function(e){a[n]=t.template(e),i.resolve()}),r.push(i.promise())});var l="";e.when.apply(e,r).done(function(){t.forEach(i,function(n,i){var r=n.partial,u={},s="",f=[];"page"===n.type||"sep"===n.type?l+=a[r](n):"menu"===n.type&&(c[n.collection].models.forEach(function(t,i){var r,a=n.item.href.replace(":i",i),c=new o({model:t}),l=c.render({href:"#"+a});if("string"==typeof l)r=e(l);else{if(!(l instanceof Element))throw new Error("Unsupported result type for submenu: "+l.toString());if("BODY"===l.nodeName)r=e(l.innerHTML);else{if("LI"!==l.nodeName)throw new Error("Unsupported document element for submenu: "+l.toString());r=e(l.outerHTML)}}r.attr("data-sort-key")?u[r.attr("data-sort-key")]=r.clone():u[r.find("a").text()]=r.clone()}),f=t.keys(u),f.sort(function(e,t){return e.localeCompare(t)}),t.each(f,function(e){s+=u[e][0].outerHTML}),l+=a[r]({label:n.label,items:s}))})}).then(function(){e("#"+n.id).empty().append(n.template({content:l}));var t=e.Deferred();t.fail(function(){n.render()}),n.watchDOM(500,"#"+n.id,t)}).fail(function(){throw new Error("Failed to build menu.")})}}});return t.extend(a.prototype,r),a});
define("views/page",["jquery","underscore","backbone","mixins/domwatcher","text!partials/page.html"],function(e,t,n,r,i){"use strict";var a=n.View.extend({el:"body",render:function(){var t=this,n=e.Deferred();n.then(function(){e(t.el).append(i)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,r),a});
define("views/partial",["jquery","underscore","backbone","mixins/domwatcher","mixins/asyncInit"],function(e,t,n,i,r){"use strict";var a=n.View.extend({el:"",page:"",initialize:function(t){var n=this;n.el=t.el,n.$def=e.Deferred(),require(["text!"+t.page],function(e){n.page=e,n.$def.resolve(n)})},render:function(){var t=this,n=e.Deferred();t.init().then(function(){e(t.el).append(t.page)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,i),t.extend(a.prototype,r),a});


define("models/error/user",["backbone"],function(e){"use strict";var s=e.Model.extend({defaults:{msg:""},initialize:function(e){this.set("msg",e.message)}});return s});
define("views/article/menu",["jquery","underscore","backbone","mixins/xml2html","text!xsl/article-menu.xsl"],function(e,t,i,n,r){"use strict";var l=i.View.extend({render:function(e){var t=this;if("resolved"!==this.model.init().state())throw"Uninitialized article in ArticleMenuView";var i=t.xml2html(t.model.get("xml"),r,e);return i}});return t.extend(l.prototype,n),l});
define("views/error/user",["jquery","backbone","text!partials/error/user.html"],function(e,t,r){"use strict";var i=t.View.extend({template:_.template(r),el:e("#errorDialog"),initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$el.modal({keyboard:!0,show:!0}),this}});return i});
require.config({paths:{text:"//cdnjs.cloudflare.com/ajax/libs/require-text/2.0.12/text.min",jquery:"//code.jquery.com/jquery-2.1.4.min",bootstrap:"//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min",backbone:"//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min",underscore:"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min",leaflet:"//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet",slidesjs:"//cdnjs.cloudflare.com/ajax/libs/slidesjs/3.0/jquery.slides.min",lightbox:"//cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.0/jquery.magnific-popup.min",partials:"../partials",xsl:"../script/xsl",pages:"../pages"},shim:{bootstrap:{deps:["jquery"]},backbone:{deps:["jquery","underscore"],exports:"Backbone"},underscore:{exports:"_"},text:{deps:[]},slidesjs:{deps:["jquery"]},lightbox:{deps:["jquery"]}}}),require(["jquery","models/error/user","views/error/user","models/app","views/app","bootstrap"],function(e,s,o,r,a){"use strict";var i=e("#main").attr("data-config");i?e.getJSON(i,function(e){try{{new a({model:new r({config:e})})}}catch(i){opts.config.debug||new o({model:new s({msg:i.toString()})})}}).fail(function(e,r,a){new o({model:new s({msg:"Failed to load site config file '"+i+"' "+a})})}):new o({model:new s({msg:"No configuration filename specified in home page."})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbGxlY3Rpb25zL2FydGljbGVzLmpzIiwiY29sbGVjdGlvbnMvbWFya2Vycy5qcyIsImNvbnRyb2xsZXJzL2lzc3VlLmpzIiwiY29udHJvbGxlcnMvbWFwLmpzIiwibWl4aW5zL2FzeW5jSW5pdC5qcyIsIm1peGlucy9kb213YXRjaGVyLmpzIiwibWl4aW5zL2ZldGNoeG1sLmpzIiwibWl4aW5zL3htbDJodG1sLmpzIiwibW9kZWxzL2FwcC5qcyIsIm1vZGVscy9hcnRpY2xlLmpzIiwibW9kZWxzL2lzc3VlLmpzIiwibW9kZWxzL21hcC5qcyIsIm1vZGVscy9tYXJrZXIuanMiLCJyb3V0ZXMvcm91dGVyLmpzIiwidmlld3MvYXBwLmpzIiwidmlld3MvYXJ0aWNsZS5qcyIsInZpZXdzL2NsZWFyLmpzIiwidmlld3MvaXNzdWUuanMiLCJ2aWV3cy9tYXAuanMiLCJ2aWV3cy9tYXJrZXIuanMiLCJ2aWV3cy9tZW51LmpzIiwidmlld3MvcGFnZS5qcyIsInZpZXdzL3BhcnRpYWwuanMiLCJjb250cm9sbGVycy9tYXAvbGF5ZXIuanMiLCJjb250cm9sbGVycy9tYXAvbWFya2VyLmpzIiwibW9kZWxzL2Vycm9yL3VzZXIuanMiLCJ2aWV3cy9hcnRpY2xlL21lbnUuanMiLCJ2aWV3cy9lcnJvci91c2VyLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCIkIiwiXyIsIkJhY2tib25lIiwiQXJ0aWNsZU1vZGVsIiwiQXJ0aWNsZXNDb2xsZWN0aW9uIiwiQ29sbGVjdGlvbiIsImV4dGVuZCIsIm1vZGVsIiwiTWFya2VyTW9kZWwiLCJNYXJrZXJzQ29sbGVjdGlvbiIsIkFzeW5jSW5pdCIsIiRkZWYiLCJpbml0IiwidGhpcyIsInByb21pc2UiLCJET01XYXRjaGVyIiwid2F0Y2hET00iLCJtcyIsInNlbCIsImxlbmd0aCIsImYiLCJkb2N1bWVudCIsImJvZHkiLCJvZmYiLCJyZXNvbHZlIiwib24iLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwicmVqZWN0IiwiRmV0Y2hYTUwiLCJmZXRjaFhNTCIsInVybCIsIiRnZXQiLCJEZWZlcnJlZCIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwiZGF0YSIsImVycm9yIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJYTUwySFRNTCIsIl9kb2MiLCJ4bWwiLCJ4bWxEb2MiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJEb2N1bWVudCIsIkVycm9yIiwiaGFzT3duUHJvcGVydHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInhtbDJodG1sIiwieHNsIiwicGFyYW1zIiwibW9kZSIsInhzbERvYyIsInhzbHRQcm9jZXNzb3IiLCJYU0xUUHJvY2Vzc29yIiwiaW1wb3J0U3R5bGVzaGVldCIsImVhY2giLCJrZXlzIiwia2V5Iiwic2V0UGFyYW1ldGVyIiwicmVzdWx0IiwiZG9jIiwidHJhbnNmb3JtVG9Eb2N1bWVudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJkb2N1bWVudEVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImlubmVySFRNTCIsImUiLCJ0b1N0cmluZyIsIlJvdXRlciIsIklzc3VlTW9kZWwiLCJBcHBNb2RlbCIsIk1vZGVsIiwiaW5pdGlhbGl6ZSIsIm9wdHMiLCJpc3N1ZSIsImNvbmZpZyIsInJvdXRlcyIsInBhZ2VzIiwiZ2VvSnNvblhzbCIsInRoYXQiLCJnZXQiLCJ3aGVuIiwiZG9uZSIsInNldCIsIl9ta0dlb2pzb24iLCJnZW9qc29uIiwicHJvcGVydGllcyIsImxheWVyIiwiZmFpbCIsImRlZmF1bHRzIiwicGxhY2VUeXBlIiwiaWNvblVybCIsInNlbGVjdCIsInRyaWdnZXIiLCJ1bnNlbGVjdCIsInRvZ2dsZSIsImdldEdlb2pzb24iLCJqc29uU3RyaW5nIiwiSlNPTiIsInBhcnNlIiwicHJvdG90eXBlIiwiQXJ0aWNsZUNvbGxlY3Rpb24iLCJhcmdzIiwiYXJ0ZGlyIiwiYXJ0aWNsZXMiLCJwYXRoQmFzZSIsIm1hdGNoIiwiZmlsZXMiLCJjb2wiLCJtYXAiLCJyYW5nZSIsInVuZGVmaW5lZCIsImZpbGUiLCJpIiwiYXJ0aWNsZWlkIiwiYXJ0aWNsZWRpciIsInBhdGgiLCJpbml0cyIsImFydGljbGUiLCJhcHBseSIsImFkZCIsIl9zZWxlY3RBcnRpY2xlIiwiYWx3YXlzIiwiZm9yRWFjaCIsIiRwcm9taXNlIiwic3RhdGUiLCJhY3RpdmVBcnRpY2xlIiwiYXJ0IiwiYXQiLCJNYXBNb2RlbCIsInJvdXRlciIsIiRjb25maWdEZWYiLCJnZXRKU09OIiwianF4aHIiLCJjb25zb2xlIiwibG9nIiwiX21ha2VDb2xsZWN0aW9uIiwibW9kZWxzIiwibWFwY29uZmlnIiwic2l0ZWNvbmZpZyIsImljb25VcmxzIiwiY2JzIiwibWFya2VycyIsIkFycmF5IiwiZXJyb3JNc2ciLCJpY29ucyIsImljY29uZmlnIiwiYXR0cmlidXRlcyIsImljb25GaWxlcyIsInNodWZmbGUiLCJmbGF0dGVuIiwiZW50cnkiLCJkaXIiLCJjb25jYXQiLCJwb3AiLCJtbSIsImpzb24iLCJhcHAiLCJsaXN0ZW5UbyIsIlVzZXJFcnJvck1vZGVsIiwiVXNlckVycm9yVmlldyIsIkNsZWFyVmlldyIsIklzc3VlVmlldyIsIk1hcFZpZXciLCJNZW51VmlldyIsIm1hcFZpZXciLCJoYXMiLCJoaXN0b3J5Iiwic3RhcnQiLCJuYXZpZ2F0ZSIsImZyYWdtZW50Iiwib3B0aW9ucyIsInBhZ2UiLCJwYWdlQ29uZmlnIiwiaG9tZSIsInJlbmRlciIsInBjIiwidmlld05hbWUiLCJzdHJpbmdpZnkiLCJ2aWV3IiwiY29uZmciLCJsb2NhdGlvbiIsImhyZWYiLCJmdWxsIiwicGFydGlhbCIsInJlcXVpcmUiLCJWaWV3IiwidiIsImlkIiwicmVtb3ZlIiwiaXN2IiwiY2hpbGRyZW4iLCJtbnYiLCJBcHBWaWV3IiwiZWwiLCJyZXNpemUiLCJyZWxvYWQiLCJwb3BvdmVyVGVtcGwiLCJwb3BvdmVyQ29udGVudFRlbXBsIiwibGlnaHRib3hUaXRsZVRlbXBsIiwiQXJ0aWNsZVZpZXciLCJsZWdlbmRDbGFzcyIsInJlcGxhY2UiLCIkZWwiLCJmaW5kIiwiY2lkIiwiaHRtbCIsImFydGljbGUtZGlyIiwiYXBwZW5kIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInBvc3Rwcm9jZXNzIiwiY2xpY2siLCJlbHQiLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsImNzcyIsInBjdCIsInRlbXBsYXRlIiwiZ2V0QXR0cmlidXRlIiwiJHBvIiwidGl0bGUiLCJ0ZXh0IiwiYXR0ciIsImNvbnRlbnQiLCJwb3BvdmVyIiwiY29udGFpbmVyIiwicGxhY2VtZW50IiwiZXZ0IiwiZGVmcyIsImltZyIsImxvYWQiLCJwdXNoIiwic2xpZGVzanMiLCJuYXZpZ2F0aW9uIiwiYWN0aXZlIiwiZWZmZWN0IiwicGFnaW5hdGlvbiIsImZhZGUiLCJzcGVlZCIsImNyb3NzZmFkZSIsImNhbGxiYWNrIiwibG9hZGVkIiwibnVtYmVyIiwiJGltZyIsInZpc2liaWxpdHkiLCJ3aWR0aCIsIm1heEhlaWdodCIsIm1heFdpZHRoIiwicG9zaXRpb24iLCJsZWZ0IiwicGFyc2VJbnQiLCJjb21wbGV0ZSIsIm5ld0ltZyIsIm1hZ25pZmljUG9wdXAiLCJnYWxsZXJ5IiwiZW5hYmxlZCIsImltYWdlIiwidGl0bGVTcmMiLCIkaXRlbSIsInRtcGwiLCJlbXB0eSIsImF2IiwiTCIsIm1hcFBhcnRpYWwiLCJsZWdlbmRQYXJ0aWFsIiwiTWFya2VyVmlldyIsInRhZ05hbWUiLCJNYXAiLCJsZWdlbmRUZW1wbCIsIm9wZW5wb3B1cCIsImxheWVyTWFya2VycyIsImxheWVyR3JvdXBzIiwicG9wdXBpZCIsImxhdGxuZyIsImxhdCIsImxuZyIsImNvbmZpZ3VyZU1hcCIsIm1hcmtlck1vZGVsIiwiaWNvbkNvbmZpZyIsImZlYXR1cmVzIiwiaWNvbiIsImFkZE1hcmtlclRvTGF5ZXIiLCJsYXllck5hbWUiLCJrbGFzcyIsImxheWVyTGVnZW5kIiwibGF5ZXJHcm91cCIsImFkZExheWVyQ29udHJvbCIsImNvbnRyb2wiLCJsYXllcnMiLCJhZGRUbyIsInRpbGVsYXllciIsInNjYWxlIiwiYm91bmRzIiwiZWRnZVB0WCIsIlRpbGVMYXllciIsInRpbGVMYXllciIsImFkZExheWVyIiwiRG9tVXRpbCIsImdldFZpZXdwb3J0T2Zmc2V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJ4IiwibGF0TG5nQm91bmRzIiwibWFya2VyIiwibG5nTGF0IiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsInNsaWNlIiwibGF0TG5nIiwicmV2ZXJzZSIsImZpdEJvdW5kcyIsImdldFNpemUiLCJwYWRkaW5nQm90dG9tUmlnaHQiLCJjbGllbnRXaWR0aCIsImludmFsaWRhdGVTaXplIiwicG9wdXAiLCJwb3B1cExhdExuZyIsImdldExhdExuZyIsImhhbmRsZVBvcHVwUG9zaXRpb24iLCIkcG9wdXBXcmFwIiwicG9wdXBSaWdodFgiLCJwYWQiLCJnZXRDb250ZW50IiwiY2xvc2VzdCIsImZpcnN0IiwicG9pbnQiLCJhdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0IiwiYXV0b1BhblBhZGRpbmciLCJvZmZzZXQiLCJwYW5CeSIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiY2xvc2VQb3B1cCIsIm9wZW5Qb3B1cCIsIm1hcmtlclZpZXciLCJtYXBNYXJrZXIiLCJ0b2dnbGVQb3B1cCIsImdlb0pzb24iLCJvbkVhY2hGZWF0dXJlIiwiZmVhdHVyZSIsInNldENvbnRlbnQiLCJiaW5kUG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaG92ZXJQb3B1cCIsImFydGlkIiwicG9pbnRUb0xheWVyIiwiY2xpY2thYmxlIiwibWFya2VybmFtZSIsIm9wYWNpdHkiLCJyaXNlT25Ib3ZlciIsIm1lbnVUbXBsIiwiQXJ0aWNsZU1lbnVWaWV3IiwiaXRlbXMiLCJtZW51IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZXMiLCJjb2xsZWN0aW9ucyIsIml0ZW0iLCJjb2xsZWN0aW9uIiwidGVtcGwiLCJzb3J0ZXIiLCJzdWJDb250ZW50Iiwic29ydEtleXMiLCJqIiwiJGxpIiwiYW12IiwiRWxlbWVudCIsIm5vZGVOYW1lIiwib3V0ZXJIVE1MIiwiY2xvbmUiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwibGFiZWwiLCJ0aGVuIiwiJGZhaWxEZWYiLCJQYWdlVmlldyIsIlBhcnRpYWxWaWV3IiwiJHdhdGNoRGVmIiwibXNnIiwibWVzc2FnZSIsImFtWHNsIiwibWVudWl0ZW0iLCJtb2RhbCIsImtleWJvYXJkIiwic2hvdyIsInBhdGhzIiwianF1ZXJ5IiwiYm9vdHN0cmFwIiwiYmFja2JvbmUiLCJ1bmRlcnNjb3JlIiwibGVhZmxldCIsImxpZ2h0Ym94IiwicGFydGlhbHMiLCJzaGltIiwiZGVwcyIsImV4cG9ydHMiLCJjb25maWdmaWxlIiwiZGVidWciXSwibWFwcGluZ3MiOiJBQUNBQSxPQUFPLHdCQUNILFNBQ0EsYUFDQSxXQUNBLGtCQUNELFNBQVNDLEVBQUVDLEVBQUVDLEVBQVNDLEdBQ3JCLFlBQ0EsSUFBSUMsR0FBcUJGLEVBQVNHLFdBQVdDLFFBQ3pDQyxNQUFPSixHQUVYLE9BQU9DO0FDVlhMLE9BQU8sdUJBQ0gsU0FDQSxhQUNBLFdBQ0EsaUJBQ0QsU0FBU0MsRUFBRUMsRUFBRUMsRUFBU00sR0FDckIsWUFDQSxJQUFJQyxHQUFvQlAsRUFBU0csV0FBV0MsUUFDeENDLE1BQU9DLEdBRVgsT0FBT0M7QUNYWDtBQ0FBO0FDQ0FWLE9BQU8sb0JBQ0gsU0FDQSxjQUNELFNBQVNDLEVBQUVDLEdBQ1YsWUFDQSxJQUFJUyxJQUNFQyxLQUFNLEtBQ05DLEtBQU0sV0FDSixNQUFPQyxNQUFLRixLQUFLRyxXQUd6QixPQUFPSjtBQ1hYWCxPQUFPLHFCQUNILFVBQ0QsU0FBU0MsR0FDUixZQUNBLElBQUllLElBQ0FDLFNBQVcsU0FBU0MsRUFBR0MsRUFBSVAsR0FDdkIsSUFBS08sRUFBSyxLQUFNLDhCQUNoQixJQUFzQixJQUFsQmxCLEVBQUVrQixHQUFLQyxPQUFjLENBQ3JCLEdBQUlDLEdBQUksV0FDQXBCLEVBQUVrQixHQUFLQyxPQUFTLElBQ2hCbkIsRUFBRXFCLFNBQVNDLE1BQU1DLElB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YWwgZGVmaW5lICovXG5kZWZpbmUoJ2NvbGxlY3Rpb25zL2FydGljbGVzJywgW1xuICAgICdqcXVlcnknLCBcbiAgICAndW5kZXJzY29yZScsIFxuICAgICdiYWNrYm9uZScsXG4gICAgJ21vZGVscy9hcnRpY2xlJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEFydGljbGVNb2RlbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQXJ0aWNsZXNDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgICAgICBtb2RlbDogQXJ0aWNsZU1vZGVsXG4gICAgfSk7ICAgIFxuICAgIHJldHVybiBBcnRpY2xlc0NvbGxlY3Rpb247XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdjb2xsZWN0aW9ucy9tYXJrZXJzJywgW1xuICAgICdqcXVlcnknLCBcbiAgICAndW5kZXJzY29yZScsXG4gICAgJ2JhY2tib25lJyxcbiAgICAnbW9kZWxzL21hcmtlcidcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxNYXJrZXJNb2RlbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFya2Vyc0NvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgICAgIG1vZGVsOiBNYXJrZXJNb2RlbFxuICAgIH0pOyAgICBcbiAgICByZXR1cm4gTWFya2Vyc0NvbGxlY3Rpb247XG59KTtcbiIsIiIsIiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtaXhpbnMvYXN5bmNJbml0JywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJ1xuXSwgZnVuY3Rpb24oJCxfKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBc3luY0luaXQgPSB7XG4gICAgICAgICAgJGRlZjogbnVsbFxuICAgICAgICAsIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRlZi5wcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY0luaXQ7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtaXhpbnMvZG9td2F0Y2hlcicsIFtcbiAgICAnanF1ZXJ5JyBcbl0sIGZ1bmN0aW9uKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIERPTVdhdGNoZXIgPSB7XG4gICAgICAgIHdhdGNoRE9NIDogZnVuY3Rpb24obXMsc2VsLCRkZWYpIHtcbiAgICAgICAgICAgIGlmICghc2VsKSB0aHJvdyBcIkVtcHR5IHNlbGVjdG9yIGluIHdhdGNoRE9NKClcIjtcbiAgICAgICAgICAgIGlmICgkKHNlbCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoc2VsKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLm9mZignRE9NTm9kZUluc2VydGVkJywgZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5vbignRE9NTm9kZUluc2VydGVkJywgZik7XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkub2ZmKCdET01Ob2RlSW5zZXJ0ZWQnLCBmKTtcbiAgICAgICAgICAgICAgICAgICAgJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9LCBtcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRkZWYucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRE9NV2F0Y2hlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21peGlucy9mZXRjaHhtbCcsIFtcbiAgICAnanF1ZXJ5J1xuXSwgZnVuY3Rpb24oJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRmV0Y2hYTUwgPSB7XG4gICAgICAgIC8vIHJldHVybiBhbiBvYmplY3QgaW1wbGVtZW50aW5nIHRoZSBQcm9taXNlIGludGVyZmFjZVxuICAgICAgICAvLyB3aGVuIHN1Y2Nlc3NmdWwsIHRoZSBQcm9taXNlIHJldHVybnMgdGhlIGRhdGEgZmV0Y2hlZFxuICAgICAgICAvLyBieSB0aGUgYWpheCByZXF1ZXN0XG4gICAgICAgIC8vIGRhdGEgcmV0dXJuZWQgYnkgdGhlIHByb21pc2UgaXMgYSBEb2N1bWVudFxuICAgICAgICBmZXRjaFhNTCA6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgdmFyICRnZXQgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICAgICAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAneG1sJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAkZ2V0LnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgICRnZXQucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gJGdldC5wcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBGZXRjaFhNTDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21peGlucy94bWwyaHRtbCcsIFtcbiAgICAnanF1ZXJ5JyxcbiAgICAndW5kZXJzY29yZSdcbl0sIGZ1bmN0aW9uKCQsXykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgWE1MMkhUTUwgPSB7XG4gICAgICAgIF9kb2M6IGZ1bmN0aW9uKHhtbCkge1xuICAgICAgICAgICAgdmFyIHhtbERvYztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeG1sID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHhtbERvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoeG1sLCd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh4bWwgaW5zdGFuY2VvZiBEb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIHhtbERvYyA9IHhtbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGRvY3VtZW50IGlucHV0IGluIFhNTDJIVE1MXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHhtbERvYyA9PSBudWxsIHx8ICgheG1sRG9jLmhhc093blByb3BlcnR5KCdnZXRFbGVtZW50c0J5VGFnTmFtZScpICYmIHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFyc2VyZXJyb3InKS5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBkb2N1bWVudCBpbiB4bWwyaHRtbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB4bWxEb2M7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIHJldHVybiBIVE1MIG9yIEpTT04gc3RyaW5nIGZyb20gWFNMVCB0cmFuc2Zvcm1hdGlvblxuICAgICAgICB4bWwyaHRtbDogZnVuY3Rpb24oeG1sLHhzbCxwYXJhbXMsbW9kZSkge1xuICAgICAgICAgICAgdmFyIHhtbERvYyA9IHRoaXMuX2RvYyh4bWwpLFxuICAgICAgICAgICAgICAgIHhzbERvYyA9IHRoaXMuX2RvYyh4c2wpO1xuICAgICAgICAgICAgdmFyIHhzbHRQcm9jZXNzb3IgPSBuZXcgWFNMVFByb2Nlc3NvcigpO1xuICAgICAgICAgICAgeHNsdFByb2Nlc3Nvci5pbXBvcnRTdHlsZXNoZWV0KHhzbERvYyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBfLmVhY2goXy5rZXlzKHBhcmFtcyksIGZ1bmN0aW9uKGtleSl7XG4gICAgICAgICAgICAgICAgICAgIHhzbHRQcm9jZXNzb3Iuc2V0UGFyYW1ldGVyKG51bGwsa2V5LHBhcmFtc1trZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkb2MgPSB4c2x0UHJvY2Vzc29yLnRyYW5zZm9ybVRvRG9jdW1lbnQoeG1sRG9jKTtcbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy88dHJhbnNmb3JtaWl4OnJlc3VsdD4uLi48L3RyYW5zZm9ybWlpeDpyZXN1bHQ+XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRvYy5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZG9jLmRvY3VtZW50RWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9IGRvYy5ib2R5LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGluIFhTTFQgdHJhbnNmb3JtOiAnICsgZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBYTUwySFRNTDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9hcHAnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZScsXG4gICAgJ3JvdXRlcy9yb3V0ZXInLFxuICAgICdtb2RlbHMvaXNzdWUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsUm91dGVyLElzc3VlTW9kZWwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFwcE1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0cykge1xuICAgICAgICAgICAgdmFyIGlzc3VlID0gbmV3IElzc3VlTW9kZWwoeyBjb25maWc6IG9wdHMuY29uZmlnIH0pO1xuICAgICAgICAgICAgbmV3IFJvdXRlcih7XG4gICAgICAgICAgICAgICAgICByb3V0ZXM6IG9wdHMuY29uZmlnLnBhZ2VzLnJvdXRlc1xuICAgICAgICAgICAgICAgICwgY29uZmlnOiBvcHRzLmNvbmZpZ1xuICAgICAgICAgICAgICAgICwgaXNzdWU6ICBpc3N1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQXBwTW9kZWw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtb2RlbHMvYXJ0aWNsZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtaXhpbnMvZmV0Y2h4bWwnXG4gICAgLCAnbWl4aW5zL2FzeW5jSW5pdCdcbiAgICAsICdtaXhpbnMveG1sMmh0bWwnXG4gICAgLCAndGV4dCF4c2wvZ2VvanNvbi54c2wnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsRmV0Y2hYTUwsQXN5bmNJbml0LFhNTDJIVE1MLGdlb0pzb25Yc2wpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdmFyICRnZXQgPSB0aGF0LmZldGNoWE1MKHRoYXQuZ2V0KCdwYXRoJykpO1xuICAgICAgICAgICAgJC53aGVuKCRnZXQpLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2V0KCd4bWwnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB0aGF0Ll9ta0dlb2pzb24oKTtcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5nZW9qc29uICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNldCgncGxhY2VUeXBlJywgdGhhdC5nZW9qc29uLnByb3BlcnRpZXMubGF5ZXIpO1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIC8vVE9ETzogJ3htbCc6IHNlcmlhbGl6ZT8gYW5kIGNhY2hlIHRvIGxvY2Fsc3RvcmFnZVxuICAgICAgICAgICAgLy8gYWRkIGFkYXB0ZXIgZm9yIGFjY2VzcyB0aHJvdWdoIC5hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgIFwieG1sXCIgICAgICAgOiBudWxsICAgIC8vIERvY3VtZW50XG4gICAgICAgICAgICAsIFwicGxhY2VUeXBlXCIgOiBudWxsXG4gICAgICAgICAgICAsIFwiaWNvblVybFwiICAgOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdhY3RpdmUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdpbmFjdGl2ZScpO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCd0b2dnbGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2VvanNvbjogbnVsbCxcbiAgICAgICAgZ2V0R2VvanNvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZW9qc29uID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHRoaXMuX21rR2VvanNvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvanNvbjtcbiAgICAgICAgfSxcbiAgICAgICAgX21rR2VvanNvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uU3RyaW5nID0gdGhpcy54bWwyaHRtbCh0aGlzLmdldCgneG1sJyksIGdlb0pzb25Yc2wsIHt9LCAndGV4dCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2VvanNvbiA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHRvIGpzb246IFwiICsgZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKEFydGljbGVNb2RlbC5wcm90b3R5cGUsRmV0Y2hYTUwpO1xuICAgIF8uZXh0ZW5kKEFydGljbGVNb2RlbC5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICBfLmV4dGVuZChBcnRpY2xlTW9kZWwucHJvdG90eXBlLFhNTDJIVE1MKTtcbiAgICByZXR1cm4gQXJ0aWNsZU1vZGVsO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbW9kZWxzL2lzc3VlJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ21vZGVscy9hcnRpY2xlJ1xuICAgICwgJ2NvbGxlY3Rpb25zL2FydGljbGVzJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsQXJ0aWNsZU1vZGVsLEFydGljbGVDb2xsZWN0aW9uLEFzeW5jSW5pdCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgSXNzdWVNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICAgID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiAgID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdmFyIGFydGRpciAgPSBhcmdzLmNvbmZpZy5hcnRpY2xlcy5wYXRoQmFzZTtcbiAgICAgICAgICAgIGlmICghYXJ0ZGlyLm1hdGNoKC9cXC8kLykpIGFydGRpciArPSAnLyc7XG4gICAgICAgICAgICB2YXIgZmlsZXMgICA9IGFyZ3MuY29uZmlnLmFydGljbGVzLmZpbGVzO1xuICAgICAgICAgICAgdmFyIGNvbCAgICAgPSBuZXcgQXJ0aWNsZUNvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoYXQuY29uZmlnID0gYXJncy5jb25maWc7XG4gICAgICAgICAgICB0aGF0LnNldCgnY29sbGVjdGlvbicsIGNvbCk7XG4gICAgICAgICAgICAvLyBmaXggbGVuZ3RoIG9mIGFydGljbGVzIGFycmF5XG4gICAgICAgICAgICB2YXIgYXJ0aWNsZXMgPSBfLm1hcChfLnJhbmdlKGZpbGVzLmxlbmd0aCksIGZ1bmN0aW9uKCl7cmV0dXJuIHVuZGVmaW5lZDt9KTtcbiAgICAgICAgICAgIC8vIGFydGljbGVzIGNvbnN0cnVjdGVkIHN5bmMsIHNvIGFydGljbGUgb2JqZWN0cyBhZGRlZCB0byBsaXN0IGJ5IGluZGV4XG4gICAgICAgICAgICBfLmVhY2goZmlsZXMsIGZ1bmN0aW9uKGZpbGUsaSkge1xuICAgICAgICAgICAgICAgIGFydGljbGVzW2ldID0gbmV3IEFydGljbGVNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgIGFydGljbGVpZDogIGksXG4gICAgICAgICAgICAgICAgICAgIGFydGljbGVkaXI6IGFydGRpcixcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogICAgICAgYXJ0ZGlyICsgZmlsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgaW5pdHMgPSBfLm1hcChhcnRpY2xlcywgZnVuY3Rpb24oYXJ0aWNsZSl7cmV0dXJuIGFydGljbGUuaW5pdCgpO30pO1xuICAgICAgICAgICAgLy8gTk9URTogLmZhaWwoKSBpcyBub3QgY2FsbGVkOyBmYWlsdXJlIGlzIGhhbmRsZWQgaW4gLmFsd2F5cygpXG4gICAgICAgICAgICAkLndoZW4oe30saW5pdHMpLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkobnVsbCxpbml0cykuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb2wuYWRkKGFydGljbGVzKTtcbiAgICAgICAgICAgICAgICB0aGF0Lm9uKCdzZWxlY3QnLCBmdW5jdGlvbihhcnRpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3NlbGVjdEFydGljbGUoYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseShudWxsLGluaXRzKS5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGluaXRzLCBmdW5jdGlvbigkcHJvbWlzZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkcHJvbWlzZS5zdGF0ZSgpID09PSAncmVqZWN0ZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBcImFjdGl2ZUFydGljbGVcIiA6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgLy8gc2hvdyBhbiBhcnRpY2xlIGFuZCB0aGUgY29ycmVzcG9uZGluZyBwaW5cbiAgICAgICAgLy8gYXJ0aWNsZSBtYXkgYmUgZWl0aGVyIGFuIGluZGV4IGludG8gdGhlIGNvbGxlY3Rpb25cbiAgICAgICAgLy8gKGUuZy4sIHdoZW4gcHJvdmlkZWQgYnkgYSB1cmwpIG9yIGFuIEFydGljbGVNb2RlbFxuICAgICAgICAvLyAoZS5nLiwgd2hlbiBzZWxlY3RlZCBieSBhIG1hcCBtYXJrZXIpXG4gICAgICAgIF9zZWxlY3RBcnRpY2xlOiBmdW5jdGlvbihhcnRpY2xlKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY29sID0gdGhhdC5nZXQoJ2NvbGxlY3Rpb24nKTtcbiAgICAgICAgICAgIHZhciBhcnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFydGljbGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgYXJ0ID0gYXJ0aWNsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFydGljbGUgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcnRpY2xlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGFydCA9IGNvbC5hdChhcnRpY2xlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJCYWQgYXJndW1lbnQgdG8gbW9kZWxzL2lzc3VlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdm9pZCB1bi0gYW5kIHJlLXJlbmRlcmluZyBhbiBhbHJlYWR5LXZpZXdlZCBhcnRpY2xlXG4gICAgICAgICAgICBpZiAoKHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykgIT09IG51bGwpICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykgPT0gIGFydGljbGUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykudW5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB0aGF0LnNldCgnYWN0aXZlQXJ0aWNsZScsIGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aGlzIGludm9sdmVzIGFzeW5jIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAgICBhcnQuaW5pdCgpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCd1cGRhdGUnLCBhcnQpO1xuICAgICAgICAgICAgICAgIGFydC5zZWxlY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoSXNzdWVNb2RlbC5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gSXNzdWVNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9tYXAnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnY29sbGVjdGlvbnMvbWFya2VycydcbiAgICAsICdtb2RlbHMvbWFya2VyJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsTWFya2Vyc0NvbGxlY3Rpb24sTWFya2VyTW9kZWwsQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICAgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmICA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRoYXQuaXNzdWUgPSBhcmdzLmlzc3VlO1xuICAgICAgICAgICAgdGhhdC5zZXQoJ3NpdGVjb25maWcnLCBhcmdzLmNvbmZpZyk7XG4gICAgICAgICAgICBpZiAodGhhdC5pc3N1ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgaXNzdWUgbW9kZWwgaW4gbWFwIG1vZGVsJyk7XG4gICAgICAgICAgICB0aGF0LnNldCgncm91dGVyJywgYXJncy5yb3V0ZXIpO1xuICAgICAgICAgICAgaWYgKCFhcmdzLnJvdXRlcikgdGhyb3cgbmV3IEVycm9yKCdObyByb3V0ZXIgaW4gTWFwTW9kZWwnKTtcbiAgICAgICAgICAgIHZhciAkY29uZmlnRGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgJC5nZXRKU09OKGFyZ3MuY29uZmlnLm1hcC5jb25maWcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnNldCgnbWFwY29uZmlnJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgJGNvbmZpZ0RlZi5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKGpxeGhyLCB0ZXh0U3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICRjb25maWdEZWYucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBsb2FkIG1hcCBjb25maWcgZmlsZTogJyArIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJC53aGVuLmFwcGx5KHt9LFt0aGF0Lmlzc3VlLmluaXQoKSwgJGNvbmZpZ0RlZl0pLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fbWFrZUNvbGxlY3Rpb24odGhhdC5pc3N1ZS5nZXQoJ2NvbGxlY3Rpb24nKS5tb2RlbHMsIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7IHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpOyB9LFxuICAgICAgICAgICAgICAgICAgICBmYWlsOiAgICBmdW5jdGlvbigpIHsgdGhhdC4kZGVmLnJlamVjdCgpOyAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFRPRE86IGlzc3VlIGFzIHRvIHdoZXRoZXIgZmFpbCgpL2Fsd2F5cygpIGlzIGNhbGxlZCBvbiBmYWlsdXJlIGhlcmU7XG4gICAgICAgICAgICAvLyBmYWlsKCkgc2hvdWxkIGJlIGNhbGxlZCBvbiBmYWx1cmVcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgIFwibWFwY29uZmlnXCIgICAgIDoge31cbiAgICAgICAgICAgICwgXCJzaXRlY29uZmlnXCIgICAgOiB7fVxuICAgICAgICAgICAgLCBcImljb25VcmxzXCIgICAgICA6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIF9tYWtlQ29sbGVjdGlvbiA6IGZ1bmN0aW9uKGFydGljbGVzLGNicykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGNvbCA9IG5ldyBNYXJrZXJzQ29sbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhhdC5zZXQoJ2NvbGxlY3Rpb24nLCBjb2wpO1xuICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBuZXcgQXJyYXkoYXJ0aWNsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGVycm9yTXNnID0gJyc7XG4gICAgICAgICAgICB2YXIgaWNvbnMgPSB0aGF0LmdldCgnaWNvblVybHMnKTtcbiAgICAgICAgICAgIHZhciBpY2NvbmZpZyAgPSB0aGF0LmF0dHJpYnV0ZXMuc2l0ZWNvbmZpZy5tYXJrZXJzLmljb25zO1xuICAgICAgICAgICAgdmFyIGljb25GaWxlcyA9IF8uc2h1ZmZsZShfLmZsYXR0ZW4oXG4gICAgICAgICAgICAgICAgXy5tYXAoaWNjb25maWcsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLm1hcChlbnRyeS5maWxlcywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmRpci5jb25jYXQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIC8vIGRvIG1hcCBtYXJrZXIgaWNvbiBpbml0aWFsaXphdGlvbjsgdGhpcyBzZWVtcyBsaWtlIGl0IHNob3VsZFxuICAgICAgICAgICAgLy8gYmUgaXNvbGF0ZWQgdG8gdGhlIE1hcFZpZXcgb3IgTWFya2VyVmlldywgYnV0IGlzIGRhdGEgdXNlZFxuICAgICAgICAgICAgLy8gZWxzZXdoZXJlIGluIHRoZSBhcHBsaWNhdGlvbiwgc28gdGhleSBhcmUgYXNzaWduZWQgaGVyZVxuICAgICAgICAgICAgYXJ0aWNsZXMuZm9yRWFjaChmdW5jdGlvbihhcnRpY2xlLGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvanNvbiA9IChhcnRpY2xlLmdldEdlb2pzb24oKSB8fCB7XCJwcm9wZXJ0aWVzXCI6e319KTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBnZW9qc29uLnByb3BlcnRpZXMubGF5ZXI7XG4gICAgICAgICAgICAgICAgaWNvbnNbbGF5ZXJdID0gaWNvbnNbbGF5ZXJdIHx8IGljb25GaWxlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBhcnRpY2xlLnNldCgnaWNvblVybCcsIGljb25zW2xheWVyXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGFydGljbGVzIGhhdmUgY29tcGxldGVkIGluaXRpYWxpemF0aW9uIHNpbmNlXG4gICAgICAgICAgICAvLyB0aGUgaXNzdWUgaGFzLCBzb1xuICAgICAgICAgICAgYXJ0aWNsZXMuZm9yRWFjaChmdW5jdGlvbihhcnRpY2xlLGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW07XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbW0gPSBuZXcgTWFya2VyTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZSAgICAgOiB0aGF0Lmlzc3VlXG4gICAgICAgICAgICAgICAgICAgICAgICAsIGFydGljbGUgICA6IGFydGljbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICwganNvbiAgICAgIDogYXJ0aWNsZS5nZXRHZW9qc29uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICwgcm91dGVyICAgIDogdGhhdC5yb3V0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgaWNvblVybCAgIDogaWNvbnNbYXJ0aWNsZS5nZXQoJ3BsYWNlVHlwZScpXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBvbiBmYWlsdXJlIHRvIGNyZWF0ZSBnZW9qc29uIGZyb20gYXJ0aWNsZSwgd2FyblxuICAgICAgICAgICAgICAgIC8vIGJ1dCBkbyBub3QgYmxvY2sgbWFwXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnICs9IChcIlxcblwiICsgZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFya2Vyc1tpXSA9IG1tO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYnMuZmFpbCgpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2wuYWRkKG1hcmtlcnMpO1xuICAgICAgICAgICAgY2JzLnN1Y2Nlc3MoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKE1hcE1vZGVsLnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBNYXBNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9tYXJrZXInLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFya2VyTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBcImFydGljbGVcIiAgIDogbnVsbCxcbiAgICAgICAgXCJqc29uXCIgICAgICA6IHt9LFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmFwcCA9IGFyZ3MuYXBwO1xuICAgICAgICAgICAgdGhhdC5hcnRpY2xlID0gYXJncy5hcnRpY2xlO1xuICAgICAgICAgICAgdGhhdC5yb3V0ZXIgPSBhcmdzLnJvdXRlcjtcbiAgICAgICAgICAgIGFyZ3MuaXNzdWUuaW5pdCgpLmRvbmUoZnVuY3Rpb24oaXNzdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIGFuIGFydGljbGUgaXMgbWFkZSBhY3RpdmUgKGUuZy4sIHRocm91Z2ggdGhlXG4gICAgICAgICAgICAgICAgLy8gVE9DKSwgcHJvcG9nYXRlIHRocm91Z2ggdG8gdGhlIG1hcCBwYXJ0IG9mIHRoZSBhcHBcbiAgICAgICAgICAgICAgICB0aGF0Lmxpc3RlblRvKHRoYXQuYXJ0aWNsZSwgJ2FjdGl2ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnRyaWdnZXIoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC5saXN0ZW5Ubyh0aGF0LmFydGljbGUsICd0b2dnbGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCd0b2dnbGUnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gTWFya2VyTW9kZWw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdyb3V0ZXMvcm91dGVyJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ21vZGVscy9lcnJvci91c2VyJ1xuICAgICwgJ3ZpZXdzL2Vycm9yL3VzZXInXG4gICAgLCAndmlld3MvY2xlYXInXG4gICAgLCAndmlld3MvaXNzdWUnXG4gICAgLCAndmlld3MvbWFwJ1xuICAgICwgJ3ZpZXdzL21lbnUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldyxDbGVhclZpZXcsSXNzdWVWaWV3LE1hcFZpZXcsTWVudVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFJvdXRlciA9IEJhY2tib25lLlJvdXRlci5leHRlbmQoe1xuICAgICAgICBwYWdlcyAgIDoge30sICAgLy8gY29uZmlnIGZvciBzdXBwb3J0ZWQgcGFnZXNcbiAgICAgICAgY29uZmlnICA6IHt9LCAgIC8vIGdsb2JhbCBzaXRlIGNvbmZpZ3VyYXRpb24sIGkuZS4sIHNpdGUuanNvblxuICAgICAgICBpc3N1ZSAgIDogbnVsbCwgLy8gSXNzdWVNb2RlbCBmb3IgdGhpcyBhcHBcbiAgICAgICAgbWFwVmlldyA6IG51bGwsIC8vIE1hcFZpZXdcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgICAgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBvcHRzLmNvbmZpZztcbiAgICAgICAgICAgIHRoaXMucGFnZXMgID0gb3B0cy5jb25maWcucGFnZXM7XG4gICAgICAgICAgICB0aGlzLmlzc3VlICA9IG9wdHMuaXNzdWU7XG4gICAgICAgICAgICB0aGlzLmlzc3VlLmluaXQoKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIHBhZ2VzLnJvdXRlci5oaXN0b3J5ID0gdHJ1ZSBieSBkZWZhdWx0LCBpZiBtaXNzaW5nXG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKHRoYXQucGFnZXMucm91dGVyLCdoaXN0b3J5JykgJiYgISF0aGF0LnBhZ2VzLnJvdXRlci5oaXN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIEJhY2tib25lLmhpc3Rvcnkuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgbmF2aWdhdGU6IGZ1bmN0aW9uKGZyYWdtZW50LG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChCYWNrYm9uZS5oaXN0b3J5LmZyYWdtZW50ID09PSBmcmFnbWVudCkgcmV0dXJuO1xuICAgICAgICAgICAgQmFja2JvbmUuaGlzdG9yeS5uYXZpZ2F0ZShmcmFnbWVudCxvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZTogZnVuY3Rpb24ocGFnZSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHBhZ2VDb25maWc7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghcGFnZSkgcGFnZSA9IHRoaXMucGFnZXMuaG9tZTtcbiAgICAgICAgICAgICAgICBwYWdlQ29uZmlnID0gdGhpcy5wYWdlcy5wYWdlc1twYWdlXTtcbiAgICAgICAgICAgICAgICBpZiAocGFnZUNvbmZpZyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgY29uZmlnIGluIHJvdXRlci9wYWdlJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFnZSgnNDA0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgPGJvZHk+XG4gICAgICAgICAgICAobmV3IENsZWFyVmlldygpKS5yZW5kZXIoKTtcbiAgICAgICAgICAgIF8uZWFjaChwYWdlQ29uZmlnLCBmdW5jdGlvbihwYykge1xuICAgICAgICAgICAgICAgIHZhciB2aWV3TmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IHRoYXQuY29uZmlnXG4gICAgICAgICAgICAgICAgICAgICwgaXNzdWU6ICB0aGF0Lmlzc3VlXG4gICAgICAgICAgICAgICAgICAgICwgcm91dGVyOiB0aGF0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBjbG9uZSBjb25maWcgdG8gYXZvaWQgZ2xvYmFsIGNoYW5nZXNcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwYykpO1xuICAgICAgICAgICAgICAgIGlmIChfLmhhcyhjb25maWcsICd2aWV3JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlld05hbWUgPSBjb25maWcudmlldztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF8uaGFzKGNvbmZpZywgJ3BhcnRpYWwnKSkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TmFtZSA9ICd2aWV3cy9wYXJ0aWFsJztcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnBhcnRpYWwucGFnZSA9IHRoYXQucGFnZXMucGF0aEJhc2UgKyBjb25maWcucGFydGlhbC5wYWdlO1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gXy5leHRlbmQoYXJncyxjb25maWcucGFydGlhbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfLmhhcyhjb25mZywgJ2Z1bGwnKSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNvbmZpZy5mdWxsLnBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHBhZ2UgdHlwZSBpbiByb3V0ZXI6ICcgKyBwYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVxdWlyZShbdmlld05hbWVdLCBmdW5jdGlvbihWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gbmV3IFZpZXcoYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWV3TmFtZSA9PT0gJ3ZpZXdzL21hcCcpIHRoYXQubWFwVmlldyA9IHY7XG4gICAgICAgICAgICAgICAgICAgIHYucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYXJ0aWNsZSA6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgYXJncyA9IHtcbiAgICAgICAgICAgICAgICAgIGNvbmZpZzogdGhhdC5jb25maWdcbiAgICAgICAgICAgICAgICAsIGlzc3VlOiAgdGhhdC5pc3N1ZVxuICAgICAgICAgICAgICAgICwgcm91dGVyOiB0aGF0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCQoJyN0aXRsZXBhZ2UnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpdGxlcGFnZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCQoJyNpc3N1ZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBpc3YgPSBuZXcgSXNzdWVWaWV3KGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlzdi5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgkKCcjbWFwJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5tYXBWaWV3ID0gbmV3IE1hcFZpZXcoYXJncyk7XG4gICAgICAgICAgICAgICAgdGhhdC5tYXBWaWV3LnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCQoJyNtZW51JykuY2hpbGRyZW4oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbW52ID0gbmV3IE1lbnVWaWV3KGFyZ3MpO1xuICAgICAgICAgICAgICAgIG1udi5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNlbGVjdCB0aGUgYXJ0aWNsZSBpbmRpY2F0ZWQgYnkgdGhlIHVybCdzIHJvdXRlIG9ubHkgYWZ0ZXJcbiAgICAgICAgICAgIC8vIHRoZSBtYXAgaGFzIGluaXRpYWxpemVkXG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoe30sW3RoYXQubWFwVmlldy5pbml0KCldKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuaXNzdWUudHJpZ2dlcignc2VsZWN0JywgaWQpO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBSb3V0ZXI7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCd2aWV3cy9hcHAnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgc2lnbmFsID0ge307XG4gICAgdmFyIEFwcFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFwcFZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2FydGljbGUnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZScsXG4gICAgJ21peGlucy9kb213YXRjaGVyJyxcbiAgICAnbWl4aW5zL3htbDJodG1sJyxcbiAgICAndGV4dCF4c2wvYXJ0aWNsZS54c2wnLFxuICAgICd0ZXh0IXBhcnRpYWxzL2ltYWdlLXBvcG92ZXIuaHRtbCcsXG4gICAgJ3RleHQhcGFydGlhbHMvaW1hZ2UtcG9wb3Zlci1jb250ZW50Lmh0bWwnLFxuICAgICd0ZXh0IXBhcnRpYWxzL2xpZ2h0Ym94LXRpdGxlLmh0bWwnLFxuICAgICdzbGlkZXNqcycsXG4gICAgJ2xpZ2h0Ym94J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLERPTVdhdGNoZXIsWE1MMkhUTUwseHNsLHBvcG92ZXJUZW1wbCxwb3BvdmVyQ29udGVudFRlbXBsLGxpZ2h0Ym94VGl0bGVUZW1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQXJ0aWNsZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGlkOiAnYXJ0aWNsZScsXG4gICAgICAgIGxlZ2VuZENsYXNzOiAnJyxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC5jb25maWcgPSBhcmdzLmNvbmZpZztcbiAgICAgICAgICAgIHRoYXQubGVnZW5kQ2xhc3MgPSAnLicgKyB0aGF0Lm1vZGVsLmF0dHJpYnV0ZXMucGxhY2VUeXBlLnJlcGxhY2UoL1xccysvZywgJy0nKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LiRlbCA9ICQoJyMnICsgdGhhdC5pZCk7XG4gICAgICAgICAgICBpZiAodGhhdC4kZWwuZmluZCgnIycgKyB0aGF0Lm1vZGVsLmNpZCkubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy54bWwyaHRtbChcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmdldCgneG1sJyksXG4gICAgICAgICAgICAgICAgeHNsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgXCJhcnRpY2xlLWRpclwiOiB0aGF0LmNvbmZpZy5hcnRpY2xlcy5wYXRoQmFzZVxuICAgICAgICAgICAgICAgICAgICAsIFwiaWNvblVybFwiICAgIDogdGhhdC5tb2RlbC5nZXQoJ2ljb25VcmwnKVxuICAgICAgICAgICAgICAgICAgICAsIFwiY2lkXCIgICAgICAgIDogdGhhdC5tb2RlbC5jaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAkKCcuYXJ0aWNsZS1jb250ZW50JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgJCgnIycrdGhpcy5pZCkuYXBwZW5kKGh0bWwpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXJ0aWNsZSBsb2FkIGVycm9yOiBcIiArIGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoICQoJ2ltZy5zbGlkZXNqcy1zbGlkZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICQoJyNmb290ZXInKS5yZW1vdmUoKVxuICAgICAgICAgICAgICAgICQoJ2FydGljbGUnKS5yZW1vdmVDbGFzcygnYmVmb3JlLWZvb3RlcicpLmFkZENsYXNzKCduby1mb290ZXInKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5wb3N0cHJvY2VzcygpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGhhbmRsZSBhcnRpY2xlIGltYWdlc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGF0LiRlbC5maW5kKCcuYXJ0aWNsZS1tYXJrZXInKS5jbGljayhmdW5jdGlvbihpLGVsdCkge1xuICAgICAgICAgICAgICAgIHRoYXQubW9kZWwudG9nZ2xlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKCkgeyAvKiByZXRhaW4gKi99LFxuICAgICAgICBwb3N0cHJvY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBhZGp1c3QgaGVpZ2h0IG9mIGFydGljbGUgYm9keVxuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIGluIGNzc1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9ICQoJyNhcnRpY2xlIGFydGljbGUnKS5oZWlnaHQoKSAtICQoJyNoZWFkZXInKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgICAgICAgICQoJyNib2R5JykuY3NzKHtoZWlnaHQ6aGVpZ2h0fSk7XG4gICAgICAgICAgICAvLyBhZGQgcG9wb3ZlcnMgdG8gaW1hZ2VzXG4gICAgICAgICAgICB2YXIgcGN0ID0gXy50ZW1wbGF0ZShwb3BvdmVyQ29udGVudFRlbXBsKTtcbiAgICAgICAgICAgICQoJ2ltZy5zbGlkZXNqcy1zbGlkZScpLmVhY2goZnVuY3Rpb24oaSxlbHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBlbHQuZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgICAgIHZhciAkcG8gPSAkKCcucG9wb3Zlci4nICsgaWQpO1xuICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9ICRwby5maW5kKCcuaGVhZCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAkKGVsdCkuYXR0cignYWx0JywgJHBvLmZpbmQoJy5kZXNjJykudGV4dCgpKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IHBjdCh7XG4gICAgICAgICAgICAgICAgICAgIGF0dHI6ICRwby5maW5kKCcuYXR0cicpLnRleHQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQoZWx0KS5wb3BvdmVyKHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBcImJvZHlcIixcbiAgICAgICAgICAgICAgICAgICAgaHRtbCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHBvcG92ZXJUZW1wbCxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogXCJob3ZlclwiLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwibGVmdFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChlbHQpLmNsaWNrKGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgICAgICAkKGVsdCkucG9wb3ZlcignaGlkZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgaW1hZ2VzIHRoYXQgZmFpbCB0byBsb2FkLCBzaW5jZSB3ZSBjYW5ub3QgZG9cbiAgICAgICAgICAgIC8vIGEgZmlsZSB0ZXN0IHdoZW4gcnVubmluZyB0aGUgeHNsXG4gICAgICAgICAgICB2YXIgZGVmcyA9IFtdO1xuICAgICAgICAgICAgdGhhdC4kZWwuZmluZCgnaW1nLnNsaWRlc2pzLXNsaWRlJykuZWFjaChmdW5jdGlvbihpLGltZyl7XG4gICAgICAgICAgICAgICAgdmFyICRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAgICAgJChpbWcpLmxvYWQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJChpbWcpLnJlbW92ZUNsYXNzKCdyZW1vdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgJGRlZi5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChpbWcpLmVycm9yKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IHNvbWUgdGltZSBiZWZvcmUgZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfSw1MDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlZnMucHVzaCgkZGVmKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJC53aGVuLmFwcGx5KHt9LGRlZnMpLmFsd2F5cyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICQoJ2ltZy5zbGlkZXNqcy1zbGlkZS5yZW1vdmUnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkKCcuaW1hZ2UtbG9hZGluZycpLnJlbW92ZUNsYXNzKCdpbWFnZS1sb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgLy8gY29uZmlndXJlIHNsaWRlc2pzOyB1cCB0byBub3csICdkaXNwbGF5Om5vbmUnXG4gICAgICAgICAgICAgICAgLy8gaGFzIGFwcGxpZWRcbiAgICAgICAgICAgICAgICAkKFwiI3NsaWRlc1wiKS5zbGlkZXNqcyh7XG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCQoJ2ltZy5zbGlkZXNqcy1zbGlkZScpLmxlbmd0aCA+IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiBcImZhZGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5sZW5ndGggPiAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdDogXCJmYWRlXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzZmFkZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIG9uIGxvYWQgb2YgZmlyc3QgcGljXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWQ6IGZ1bmN0aW9uKG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW1nID0gJChcIi5zbGlkZXNqcy1jb250cm9sXCIpLmNoaWxkcmVuKCc6ZXEoJysgKG51bWJlciAtIDEpICsgJyknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW1nLmNzcyh7dmlzaWJpbGl0eTogXCJoaWRkZW5cIn0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHdpZHRoOiAgJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWF4SGVpZ2h0OiAkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG1heFdpZHRoOiAgJChcIi5zbGlkZXNqcy1jb250YWluZXJcIikud2lkdGgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHBvc2l0aW9uOiAgXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSAoJChcIi5zbGlkZXNqcy1jb250YWluZXJcIikud2lkdGgoKSAtICRpbWcud2lkdGgoKSkvMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IHBhcnNlSW50KCRpbWcuY3NzKCdwYWRkaW5nLWxlZnQnKSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHsgbGVmdDogbGVmdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW1nLmNzcyh7IHZpc2liaWxpdHk6IFwidmlzaWJsZVwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBzdGFydCBvZiBjaGFuZ2Ugb2YgcGljIChhZnRlciBmaXJzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbihudW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnNsaWRlc2pzLWNvbnRyb2xcIikuY2hpbGRyZW4oKS5jc3Moe3Zpc2liaWxpdHk6IFwiaGlkZGVuXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgZW5kIG9mIGNoYW5nZSBvZiBwaWMgKGFmdGVyIGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbWcgPSBudW1iZXIgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW1nID0gJChcIi5zbGlkZXNqcy1jb250cm9sXCIpLmNoaWxkcmVuKCc6ZXEoJysgbmV3SW1nICsgJyknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW1nLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCB3aWR0aDogICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG1heEhlaWdodDogJChcIi5zbGlkZXNqcy1jb250YWluZXJcIikuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXhXaWR0aDogICQoXCIuc2xpZGVzanMtY29udGFpbmVyXCIpLndpZHRoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBwb3NpdGlvbjogIFwicmVsYXRpdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHsgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnLmdhbGxlcnktaXRlbScpLm1hZ25pZmljUG9wdXAoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgZ2FsbGVyeTp7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlU3JjOiBmdW5jdGlvbigkaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gJGl0ZW0uZWwuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkcG8gPSAkKCcucG9wb3Zlci4nICsgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBjdCA9IF8udGVtcGxhdGUobGlnaHRib3hUaXRsZVRlbXBsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gcGN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJHBvLmZpbmQoJy5oZWFkJykudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHI6ICRwby5maW5kKCcuYXR0cicpLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnLmdseXBoaWNvbi5nbHlwaGljb24tZXhwYW5kJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KXtcbiAgICAgICAgICAgICAgICAkKCcuZ2FsbGVyeS1pdGVtJykubWFnbmlmaWNQb3B1cCgnb3BlbicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKEFydGljbGVWaWV3LnByb3RvdHlwZSxET01XYXRjaGVyKTtcbiAgICBfLmV4dGVuZChBcnRpY2xlVmlldy5wcm90b3R5cGUsWE1MMkhUTUwpO1xuICAgIHJldHVybiBBcnRpY2xlVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvY2xlYXInLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSx0bXBsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBDbGVhclZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCdib2R5JykuZW1wdHkoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBDbGVhclZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2lzc3VlJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvaXNzdWUuaHRtbCdcbiAgICAsICd2aWV3cy9hcnRpY2xlJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLHRtcGwsQXJ0aWNsZVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIElzc3VlVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgZWw6ICAgICAgICAgJyNpc3N1ZScsXG4gICAgICAgIHRlbXBsYXRlOiAgIF8udGVtcGxhdGUodG1wbCksXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQubW9kZWwgPSBhcmdzLmlzc3VlO1xuICAgICAgICAgICAgdGhhdC5tb2RlbC5vbigndXBkYXRlJywgZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0KGFydGljbGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKHRtcGwpO1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBhdiA9IG5ldyBBcnRpY2xlVmlldyh7XG4gICAgICAgICAgICAgICAgICBtb2RlbDogIGFydGljbGVcbiAgICAgICAgICAgICAgICAsIGNvbmZpZzogdGhhdC5tb2RlbC5jb25maWdcbiAgICAgICAgICAgICAgICAsIGlzc3VlOiAgdGhhdFxuICAgICAgICAgICAgICAgICwgcm91dGVyOiB0aGF0Lm1vZGVsLnJvdXRlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcnRpY2xlLm9uKCdhY3RpdmUnLCAgIGF2LnJlbmRlciwgYXYpO1xuICAgICAgICAgICAgYXJ0aWNsZS5vbignaW5hY3RpdmUnLCBhdi5yZW1vdmUsIGF2KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBJc3N1ZVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL21hcCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdsZWFmbGV0J1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFwLmh0bWwnXG4gICAgLCAndGV4dCFwYXJ0aWFscy9tYXJrZXItbGVnZW5kLmh0bWwnXG4gICAgLCAnbW9kZWxzL21hcCdcbiAgICAsICd2aWV3cy9tYXJrZXInXG4gICAgLCAnbWl4aW5zL2FzeW5jSW5pdCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxMLG1hcFBhcnRpYWwsbGVnZW5kUGFydGlhbCxNYXBNb2RlbCxNYXJrZXJWaWV3LEFzeW5jSW5pdCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFwVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgaWQ6ICAgICAgJ21hcCcsXG4gICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LiRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICAgICAgdGhhdC5tb2RlbCA9IG5ldyBNYXBNb2RlbChhcmdzKTtcbiAgICAgICAgICAgIHRoYXQucm91dGVyID0gYXJncy5yb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLCByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIGlmICgkKCcjJyArIHRoYXQuaWQpLmNoaWxkcmVuKCkubGVuZ3RoID4gMCkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gcHV0IGRpdiNtYXAgaW4gcGxhY2VcbiAgICAgICAgICAgIC8vIG5vdGU6IG1hcC5qc29uIGhhcyB0aGUgQGlkIHZhbHVlOiB7XCJpZFwiIDogXCJtYXBcIn1cbiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQobWFwUGFydGlhbCk7XG4gICAgICAgICAgICAvLyBMZWFmbGV0IGNvbmZpZ1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5pbml0KCkuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sICAgICAgID0gdGhhdC5tb2RlbC5nZXQoJ2NvbGxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwY29uZmlnID0gdGhhdC5tb2RlbC5nZXQoJ21hcGNvbmZpZycpO1xuICAgICAgICAgICAgICAgIHZhciBtYXAgICAgICAgPSBuZXcgTC5NYXAobWFwY29uZmlnLmlkLCBtYXBjb25maWcubWFwKTtcbiAgICAgICAgICAgICAgICB2YXIgbGVnZW5kVGVtcGwgPSBfLnRlbXBsYXRlKGxlZ2VuZFBhcnRpYWwpO1xuICAgICAgICAgICAgICAgIHZhciBvcGVucG9wdXAgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXJNYXJrZXJzID0ge307XG4gICAgICAgICAgICAgICAgdmFyIGxheWVyR3JvdXBzID0ge307XG4gICAgICAgICAgICAgICAgdmFyIHBvcHVwaWQgPSBmdW5jdGlvbihsYXRsbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhdGxuZy5sYXQudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICsgbGF0bG5nLmxuZy50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGF0LmNvbmZpZ3VyZU1hcChtYXAsbWFwY29uZmlnLG9wZW5wb3B1cCxwb3B1cGlkLGNvbC5tb2RlbHMpO1xuICAgICAgICAgICAgICAgIC8vIGRvIHBlci1tYXJrZXIgbWFwIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgICAgICBjb2wuZm9yRWFjaChmdW5jdGlvbihtYXJrZXJNb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvanNvbiA9IChtYXJrZXJNb2RlbC5nZXQoJ2pzb24nKSB8fCB7XCJwcm9wZXJ0aWVzXCI6e319KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxheWVyID0gZ2VvanNvbi5wcm9wZXJ0aWVzLmxheWVyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbkNvbmZpZyA9IG1hcGNvbmZpZy5mZWF0dXJlcy5pY29uO1xuICAgICAgICAgICAgICAgICAgICBpY29uQ29uZmlnLmljb25VcmwgPSAobWFya2VyTW9kZWwuZ2V0KCdpY29uVXJsJykgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbiA9IEwuaWNvbihpY29uQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hZGRNYXJrZXJUb0xheWVyKG1hcmtlck1vZGVsLG1hcCxvcGVucG9wdXAscG9wdXBpZCxtYXBjb25maWcsbGF5ZXJNYXJrZXJzLGljb24saWNvbkNvbmZpZy5pY29uVXJsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgbWFya2VyIGxheWVyc1xuICAgICAgICAgICAgICAgIF8uZWFjaChfLmtleXMobGF5ZXJNYXJrZXJzKSwgZnVuY3Rpb24obGF5ZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrbGFzcyA9IGxheWVyTmFtZS5yZXBsYWNlKC9cXHMrL2csICctJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXllckxlZ2VuZCA9IGxlZ2VuZFRlbXBsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogdGhhdC5tb2RlbC5nZXQoJ2ljb25VcmxzJylbbGF5ZXJOYW1lXVxuICAgICAgICAgICAgICAgICAgICAgICAgLCB0aXRsZSAgOiBsYXllck5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICwga2xhc3MgIDoga2xhc3NcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyR3JvdXBzW2xheWVyTGVnZW5kXSA9IEwubGF5ZXJHcm91cChsYXllck1hcmtlcnNbbGF5ZXJOYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC5hZGRMYXllckNvbnRyb2wobGF5ZXJHcm91cHMsbWFwY29uZmlnLmNvbnRyb2wubGF5ZXJzLm9wdGlvbnMsbWFwKTtcbiAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgYWRkTGF5ZXJDb250cm9sIDogZnVuY3Rpb24gKGxheWVyR3JvdXBzLG9wdGlvbnMsbWFwKSB7XG4gICAgICAgICAgICBMLmNvbnRyb2wubGF5ZXJzKG51bGwsIGxheWVyR3JvdXBzLCBvcHRpb25zKS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgJCgnaW5wdXQubGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvcicpLmVhY2goZnVuY3Rpb24oaSxlbHQpIHtcbiAgICAgICAgICAgICAgICQoZWx0KS5jbGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLCBjb25maWd1cmVNYXAgOiBmdW5jdGlvbihtYXAsbWFwY29uZmlnLG9wZW5wb3B1cCxwb3B1cGlkLG1hcmtlcnMpIHtcbiAgICAgICAgICAgIHZhciB0aGF0LCB0aWxlbGF5ZXIsIHNjYWxlLCBib3VuZHMsIGVkZ2VQdFg7XG4gICAgICAgICAgICB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRpbGVsYXllciA9IG5ldyBMLlRpbGVMYXllcihtYXBjb25maWcudGlsZUxheWVyLnVybCwgbWFwY29uZmlnLnRpbGVMYXllci5vcHRzKTtcbiAgICAgICAgICAgIHNjYWxlID0gTC5jb250cm9sLnNjYWxlKG1hcGNvbmZpZy5zY2FsZSk7XG4gICAgICAgICAgICBtYXAuYWRkTGF5ZXIodGlsZWxheWVyKTtcbiAgICAgICAgICAgIHNjYWxlLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICBlZGdlUHRYID0gTC5Eb21VdGlsLmdldFZpZXdwb3J0T2Zmc2V0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnRpY2xlJykpLng7XG4gICAgICAgICAgICBib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhfLm1hcChtYXJrZXJzLGZ1bmN0aW9uKG1hcmtlcikge1xuICAgICAgICAgICAgICAgIHZhciBsbmdMYXQgPSBtYXJrZXIuZ2V0KCdqc29uJykuZ2VvbWV0cnkuY29vcmRpbmF0ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEwubGF0TG5nKGxuZ0xhdC5yZXZlcnNlKCkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKGVkZ2VQdFggPT09IDApIHtcbiAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVkZ2VQdFggIT0gbWFwLmdldFNpemUoKS54KSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIHVuZGVybmVhdGggYXJ0aWNsZVxuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzLCB7XG4gICAgICAgICAgICAgICAgICAgICdwYWRkaW5nQm90dG9tUmlnaHQnIDogW2RvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLSBlZGdlUHRYLDBdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBiZXNpZGUgYXJ0aWNsZVxuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5pbnZhbGlkYXRlU2l6ZSgpO1xuICAgICAgICAgICAgLy8gdHJhY2sgdGhlIGN1cnJlbnRseSBvcGVuIHBvcHVwXG4gICAgICAgICAgICBtYXAub24oJ3BvcHVwb3BlbicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IGV2dC5wb3B1cDtcbiAgICAgICAgICAgICAgICB2YXIgcG9wdXBMYXRMbmcgPSBwb3B1cC5nZXRMYXRMbmcoKTtcbiAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZVBvcHVwUG9zaXRpb24obWFwLHBvcHVwKTtcbiAgICAgICAgICAgICAgICAvLyBldmVudCBsYXRlbmN5IGJldHdlZW4gbGVhZmxldCBhbmQgYmFja2JvbmUgYXBwZWFycyB0byBjYXVzZSBwb3B1cHMgdG8gY29sbGFwc2VcbiAgICAgICAgICAgICAgICAvLyBlcnJhdGljYWxseSBpbiBGaXJlZm94IHdoZW4gY2xpY2tpbmcgbWFwIHBpbnNcbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbnBvcHVwW3BvcHVwaWQocG9wdXBMYXRMbmcpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbnBvcHVwW3BvcHVwaWQocG9wdXBMYXRMbmcpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXAub24oJ3BvcHVwY2xvc2UnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbnBvcHVwW3BvcHVwaWQoZXZ0LnBvcHVwLmdldExhdExuZygpKV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcGVucG9wdXBbcG9wdXBpZChldnQucG9wdXAuZ2V0TGF0TG5nKCkpXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgaGFuZGxlUG9wdXBQb3NpdGlvbiA6IGZ1bmN0aW9uKG1hcCxwb3B1cCkge1xuICAgICAgICAgICAgdmFyIGVkZ2VQdFgsICRwb3B1cFdyYXAsIHBvcHVwTGF0TG5nLCBwb3B1cFJpZ2h0WCwgcGFkO1xuICAgICAgICAgICAgcG9wdXBMYXRMbmcgPSBwb3B1cC5nZXRMYXRMbmcoKTtcbiAgICAgICAgICAgIGlmIChwb3B1cExhdExuZyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICBlZGdlUHRYID0gTC5Eb21VdGlsLmdldFZpZXdwb3J0T2Zmc2V0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcnRpY2xlJykpLng7XG4gICAgICAgICAgICAvLyBtYXAgc2hvdWxkIHBhbiByaWdodC9lYXN0IGlmIHRoZSBwb3B1cCBiYWxsb29uIGlzIGNvdmVyZWQgYnkgdGhlIGFydGljbGU7XG4gICAgICAgICAgICAvLyBwYWQgaXMgYSBzbGlnaHQgcmVsaWVmIGJldHdlZW4gdGhlIHBvcHVwIGFuZCB0aGUgYXJ0aWNsZVxuICAgICAgICAgICAgJHBvcHVwV3JhcCA9ICQocG9wdXAuZ2V0Q29udGVudCgpKS5jbG9zZXN0KCcubGVhZmxldC1wb3B1cC1jb250ZW50LXdyYXBwZXInKS5maXJzdCgpO1xuICAgICAgICAgICAgcGFkID0gTC5wb2ludChwb3B1cC5vcHRpb25zLmF1dG9QYW5QYWRkaW5nQm90dG9tUmlnaHQgfHwgcG9wdXAub3B0aW9ucy5hdXRvUGFuUGFkZGluZyk7XG4gICAgICAgICAgICBwYWQgPSBwYWQgPyBwYWQueCA6IDA7XG4gICAgICAgICAgICBwb3B1cFJpZ2h0WCA9ICRwb3B1cFdyYXAub2Zmc2V0KCkubGVmdCArICRwb3B1cFdyYXAud2lkdGgoKSArIHBhZDtcbiAgICAgICAgICAgIGlmIChlZGdlUHRYICE9IDAgJiYgcG9wdXBSaWdodFggPiBlZGdlUHRYICYmIGVkZ2VQdFggIT0gbWFwLmdldFNpemUoKS54KSB7XG4gICAgICAgICAgICAgICAgbWFwLnBhbkJ5KFtwb3B1cFJpZ2h0WCAtIGVkZ2VQdFgsMF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghbWFwLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvcHVwLmdldExhdExuZygpKSkge1xuICAgICAgICAgICAgICAgIG1hcC5jbG9zZVBvcHVwKHBvcHVwKTtcbiAgICAgICAgICAgICAgICBtYXAub3BlblBvcHVwKHBvcHVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAsIGFkZE1hcmtlclRvTGF5ZXI6IGZ1bmN0aW9uKG1hcmtlck1vZGVsLG1hcCxvcGVucG9wdXAscG9wdXBpZCxtYXBjb25maWcsbGF5ZXJNYXJrZXJzLGljb24saWNvblVybCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgICAgICAgID0gdGhpcztcbiAgICAgICAgICAgIHZhciBnZW9qc29uICAgICA9IG1hcmtlck1vZGVsLmdldCgnanNvbicpO1xuICAgICAgICAgICAgdmFyIG1hcmtlclZpZXcgID0gbmV3IE1hcmtlclZpZXcoe1xuICAgICAgICAgICAgICAgICAgbW9kZWwgICAgIDogbWFya2VyTW9kZWxcbiAgICAgICAgICAgICAgICAsIHJvdXRlciAgICA6IHRoYXQucm91dGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1hcmtlclZpZXcub24oJ2FjdGl2ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlUG9wdXBQb3NpdGlvbihtYXAsbWFya2VyVmlldy5wb3B1cCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1hcmtlclZpZXcub24oJ3RvZ2dsZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbWFya2VyVmlldy5tYXBNYXJrZXIudG9nZ2xlUG9wdXAoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWFya2VyVmlldy5yZW5kZXIoKTtcbiAgICAgICAgICAgIEwuZ2VvSnNvbihnZW9qc29uLCB7XG4gICAgICAgICAgICAgICAgLy8gZmVhdHVyZSBpcyB0aGUgZ2VvanNvbiwgYSByYXcgSlMgb2JqZWN0XG4gICAgICAgICAgICAgICAgLy8gbWFwTWFya2VyIGlzXG4gICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZnVuY3Rpb24gKGZlYXR1cmUsIG1hcE1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHBvcHVwIHRvIHRoaXMgbWFya2VyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IEwucG9wdXAobWFwY29uZmlnLmZlYXR1cmVzLnBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyVmlldy5wb3B1cCA9IHBvcHVwO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJWaWV3Lm1hcE1hcmtlciA9IG1hcE1hcmtlcjtcbiAgICAgICAgICAgICAgICAgICAgcG9wdXAuc2V0Q29udGVudChtYXJrZXJWaWV3LmVsKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLmJpbmRQb3B1cChwb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNsaWNrIGhhbmRsZXIgZm9yIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBtYXJrZXIsIHdoaWNoIHdvdWxkIGNsb3NlIHRoZSBwb3B1cCBpZiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyB3ZXJlIGFscmVhZHkgb3BlblxuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyTW9kZWwudHJpZ2dlcignYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoYXQuY29uZmlnLm1hcC5ob3ZlclBvcHVwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlbnBvcHVwW3BvcHVwaWQobWFwTWFya2VyLmdldExhdExuZygpKV0pIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcE1hcmtlci5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGxpY2F0aW9uIG9iamVjdCwgbm90IGxlYWZsZXRqc1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJNb2RlbC5vbignYWN0aXZlJywgZnVuY3Rpb24oYXJ0aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVucG9wdXBbcG9wdXBpZChtYXBNYXJrZXIuZ2V0TGF0TG5nKCkpXSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3BlbnBvcHVwW3BvcHVwaWQobWFwTWFya2VyLmdldExhdExuZygpKV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIG1hcG1hcmtlciB0byBsYXllciBieSBsYXllciB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmhhcyhsYXllck1hcmtlcnMsIGdlb2pzb24ucHJvcGVydGllcy5sYXllcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyTWFya2Vyc1tnZW9qc29uLnByb3BlcnRpZXMubGF5ZXJdLnB1c2gobWFwTWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyTWFya2Vyc1tnZW9qc29uLnByb3BlcnRpZXMubGF5ZXJdID0gW21hcE1hcmtlcl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBvaW50VG9MYXllcjogZnVuY3Rpb24gKGZlYXR1cmUsIGxhdGxuZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTC5tYXJrZXIobGF0bG5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAgICAgICAgaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogICAhIWZlYXR1cmUucHJvcGVydGllcy50ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICAgICAgIChmZWF0dXJlLnByb3BlcnRpZXMubWFya2VybmFtZSB8fCAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAgICAgbWFwY29uZmlnLmZlYXR1cmVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICByaXNlT25Ib3ZlcjogbWFwY29uZmlnLmZlYXR1cmVzLnJpc2VPbkhvdmVyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoTWFwVmlldy5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gTWFwVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvbWFya2VyJywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJyxcbiAgICAnYmFja2JvbmUnLFxuICAgICd0ZXh0IXBhcnRpYWxzL21hcmtlci5odG1sJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLHRtcGwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE1hcmtlclZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIHRlbXBsYXRlOiBfLnRlbXBsYXRlKHRtcGwpLFxuICAgICAgICBlbDogJycsXG4gICAgICAgIHJvdXRlcjogbnVsbCxcbiAgICAgICAgcG9wdXA6IG51bGwsXG4gICAgICAgIG1hcE1hcmtlcjogbnVsbCxcbiAgICAgICAgbGVnZW5kQ2xhc3M6ICcnLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LnJvdXRlciA9IGFyZ3Mucm91dGVyO1xuICAgICAgICAgICAgdGhhdC5tb2RlbC5vbignYWN0aXZlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9ICdhcnRpY2xlLycgKyB0aGF0Lm1vZGVsLmFydGljbGUuZ2V0KCdhcnRpY2xlaWQnKTtcbiAgICAgICAgICAgICAgICB0aGF0LnJvdXRlci5uYXZpZ2F0ZSh1cmwsIHt0cmlnZ2VyOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhhdC5tb2RlbC5vbigndG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCd0b2dnbGUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwoXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGFydGljbGVpZDogIHRoaXMubW9kZWwuYXJ0aWNsZS5nZXQoJ2FydGljbGVpZCcpLFxuICAgICAgICAgICAgICAgICAgICBnZW9qc29uOiAgICB0aGlzLm1vZGVsLmFydGljbGUuZ2V0R2VvanNvbigpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gTWFya2VyVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvbWVudScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL21lbnUuaHRtbCdcbiAgICAsICdtaXhpbnMvZG9td2F0Y2hlcidcbiAgICAsICd2aWV3cy9hcnRpY2xlL21lbnUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsbWVudVRtcGwsRE9NV2F0Y2hlcixBcnRpY2xlTWVudVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE1lbnVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZShtZW51VG1wbCksXG4gICAgICAgICAgaWQ6ICAgICAgJ21lbnUnXG4gICAgICAgICwgdGFnTmFtZTogJ2RpdidcbiAgICAgICAgLCBpc3N1ZTogICBudWxsXG4gICAgICAgICwgY29uZmlnOiAge31cbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5pc3N1ZSAgPSBhcmdzLmlzc3VlO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCQoJyMnICsgdGhhdC5pZCkuY2hpbGRyZW4oKS5sZW5ndGggIT09IDApIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuY29uZmlnLm1lbnU7XG4gICAgICAgICAgICAvLyByZW5kZXIgZWFjaCBpdGVtIGZyb20gdGhlIGNvbmZpZyBmaWxlIHRvIGEgPGxpPlxuICAgICAgICAgICAgLy8gbXVzdCBiZSBkb25lIGFzeW5jIGR1ZSB0byByZXRyaWV2YWwgb2YgcGFydGlhbCBmaWxlc1xuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgLy8gY2FjaGUgb2YgdGVtcGxhdGUgc3RyaW5nczogdXJsID0+IHRlbXBsXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVzID0ge307XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIF8uZWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzW2l0ZW0ucGFydGlhbF0gPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVudScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpdGVtLmNvbGxlY3Rpb24gPT09IFwiY29sbGVjdGlvbnMvYXJ0aWNsZXNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnNbaXRlbS5jb2xsZWN0aW9uXSA9IHRoYXQuaXNzdWUuZ2V0KCdjb2xsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmhhbmRsZWQgY29sbGVjdGlvbiB0eXBlIHJlcXVlc3RlZDogXCIgKyBpdGVtLmNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfLmVhY2goXy5rZXlzKHRlbXBsYXRlcyksIGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICAgIHZhciAkZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgICAgIHJlcXVpcmUoWyd0ZXh0IScgKyB1cmxdLCBmdW5jdGlvbih0ZW1wbCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXNbdXJsXSA9IF8udGVtcGxhdGUodGVtcGwpO1xuICAgICAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKCRkZWYucHJvbWlzZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcmVuZGVyIHRoZSBtZW51IGFzIGEgPGRpdj5cbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gJyc7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoJCwgcHJvbWlzZXMpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGl0ZW0ucGFydGlhbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvcnRlciA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydEtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3BhZ2UnIHx8IGl0ZW0udHlwZSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gKHRlbXBsYXRlc1t1cmxdKShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdtZW51Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnNbaXRlbS5jb2xsZWN0aW9uXS5tb2RlbHMuZm9yRWFjaChmdW5jdGlvbihtb2RlbCxqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhyZWYgICAgPSBpdGVtLml0ZW0uaHJlZi5yZXBsYWNlKCc6aScsIGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbXYgICAgID0gbmV3IEFydGljbGVNZW51Vmlldyh7bW9kZWw6bW9kZWx9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ICA9IGFtdi5yZW5kZXIoe2hyZWY6ICcjJyArIGhyZWZ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGxpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgYW4gPGxpPiBlbGVtZW50IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpID0gJChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaSA9ICQocmVzdWx0LmlubmVySFRNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0Lm5vZGVOYW1lID09PSAnTEknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGkgPSAkKHJlc3VsdC5vdXRlckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBkb2N1bWVudCBlbGVtZW50IGZvciBzdWJtZW51OiAnICsgcmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCByZXN1bHQgdHlwZSBmb3Igc3VibWVudTogJyArIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRsaS5hdHRyKCdkYXRhLXNvcnQta2V5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVyWyRsaS5hdHRyKCdkYXRhLXNvcnQta2V5JyldID0gJGxpLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVyWyRsaS5maW5kKCdhJykudGV4dCgpXSA9ICRsaS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ydEtleXMgPSBfLmtleXMoc29ydGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRLZXlzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHNvcnRLZXlzLCBmdW5jdGlvbihrZXkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNvbnRlbnQgKz0gc29ydGVyW2tleV1bMF0ub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9ICh0ZW1wbGF0ZXNbdXJsXSkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdWJDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHRoYXQuaWQpLmVtcHR5KCkuYXBwZW5kKHRoYXQudGVtcGxhdGUoe2NvbnRlbnQ6IGNvbnRlbnR9KSk7XG4gICAgICAgICAgICAgICAgLy8gY29uZmlybSB0aGF0IHRoZSBtZW51IGhhcyBsb2FkZWRcbiAgICAgICAgICAgICAgICB2YXIgJGZhaWxEZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAgICAgJGZhaWxEZWYuZmFpbChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQud2F0Y2hET00oNTAwLCAnIycgKyB0aGF0LmlkLCAkZmFpbERlZik7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBidWlsZCBtZW51LlwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoTWVudVZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIHJldHVybiBNZW51Vmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvcGFnZScsIFtcbiAgICAnanF1ZXJ5JywgXG4gICAgJ3VuZGVyc2NvcmUnLCBcbiAgICAnYmFja2JvbmUnLFxuICAgICdtaXhpbnMvZG9td2F0Y2hlcicsXG4gICAgJ3RleHQhcGFydGlhbHMvcGFnZS5odG1sJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLERPTVdhdGNoZXIscGFnZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUGFnZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyICRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkZGVmLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGF0LmVsKS5hcHBlbmQocGFnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hET00oMTAwMCx0aGF0LmVsLCRkZWYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoUGFnZVZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIHJldHVybiBQYWdlVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvcGFydGlhbCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtaXhpbnMvZG9td2F0Y2hlcidcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLERPTVdhdGNoZXIsQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBQYXJ0aWFsVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgZWw6ICcnLFxuICAgICAgICBwYWdlOiAnJyxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuZWwgICA9IG9wdHMuZWw7XG4gICAgICAgICAgICB0aGF0LiRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICByZXF1aXJlKFsndGV4dCEnICsgb3B0cy5wYWdlXSwgZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICAgICAgICAgIHRoYXQucGFnZSA9IGh0bWw7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgJHdhdGNoRGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdGhhdC5pbml0KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoYXQuZWwpLmFwcGVuZCh0aGF0LnBhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndhdGNoRE9NKDEwMDAsdGhhdC5lbCwkd2F0Y2hEZWYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoUGFydGlhbFZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIF8uZXh0ZW5kKFBhcnRpYWxWaWV3LnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBQYXJ0aWFsVmlldztcbn0pO1xuIiwiIiwiIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9lcnJvci91c2VyJywgW1xuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKEJhY2tib25lKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBVc2VyRXJyb3JNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBcIm1zZ1wiIDogXCJcIlxuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLnNldCgnbXNnJywgYXJncy5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH0pOyAgICBcbiAgICByZXR1cm4gVXNlckVycm9yTW9kZWw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG4vKlxuICogVGhpcyBpcyBtZWFudCB0byBiZSBleHRlbmRlZCBhcyBhbiBhYnN0cmFjdCBiYXNlIGNsYXNzIGZvciB0aGVcbiAqIHNlY3Rpb25zIG9mIGFuIGFydGljbGUuXG4gKi9cbmRlZmluZSgndmlld3MvYXJ0aWNsZS9tZW51JywgW1xuICAgICdqcXVlcnknLCBcbiAgICAndW5kZXJzY29yZScsIFxuICAgICdiYWNrYm9uZScsXG4gICAgJ21peGlucy94bWwyaHRtbCcsXG4gICAgJ3RleHQheHNsL2FydGljbGUtbWVudS54c2wnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsWE1MMkhUTUwsYW1Yc2wpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVNZW51VmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIC8vIHRoaXMgdmlldyBpcyBtZWFudCB0byBiZSBjYWxsZWQgb25seSBhZnRlciB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAgICAgICAgLy8gYXJ0aWNsZSBtb2RlbCBoYXMgYmVlbiBpbml0aWFsaXplZFxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaW5pdCgpLnN0YXRlKCkgIT09ICdyZXNvbHZlZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVuaW5pdGlhbGl6ZWQgYXJ0aWNsZSBpbiBBcnRpY2xlTWVudVZpZXdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtZW51aXRlbSA9IHRoYXQueG1sMmh0bWwodGhhdC5tb2RlbC5nZXQoJ3htbCcpLCBhbVhzbCwgcGFyYW1zKTtcbiAgICAgICAgICAgIHJldHVybiBtZW51aXRlbTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKEFydGljbGVNZW51Vmlldy5wcm90b3R5cGUsWE1MMkhUTUwpO1xuICAgIHJldHVybiBBcnRpY2xlTWVudVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2Vycm9yL3VzZXInLCBbXG4gICAgJ2pxdWVyeScsIFxuICAgICdiYWNrYm9uZScsIFxuICAgICd0ZXh0IXBhcnRpYWxzL2Vycm9yL3VzZXIuaHRtbCdcbl0sIGZ1bmN0aW9uKCQsQmFja2JvbmUsdG1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgVXNlckVycm9yVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUodG1wbCksXG4gICAgICAgIGVsOiAkKCcjZXJyb3JEaWFsb2cnKSxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICB0aGlzLiRlbC5tb2RhbCh7a2V5Ym9hcmQ6IHRydWUsIHNob3c6IHRydWV9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFVzZXJFcnJvclZpZXc7XG59KTtcbiIsInJlcXVpcmUuY29uZmlnKHtcbiAgcGF0aHM6IHtcbiAgICB0ZXh0OiAgICAgICAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcmVxdWlyZS10ZXh0LzIuMC4xMi90ZXh0Lm1pbicsXG4gICAganF1ZXJ5OiAgICAgJy8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4nLFxuICAgIGJvb3RzdHJhcDogICcvL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNC9qcy9ib290c3RyYXAubWluJyxcbiAgICBiYWNrYm9uZTogICAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvYmFja2JvbmUuanMvMS4xLjIvYmFja2JvbmUtbWluJyxcbiAgICB1bmRlcnNjb3JlOiAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdW5kZXJzY29yZS5qcy8xLjguMy91bmRlcnNjb3JlLW1pbicsXG4gICAgbGVhZmxldDogICAgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQvMC43LjMvbGVhZmxldCcsXG4gICAgc2xpZGVzanM6ICAgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3NsaWRlc2pzLzMuMC9qcXVlcnkuc2xpZGVzLm1pbicsXG4gICAgbGlnaHRib3g6ICAgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21hZ25pZmljLXBvcHVwLmpzLzEuMC4wL2pxdWVyeS5tYWduaWZpYy1wb3B1cC5taW4nLFxuICAgIHBhcnRpYWxzOiAgICcuLi9wYXJ0aWFscycsXG4gICAgeHNsOiAgICAgICAgJy4uL3NjcmlwdC94c2wnLFxuICAgIHBhZ2VzOiAgICAgICcuLi9wYWdlcydcbiAgfSxcbiAgc2hpbToge1xuICAgIGJvb3RzdHJhcDoge1xuICAgICAgZGVwczogWydqcXVlcnknXVxuICAgIH0sXG4gICAgYmFja2JvbmU6IHtcbiAgICAgICAgJ2RlcHMnOiBbJ2pxdWVyeScsICd1bmRlcnNjb3JlJ10sXG4gICAgICAgICdleHBvcnRzJzogJ0JhY2tib25lJ1xuICAgIH0sXG4gICAgdW5kZXJzY29yZToge1xuICAgICAgICAnZXhwb3J0cyc6ICdfJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICAnZGVwcyc6IFtdXG4gICAgfSxcbiAgICBzbGlkZXNqczoge1xuICAgICAgICBkZXBzOiBbJ2pxdWVyeSddXG4gICAgfSxcbiAgICBsaWdodGJveDoge1xuICAgICAgZGVwczogWydqcXVlcnknXVxuICAgIH1cbiAgfVxufSk7XG5yZXF1aXJlKFtcbiAgICAnanF1ZXJ5JyxcbiAgICAnbW9kZWxzL2Vycm9yL3VzZXInLFxuICAgICd2aWV3cy9lcnJvci91c2VyJyxcbiAgICAnbW9kZWxzL2FwcCcsXG4gICAgJ3ZpZXdzL2FwcCcsXG4gICAgJ2Jvb3RzdHJhcCdcbl0sIGZ1bmN0aW9uKCQsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldyxBcHBNb2RlbCxBcHBWaWV3KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBjb25maWdmaWxlID0gJCgnI21haW4nKS5hdHRyKCdkYXRhLWNvbmZpZycpO1xuICAgIGlmIChjb25maWdmaWxlKSB7XG4gICAgICAgICQuZ2V0SlNPTihjb25maWdmaWxlLCBmdW5jdGlvbihzaXRlY29uZmlnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBhcHAgPSBuZXcgQXBwVmlldyh7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiAobmV3IEFwcE1vZGVsKHtjb25maWc6IHNpdGVjb25maWd9KSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVc2VyRXJyb3JWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBuZXcgVXNlckVycm9yTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oanF4aHIsIHRleHRTdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICBuZXcgVXNlckVycm9yVmlldyh7XG4gICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogXCJGYWlsZWQgdG8gbG9hZCBzaXRlIGNvbmZpZyBmaWxlICdcIiArIGNvbmZpZ2ZpbGUgKyBcIicgXCIgKyBlcnJvclxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IFVzZXJFcnJvclZpZXcoe1xuICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgbXNnOiBcIk5vIGNvbmZpZ3VyYXRpb24gZmlsZW5hbWUgc3BlY2lmaWVkIGluIGhvbWUgcGFnZS5cIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=