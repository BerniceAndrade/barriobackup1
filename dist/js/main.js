define("collections/articles",["jquery","underscore","backbone","models/article"],function(e,c,n,o){"use strict";var r=n.Collection.extend({model:o});return r});
define("collections/markers",["jquery","underscore","backbone","models/marker"],function(e,r,n,o){"use strict";var c=n.Collection.extend({model:o});return c});
define("models/app",["jquery","underscore","backbone","routes/router","models/issue"],function(e,n,o,i,r){"use strict";var s=o.Model.extend({initialize:function(e){var n=new r({config:e.config});new i({routes:e.config.pages.routes,config:e.config,issue:n})}});return s});
define("models/article",["jquery","underscore","backbone","mixins/fetchxml","mixins/asyncInit","mixins/xml2html","text!xsl/geojson.xsl"],function(e,t,n,r,i,o,s){"use strict";var l=n.Model.extend({initialize:function(){var t=this;t.$def=e.Deferred();var n=t.fetchXML(t.get("path"));e.when(n).done(function(e){t.set("xml",e),t.$def.resolve(t)}).fail(function(){t.$def.reject()})},defaults:{xml:null,marker:null},select:function(){this.trigger("active")},unselect:function(){this.trigger("inactive")},geojson:function(){var e="{}";try{var t=this.get("xml"),n=this.xml2html(t,s,{},"text");e=JSON.parse(n)}catch(r){throw new Error("Failed to parse to json: "+r.toString())}return e}});return t.extend(l.prototype,r),t.extend(l.prototype,i),t.extend(l.prototype,o),l});
define("models/issue",["jquery","underscore","backbone","models/article","collections/articles","mixins/asyncInit"],function(e,t,i,n,c,l){"use strict";var r=i.Model.extend({initialize:function(i){var l=this;l.$def=e.Deferred();var r=i.config.articles.pathBase;r.match(/\/$/)||(r+="/");var a=i.config.articles.files,o=new c;l.config=i.config,l.set("collection",o);var s=t.map(t.range(a.length),function(){return void 0});t.each(a,function(e,t){s[t]=new n({articleid:t,articledir:r,path:r+e})});var f=t.map(s,function(e){return e.init()});e.when({},f).fail(function(){l.$def.reject()}),e.when.apply(null,f).done(function(){o.add(s),l.on("select",function(e){l._selectArticle(e)}),l.$def.resolve(l)}),e.when.apply(null,f).always(function(){t.forEach(f,function(e){"rejected"===e.state()&&l.$def.reject()}),l.$def.resolve(l)})},defaults:{activeArticle:null},_selectArticle:function(e){var t,i=this,n=i.get("collection");if("object"==typeof e)t=e;else{if("number"!=typeof e&&"string"!=typeof e)throw"Bad argument to models/issue";t=n.at(e)}(null===this.get("activeArticle")||this.get("activeArticle")!=e)&&(this.get("activeArticle")&&this.get("activeArticle").unselect(),i.set("activeArticle",t),t.init().done(function(){i.trigger("update",t),t.select()}))}});return t.extend(r.prototype,l),r});
define("models/map",["jquery","underscore","backbone","collections/markers","models/marker","mixins/asyncInit"],function(e,n,o,i,r,t){"use strict";var s=o.Model.extend({initialize:function(n){var o=this;if(o.$def=e.Deferred(),o.issue=n.issue,void 0===o.issue)throw new Error("Missing issue model in map model");if(o.set("router",n.router),!n.router)throw new Error("No router in MapModel");var i=e.Deferred();e.getJSON(n.config.map.config,function(e){o.set("mapconfig",e),i.resolve()}).fail(function(e,n,o){i.reject(),console.log("Failed to load map config file: "+o)}),e.when.apply({},[o.issue.init(),i]).done(function(){o._makeCollection(o.issue.get("collection").models,{success:function(){o.$def.resolve(o)},fail:function(){o.$def.reject()}})}).fail(function(){o.$def.reject()}).always(function(){o.$def.reject()})},defaults:{mapconfig:{}},_makeCollection:function(o,t){var s=this,c=[],f=new i;s.set("collection",f);var a=n.map(n.range(o.length),function(){return void 0}),u=!1,l="";o.forEach(function(n,o){var i=e.Deferred();c.push(i),n.init().done(function(){var e;try{e=new r({issue:s.issue,article:n,json:n.geojson(),router:s.router})}catch(t){return u=!0,l+="\n"+t.toString(),void i.resolve()}a[o]=e,i.resolve()})}),e.when.apply({},c).done(function(){if(f.add(a),u)throw new Error(l);t.success()}).fail(function(){t.fail()})}});return n.extend(s.prototype,t),s});
define("models/marker",["jquery","underscore","backbone"],function(e,i,t){"use strict";var r=t.Model.extend({article:null,json:{},initialize:function(e){var i=this;i.app=e.app,i.article=e.article,i.router=e.router,e.issue.init().done(function(e){i.listenTo(i.article,"active",function(){i.trigger("active")})})}});return r});
define("routes/router",["jquery","underscore","backbone","models/error/user","views/error/user","views/clear","views/issue","views/map","views/menu"],function(e,i,r,n,s,t,a,o,u){"use strict";var g=r.Router.extend({pages:{},config:{},issue:null,mapView:null,initialize:function(e){var n=this;this.config=e.config,this.pages=e.config.pages,this.issue=e.issue,this.issue.init().done(function(){i.has(n.pages.router,"history")&&n.pages.router.history&&r.history.start()})},navigate:function(e,i){r.history.fragment!==e&&r.history.navigate(e,i)},page:function(e){var r,n=this;try{if(e||(e=this.pages.home),r=this.pages.pages[e],void 0===r)throw new Error("Missing config in router/page")}catch(s){return this.page("404")}(new t).render(),i.each(r,function(r){var s,t={config:n.config,issue:n.issue,router:n},a=JSON.parse(JSON.stringify(r));if(i.has(a,"view"))s=a.view;else{if(!i.has(a,"partial")){if(i.has(confg,"full"))return void(window.location.href=a.full.page);throw new Error("Unsupported page type in router: "+e)}s="views/partial",a.partial.page=n.pages.pathBase+a.partial.page,t=i.extend(t,a.partial)}require([s],function(e){var i=new e(t);"views/map"===s&&(n.mapView=i),i.render()})})},article:function(i){var r=this,n={config:r.config,issue:r.issue,router:r};if(e("#titlepage").length>0&&e("#titlepage").remove(),0===e("#issue").length){var s=new a(n);s.render()}if(0===e("#map").length&&(r.mapView=new o(n),r.mapView.render()),0===e("#menu").children().length){var t=new u(n);t.render()}e.when.apply({},[r.mapView.init()]).done(function(){r.issue.trigger("select",i)})}});return g});
define("mixins/asyncInit",["jquery","underscore"],function(n,e){"use strict";var i={$def:null,init:function(){return this.$def.promise()}};return i});
define("mixins/domwatcher",["jquery"],function(e){"use strict";var t={watchDOM:function(t,o,n){if(!o)throw"Empty selector in watchDOM()";if(0===e(o).length){var d=function(){e(o).length>0&&(e(document.body).off("DOMNodeInserted",d),n.resolve())};e(document.body).on("DOMNodeInserted",d),window.setTimeout(function(){e(document.body).off("DOMNodeInserted",d),n.reject()},t)}else n.resolve()}};return t});
define("mixins/fetchxml",["jquery"],function(e){"use strict";var r={fetchXML:function(r){var t=e.Deferred();return e.ajax({type:"GET",url:r,dataType:"xml",success:function(e){t.resolve(e)},error:function(e,r,n){t.reject()}}),t.promise()}};return r});
define("mixins/xml2html",["jquery","underscore"],function(e,t){"use strict";var r={_doc:function(e){var t;if("string"==typeof e)t=(new DOMParser).parseFromString(e,"text/xml");else{if(!(e instanceof Document))throw new Error("Unrecognized document input in XML2HTML");t=e}if(null==t||!t.hasOwnProperty("getElementsByTagName")&&t.getElementsByTagName("parsererror").length>0)throw new Error("Failed to parse document in xml2html");return t},xml2html:function(e,r,n,o){var i=this._doc(e),m=this._doc(r),a=new XSLTProcessor;a.importStylesheet(m),"object"==typeof n&&t.each(t.keys(n),function(e){a.setParameter(null,e,n[e])});var s;try{var c=a.transformToDocument(i);s=-1!=navigator.userAgent.indexOf("Firefox")?"text"===o?c.documentElement.textContent:c.documentElement:"text"===o?c.documentElement.textContent:s=c.body.innerHTML}catch(u){throw new Error("Error in XSLT transform: "+u.toString())}return s}};return r});
define("views/app",["jquery","underscore","backbone"],function(e,n,i){"use strict";var o=i.View.extend({el:"body",initialize:function(){e(window).resize(function(){document.location.reload()})}});return o});
define("views/article",["jquery","underscore","backbone","mixins/domwatcher","mixins/xml2html","text!xsl/article.xsl","text!partials/popover.html","text!partials/popover-content.html","text!partials/lightbox-title.html","slidesjs","lightbox"],function(e,t,i,s,r,o,a,l,n){"use strict";var d=i.View.extend({id:"article",initialize:function(e){var t=this;t.config=e.config},render:function(){var t=this;t.$el=e("#"+t.id);var i=this.xml2html(this.model.get("xml"),o,{"article-dir":t.config.articles.pathBase});try{e(".article-content").remove(),e("#"+this.id).append(i)}catch(s){console.log("article load error: "+s.toString())}if(0===e("img.slidesjs-slide").length)e("#footer").remove(),e("article").removeClass("before-footer").addClass("no-footer");else try{t.postprocess()}catch(s){throw new Error("Failed to handle article images")}return t},remove:function(){},postprocess:function(){var i=this,s=e("#article article").height()-e("#header").outerHeight(!0);e("#body").css({height:s});var r=t.template(l);e("img.slidesjs-slide").each(function(t,i){var s=i.getAttribute("id"),o=e(".popover."+s),l=o.find(".head").text();e(i).attr("alt",o.find(".desc").text());var n=r({attr:o.find(".attr").text()});e(i).popover({container:"body",html:!0,content:n,title:l,template:a,trigger:"hover",placement:"left"}),e(i).click(function(t){e(i).popover("hide")})});var o=[];return i.$el.find("img.slidesjs-slide").each(function(t,i){var s=e.Deferred();e(i).load(function(){e(i).removeClass("remove"),s.resolve()}),e(i).error(function(){window.setTimeout(function(){s.reject()},500)}),o.push(s)}),e.when.apply({},o).always(function(){e("img.slidesjs-slide.remove").remove(),e(".image-loading").removeClass("image-loading"),e("#slides").slidesjs({navigation:{active:e("img.slidesjs-slide").length>1,effect:"fade"},pagination:{active:e("img.slidesjs-slide").length>1,effect:"fade"},effect:{fade:{speed:100,crossfade:!0}},callback:{loaded:function(t){var i=e(".slidesjs-control").children(":eq("+(t-1)+")");i.css({visibility:"hidden"}),i.css({height:"auto",width:"auto",maxHeight:e(".slidesjs-container").height(),maxWidth:e(".slidesjs-container").width(),position:"relative"});var s=(e(".slidesjs-container").width()-i.width())/2;s-=parseInt(i.css("padding-left"),10),i.css({left:s}),i.css({visibility:"visible"})},start:function(t){e(".slidesjs-control").children().css({visibility:"hidden"})},complete:function(t){var i=t-1,s=e(".slidesjs-control").children(":eq("+i+")");s.css({height:"auto",width:"auto",maxHeight:e(".slidesjs-container").height(),maxWidth:e(".slidesjs-container").width(),position:"relative"}),s.css({visibility:"visible"})}}})}),e(".gallery-item").magnificPopup({type:"image",gallery:{enabled:!0},image:{titleSrc:function(i){var s=i.el.attr("id"),r=e(".popover."+s),o=t.template(n),a=o({title:r.find(".head").text(),attr:r.find(".attr").text()});return a}}}),i}});return t.extend(d.prototype,s),t.extend(d.prototype,r),d});
define("views/clear",["jquery","underscore","backbone"],function(e,n,r,t){"use strict";var c=r.View.extend({el:"body",render:function(){e("body").empty()}});return c});
define("views/issue",["jquery","underscore","backbone","text!partials/issue.html","views/article"],function(e,i,t,n,o){"use strict";var r=t.View.extend({el:"#issue",template:i.template(n),initialize:function(e){var i=this;i.model=e.issue,i.model.on("update",function(e){i.select(e)})},render:function(){this.$el.remove(),e("body").append(n)},select:function(e){var i=this,t=new o({model:e,config:i.model.config,issue:i,router:i.model.router});e.on("active",t.render,t),e.on("inactive",t.remove,t)}});return r});
define("views/map",["jquery","underscore","backbone","leaflet","text!partials/map.html","models/map","views/marker","mixins/asyncInit"],function(e,t,n,o,i,r,a,p){"use strict";var c=n.View.extend({id:"map",tagName:"div",initialize:function(t){var n=this;n.$def=e.Deferred(),n.config=t.config,n.model=new r(t),n.router=t.router},render:function(){var t=this;e("#"+t.id).children().length>0||(e("body").append(i),this.model.init().done(function(){var e=t.model.get("collection"),n=t.model.get("mapconfig"),i=new o.Map(n.id,n.map),r={},a=function(e){return e.lat.toString()+e.lng.toString()};t.configureMap(i,n,r,a),i.invalidateSize(),window.setTimeout(function(){e.forEach(function(e){t.addMarkerToMap(e,i,r,a,n)}),t.$def.resolve(t)},t.config.map.markerDelay)}))},configureMap:function(t,n,i,r){var a=new o.TileLayer(n.tileLayer.url,n.tileLayer.opts),p=o.control.scale(n.scale);t.setView(new o.LatLng(n.view.lat,n.view.lng),n.view.zoom),t.addLayer(a),p.addTo(t),t.on("popupopen",function(n){var a,p,c,u,d,f;a=n.popup,c=a.getLatLng(),p=e(a.getContent()).closest(".leaflet-popup-content-wrapper").first(),d=o.DomUtil.getViewportOffset(document.getElementById("article")).x,f=o.point(a.options.autoPanPaddingBottomRight||a.options.autoPanPadding),f=f?f.x:0,u=p.offset().left+p.width()+f,u>d&&d!=t.getSize().x&&t.panBy([u-d,0]),i[r(c)]=-1!=navigator.userAgent.indexOf("Firefox")?!0:!0}),t.on("popupclose",function(e){i[r(e.popup.getLatLng())]=-1!=navigator.userAgent.indexOf("Firefox")?!1:!1})},addMarkerToMap:function(e,t,n,i,r){var p=this,c=e.get("json"),u=new a({model:e,router:p.router});u.render(),o.geoJson(c,{onEachFeature:function(t,a){var c=o.popup(r.features.popup);c.setContent(u.el),a.bindPopup(c),a.removeEventListener("click"),a.on("click",function(){e.trigger("active")}),a.on("mouseover",function(){p.config.map.hoverPopup&&(n[i(a.getLatLng())]||a.openPopup())}),e.on("active",function(e){n[i(a.getLatLng())]||a.openPopup()}),n[i(a.getLatLng())]=!1},pointToLayer:function(e,t){return o.marker(t,{icon:o.icon(r.features.icon),clickable:!!e.properties.text,title:e.properties.markername||"",opacity:r.features.opacity,riseOnHover:r.features.riseOnHover})}}).addTo(t)}});return t.extend(c.prototype,p),c});
define("views/marker",["jquery","underscore","backbone","text!partials/marker.html"],function(e,t,r,i){"use strict";var l=r.View.extend({template:t.template(i),el:"",router:null,initialize:function(e){var t=this;t.router=e.router,t.model.on("active",function(){var e="article/"+t.model.article.get("articleid");t.router.navigate(e,{trigger:!0}),t.model.get("issue").trigger("select",t.model.get("article"))})},render:function(){this.$el.html(this.template({articleid:this.model.article.get("articleid"),geojson:this.model.article.geojson()}))}});return l});
define("views/menu",["jquery","underscore","backbone","text!partials/menu.html","mixins/domwatcher","views/article/menu"],function(e,t,n,i,r,o){"use strict";var a=n.View.extend({template:t.template(i),id:"menu",tagName:"div",issue:null,config:{},initialize:function(e){this.config=e.config,this.issue=e.issue},render:function(){var n=this;if(0===e("#"+n.id).children().length){var i=this.config.menu,r=[],a={},c={};t.each(i,function(e){if(a[e.partial]="","menu"===e.type){if("collections/articles"!==e.collection)throw new Error("Unhandled collection type requested: "+e.collection);c[e.collection]=n.issue.get("collection")}}),t.each(t.keys(a),function(n){var i=e.Deferred();require(["text!"+n],function(e){a[n]=t.template(e),i.resolve()}),r.push(i.promise())});var l="";e.when.apply(e,r).done(function(){t.forEach(i,function(n,i){var r=n.partial,u={},s="",f=[];"page"===n.type||"sep"===n.type?l+=a[r](n):"menu"===n.type&&(c[n.collection].models.forEach(function(t,i){var r,a=n.item.href.replace(":i",i),c=new o({model:t}),l=c.render({href:"#"+a});if("string"==typeof l)r=e(l);else{if(!(l instanceof Element))throw new Error("Unsupported result type for submenu: "+l.toString());if("BODY"===l.nodeName)r=e(l.innerHTML);else{if("LI"!==l.nodeName)throw new Error("Unsupported document element for submenu: "+l.toString());r=e(l.outerHTML)}}r.attr("data-sort-key")?u[r.attr("data-sort-key")]=r.clone():u[r.find("a").text()]=r.clone()}),f=t.keys(u),f.sort(function(e,t){return e.localeCompare(t)}),t.each(f,function(e){s+=u[e][0].outerHTML}),l+=a[r]({label:n.label,items:s}))})}).then(function(){e("#"+n.id).empty().append(n.template({content:l}));var t=e.Deferred();t.fail(function(){n.render()}),n.watchDOM(500,"#"+n.id,t)}).fail(function(){throw new Error("Failed to build menu.")})}}});return t.extend(a.prototype,r),a});
define("views/page",["jquery","underscore","backbone","mixins/domwatcher","text!partials/page.html"],function(e,t,n,r,i){"use strict";var a=n.View.extend({el:"body",render:function(){var t=this,n=e.Deferred();n.then(function(){e(t.el).append(i)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,r),a});
define("views/partial",["jquery","underscore","backbone","mixins/domwatcher","mixins/asyncInit"],function(e,t,n,i,r){"use strict";var a=n.View.extend({el:"",page:"",initialize:function(t){var n=this;n.el=t.el,n.$def=e.Deferred(),require(["text!"+t.page],function(e){n.page=e,n.$def.resolve(n)})},render:function(){var t=this,n=e.Deferred();t.init().then(function(){e(t.el).append(t.page)}),this.watchDOM(1e3,t.el,n)}});return t.extend(a.prototype,i),t.extend(a.prototype,r),a});
define("models/error/user",["backbone"],function(e){"use strict";var s=e.Model.extend({defaults:{msg:""},initialize:function(e){this.set("msg",e.message)}});return s});
define("views/article/menu",["jquery","underscore","backbone","mixins/xml2html","text!xsl/article-menu.xsl"],function(e,t,i,n,r){"use strict";var l=i.View.extend({render:function(e){var t=this;if("resolved"!==this.model.init().state())throw"Uninitialized article in ArticleMenuView";var i=t.xml2html(t.model.get("xml"),r,e);return i}});return t.extend(l.prototype,n),l});
define("views/error/user",["jquery","backbone","text!partials/error/user.html"],function(e,t,r){"use strict";var i=t.View.extend({template:_.template(r),el:e("#errorDialog"),initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$el.modal({keyboard:!0,show:!0}),this}});return i});
require.config({paths:{text:"//cdnjs.cloudflare.com/ajax/libs/require-text/2.0.12/text.min",jquery:"//code.jquery.com/jquery-2.1.4.min",bootstrap:"//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min",backbone:"//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min",underscore:"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min",leaflet:"//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet",slidesjs:"//cdnjs.cloudflare.com/ajax/libs/slidesjs/3.0/jquery.slides.min",lightbox:"//cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.0.0/jquery.magnific-popup.min",partials:"../partials",xsl:"../script/xsl",pages:"../pages"},shim:{bootstrap:{deps:["jquery"]},backbone:{deps:["jquery","underscore"],exports:"Backbone"},underscore:{exports:"_"},text:{deps:[]},slidesjs:{deps:["jquery"]},lightbox:{deps:["jquery"]}}}),require(["jquery","models/error/user","views/error/user","models/app","views/app","bootstrap"],function(e,s,o,r,a){"use strict";var i=e("#main").attr("data-config");i?e.getJSON(i,function(e){try{{new a({model:new r({config:e})})}}catch(i){opts.config.debug||new o({model:new s({msg:i.toString()})})}}).fail(function(e,r,a){new o({model:new s({msg:"Failed to load site config file '"+i+"' "+a})})}):new o({model:new s({msg:"No configuration filename specified in home page."})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbGxlY3Rpb25zL2FydGljbGVzLmpzIiwiY29sbGVjdGlvbnMvbWFya2Vycy5qcyIsIm1vZGVscy9hcHAuanMiLCJtb2RlbHMvYXJ0aWNsZS5qcyIsIm1vZGVscy9pc3N1ZS5qcyIsIm1vZGVscy9tYXAuanMiLCJtb2RlbHMvbWFya2VyLmpzIiwicm91dGVzL3JvdXRlci5qcyIsIm1peGlucy9hc3luY0luaXQuanMiLCJtaXhpbnMvZG9td2F0Y2hlci5qcyIsIm1peGlucy9mZXRjaHhtbC5qcyIsIm1peGlucy94bWwyaHRtbC5qcyIsInZpZXdzL2FwcC5qcyIsInZpZXdzL2FydGljbGUuanMiLCJ2aWV3cy9jbGVhci5qcyIsInZpZXdzL2lzc3VlLmpzIiwidmlld3MvbWFwLmpzIiwidmlld3MvbWFya2VyLmpzIiwidmlld3MvbWVudS5qcyIsInZpZXdzL3BhZ2UuanMiLCJ2aWV3cy9wYXJ0aWFsLmpzIiwibW9kZWxzL2Vycm9yL3VzZXIuanMiLCJ2aWV3cy9hcnRpY2xlL21lbnUuanMiLCJ2aWV3cy9lcnJvci91c2VyLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCIkIiwiXyIsIkJhY2tib25lIiwiQXJ0aWNsZU1vZGVsIiwiQXJ0aWNsZXNDb2xsZWN0aW9uIiwiQ29sbGVjdGlvbiIsImV4dGVuZCIsIm1vZGVsIiwiTWFya2VyTW9kZWwiLCJNYXJrZXJzQ29sbGVjdGlvbiIsIlJvdXRlciIsIklzc3VlTW9kZWwiLCJBcHBNb2RlbCIsIk1vZGVsIiwiaW5pdGlhbGl6ZSIsIm9wdHMiLCJpc3N1ZSIsImNvbmZpZyIsInJvdXRlcyIsInBhZ2VzIiwiRmV0Y2hYTUwiLCJBc3luY0luaXQiLCJYTUwySFRNTCIsImdlb0pzb25Yc2wiLCJ0aGF0IiwidGhpcyIsIiRkZWYiLCJEZWZlcnJlZCIsIiRnZXQiLCJmZXRjaFhNTCIsImdldCIsIndoZW4iLCJkb25lIiwiZGF0YSIsInNldCIsInJlc29sdmUiLCJmYWlsIiwicmVqZWN0IiwiZGVmYXVsdHMiLCJ4bWwiLCJtYXJrZXIiLCJzZWxlY3QiLCJ0cmlnZ2VyIiwidW5zZWxlY3QiLCJnZW9qc29uIiwianNvblN0cmluZyIsInhtbDJodG1sIiwiSlNPTiIsInBhcnNlIiwiZSIsIkVycm9yIiwidG9TdHJpbmciLCJwcm90b3R5cGUiLCJBcnRpY2xlQ29sbGVjdGlvbiIsImFyZ3MiLCJhcnRkaXIiLCJhcnRpY2xlcyIsInBhdGhCYXNlIiwibWF0Y2giLCJmaWxlcyIsImNvbCIsIm1hcCIsInJhbmdlIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZWFjaCIsImZpbGUiLCJpIiwiYXJ0aWNsZWlkIiwiYXJ0aWNsZWRpciIsInBhdGgiLCJpbml0cyIsImFydGljbGUiLCJpbml0IiwiYXBwbHkiLCJhZGQiLCJvbiIsIl9zZWxlY3RBcnRpY2xlIiwiYWx3YXlzIiwiZm9yRWFjaCIsIiRwcm9taXNlIiwic3RhdGUiLCJhY3RpdmVBcnRpY2xlIiwiYXJ0IiwiYXQiLCJNYXBNb2RlbCIsInJvdXRlciIsIiRjb25maWdEZWYiLCJnZXRKU09OIiwianF4aHIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiX21ha2VDb2xsZWN0aW9uIiwibW9kZWxzIiwic3VjY2VzcyIsIm1hcGNvbmZpZyIsImNicyIsImRlZmVycmVkcyIsIm1hcmtlcnMiLCJlcnJvck1zZyIsIiRhcnREZWYiLCJwdXNoIiwibW0iLCJqc29uIiwiYXBwIiwibGlzdGVuVG8iLCJVc2VyRXJyb3JNb2RlbCIsIlVzZXJFcnJvclZpZXciLCJDbGVhclZpZXciLCJJc3N1ZVZpZXciLCJNYXBWaWV3IiwiTWVudVZpZXciLCJtYXBWaWV3IiwiaGFzIiwiaGlzdG9yeSIsInN0YXJ0IiwibmF2aWdhdGUiLCJmcmFnbWVudCIsIm9wdGlvbnMiLCJwYWdlIiwicGFnZUNvbmZpZyIsImhvbWUiLCJyZW5kZXIiLCJwYyIsInZpZXdOYW1lIiwic3RyaW5naWZ5IiwidmlldyIsImNvbmZnIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiZnVsbCIsInBhcnRpYWwiLCJyZXF1aXJlIiwiVmlldyIsInYiLCJpZCIsInJlbW92ZSIsImlzdiIsImNoaWxkcmVuIiwibW52IiwicHJvbWlzZSIsIkRPTVdhdGNoZXIiLCJ3YXRjaERPTSIsIm1zIiwic2VsIiwiZiIsImRvY3VtZW50IiwiYm9keSIsIm9mZiIsInNldFRpbWVvdXQiLCJ1cmwiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwianFYSFIiLCJlcnJvclRocm93biIsIl9kb2MiLCJ4bWxEb2MiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJEb2N1bWVudCIsImhhc093blByb3BlcnR5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ4c2wiLCJwYXJhbXMiLCJtb2RlIiwieHNsRG9jIiwieHNsdFByb2Nlc3NvciIsIlhTTFRQcm9jZXNzb3IiLCJpbXBvcnRTdHlsZXNoZWV0Iiwia2V5cyIsImtleSIsInNldFBhcmFtZXRlciIsInJlc3VsdCIsImRvYyIsInRyYW5zZm9ybVRvRG9jdW1lbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiZG9jdW1lbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJBcHBWaWV3IiwiZWwiLCJyZXNpemUiLCJyZWxvYWQiLCJwb3BvdmVyVGVtcGwiLCJwb3BvdmVyQ29udGVudFRlbXBsIiwibGlnaHRib3hUaXRsZVRlbXBsIiwiQXJ0aWNsZVZpZXciLCIkZWwiLCJodG1sIiwiYXJ0aWNsZS1kaXIiLCJhcHBlbmQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwicG9zdHByb2Nlc3MiLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsImNzcyIsInBjdCIsInRlbXBsYXRlIiwiZWx0IiwiZ2V0QXR0cmlidXRlIiwiJHBvIiwidGl0bGUiLCJmaW5kIiwidGV4dCIsImF0dHIiLCJjb250ZW50IiwicG9wb3ZlciIsImNvbnRhaW5lciIsInBsYWNlbWVudCIsImNsaWNrIiwiZXZ0IiwiZGVmcyIsImltZyIsImxvYWQiLCJzbGlkZXNqcyIsIm5hdmlnYXRpb24iLCJhY3RpdmUiLCJlZmZlY3QiLCJwYWdpbmF0aW9uIiwiZmFkZSIsInNwZWVkIiwiY3Jvc3NmYWRlIiwiY2FsbGJhY2siLCJsb2FkZWQiLCJudW1iZXIiLCIkaW1nIiwidmlzaWJpbGl0eSIsIndpZHRoIiwibWF4SGVpZ2h0IiwibWF4V2lkdGgiLCJwb3NpdGlvbiIsImxlZnQiLCJwYXJzZUludCIsImNvbXBsZXRlIiwibmV3SW1nIiwibWFnbmlmaWNQb3B1cCIsImdhbGxlcnkiLCJlbmFibGVkIiwiaW1hZ2UiLCJ0aXRsZVNyYyIsIiRpdGVtIiwidG1wbCIsImVtcHR5IiwiYXYiLCJMIiwibWFwUGFydGlhbCIsIk1hcmtlclZpZXciLCJ0YWdOYW1lIiwiTWFwIiwib3BlbnBvcHVwIiwicG9wdXBpZCIsImxhdGxuZyIsImxhdCIsImxuZyIsImNvbmZpZ3VyZU1hcCIsImludmFsaWRhdGVTaXplIiwibWFya2VyTW9kZWwiLCJhZGRNYXJrZXJUb01hcCIsIm1hcmtlckRlbGF5IiwidGlsZWxheWVyIiwiVGlsZUxheWVyIiwidGlsZUxheWVyIiwic2NhbGUiLCJjb250cm9sIiwic2V0VmlldyIsIkxhdExuZyIsInpvb20iLCJhZGRMYXllciIsImFkZFRvIiwicG9wdXAiLCIkcG9wdXBXcmFwIiwicG9wdXBMYXRMbmciLCJwb3B1cFJpZ2h0WCIsImVkZ2VQdFgiLCJwYWQiLCJnZXRMYXRMbmciLCJnZXRDb250ZW50IiwiY2xvc2VzdCIsImZpcnN0IiwiRG9tVXRpbCIsImdldFZpZXdwb3J0T2Zmc2V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJ4IiwicG9pbnQiLCJhdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0IiwiYXV0b1BhblBhZGRpbmciLCJvZmZzZXQiLCJnZXRTaXplIiwicGFuQnkiLCJtYXJrZXJWaWV3IiwiZ2VvSnNvbiIsIm9uRWFjaEZlYXR1cmUiLCJmZWF0dXJlIiwibWFwTWFya2VyIiwiZmVhdHVyZXMiLCJzZXRDb250ZW50IiwiYmluZFBvcHVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhvdmVyUG9wdXAiLCJvcGVuUG9wdXAiLCJhcnRpZCIsInBvaW50VG9MYXllciIsImljb24iLCJjbGlja2FibGUiLCJwcm9wZXJ0aWVzIiwibWFya2VybmFtZSIsIm9wYWNpdHkiLCJyaXNlT25Ib3ZlciIsIm1lbnVUbXBsIiwiQXJ0aWNsZU1lbnVWaWV3IiwiaXRlbXMiLCJtZW51IiwicHJvbWlzZXMiLCJ0ZW1wbGF0ZXMiLCJjb2xsZWN0aW9ucyIsIml0ZW0iLCJjb2xsZWN0aW9uIiwidGVtcGwiLCJzb3J0ZXIiLCJzdWJDb250ZW50Iiwic29ydEtleXMiLCJqIiwiJGxpIiwicmVwbGFjZSIsImFtdiIsIkVsZW1lbnQiLCJub2RlTmFtZSIsIm91dGVySFRNTCIsImNsb25lIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsImxhYmVsIiwidGhlbiIsIiRmYWlsRGVmIiwiUGFnZVZpZXciLCJQYXJ0aWFsVmlldyIsIiR3YXRjaERlZiIsIm1zZyIsIm1lc3NhZ2UiLCJhbVhzbCIsIm1lbnVpdGVtIiwiYXR0cmlidXRlcyIsIm1vZGFsIiwia2V5Ym9hcmQiLCJzaG93IiwicGF0aHMiLCJqcXVlcnkiLCJib290c3RyYXAiLCJiYWNrYm9uZSIsInVuZGVyc2NvcmUiLCJsZWFmbGV0IiwibGlnaHRib3giLCJwYXJ0aWFscyIsInNoaW0iLCJkZXBzIiwiZXhwb3J0cyIsImNvbmZpZ2ZpbGUiLCJzaXRlY29uZmlnIiwiZGVidWciXSwibWFwcGluZ3MiOiJBQUNBQSxPQUFPLHdCQUNILFNBQ0EsYUFDQSxXQUNBLGtCQUNELFNBQVNDLEVBQUVDLEVBQUVDLEVBQVNDLEdBQ3JCLFlBQ0EsSUFBSUMsR0FBcUJGLEVBQVNHLFdBQVdDLFFBQ3pDQyxNQUFPSixHQUVYLE9BQU9DO0FDVlhMLE9BQU8sdUJBQ0gsU0FDQSxhQUNBLFdBQ0EsaUJBQ0QsU0FBU0MsRUFBRUMsRUFBRUMsRUFBU00sR0FDckIsWUFDQSxJQUFJQyxHQUFvQlAsRUFBU0csV0FBV0MsUUFDeENDLE1BQU9DLEdBRVgsT0FBT0M7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WkMsU0FBWSxrRUFDWkMsV0FBWSxzRUFDWkMsUUFBWSx5REFDWjFJLFNBQVksa0VBQ1oySSxTQUFZLHFGQUNaQyxTQUFZLGNBQ1puTSxJQUFZLGdCQUNabkosTUFBWSxZQUVkdVYsTUFDRU4sV0FDRU8sTUFBTyxXQUVUTixVQUNJTSxNQUFTLFNBQVUsY0FDbkJDLFFBQVcsWUFFZk4sWUFDSU0sUUFBVyxLQUVmMUosTUFDSXlKLFNBRUo5SSxVQUNJOEksTUFBTyxXQUVYSCxVQUNFRyxNQUFPLGNBSWJwTyxTQUNJLFNBQ0Esb0JBQ0EsbUJBQ0EsYUFDQSxZQUNBLGFBQ0QsU0FBU3ZJLEVBQUU0RyxFQUFlQyxFQUFjakcsRUFBUzZLLEdBQ2hELFlBQ0EsSUFBSW9MLEdBQWE3VyxFQUFFLFNBQVNtTixLQUFLLGNBQzdCMEosR0FDQTdXLEVBQUV3RixRQUFRcVIsRUFBWSxTQUFTQyxHQUMzQixJQUNJLENBQVUsR0FBSXJMLElBQ1ZsTCxNQUFPLEdBQUtLLElBQVVLLE9BQVE2VixPQUVwQyxNQUFPN1QsR0FDQWxDLEtBQUtFLE9BQU84VixPQUNiLEdBQUlsUSxJQUNBdEcsTUFBTyxHQUFJcUcsSUFDUDhPLElBQUt6UyxFQUFFRSxrQkFLeEJmLEtBQUssU0FBU3FELEVBQU9DLEVBQVlDLEdBQ2hDLEdBQUlrQixJQUNBdEcsTUFBTyxHQUFJcUcsSUFDUDhPLElBQUssb0NBQXNDbUIsRUFBYSxLQUFPbFIsUUFLM0UsR0FBSWtCLElBQ0F0RyxNQUFPLEdBQUlxRyxJQUNQOE8sSUFBSyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ2NvbGxlY3Rpb25zL2FydGljbGVzJywgW1xuICAgICdqcXVlcnknLCBcbiAgICAndW5kZXJzY29yZScsIFxuICAgICdiYWNrYm9uZScsXG4gICAgJ21vZGVscy9hcnRpY2xlJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEFydGljbGVNb2RlbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgQXJ0aWNsZXNDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICAgICAgICBtb2RlbDogQXJ0aWNsZU1vZGVsXG4gICAgfSk7ICAgIFxuICAgIHJldHVybiBBcnRpY2xlc0NvbGxlY3Rpb247XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdjb2xsZWN0aW9ucy9tYXJrZXJzJywgW1xuICAgICdqcXVlcnknLCBcbiAgICAndW5kZXJzY29yZScsXG4gICAgJ2JhY2tib25lJyxcbiAgICAnbW9kZWxzL21hcmtlcidcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxNYXJrZXJNb2RlbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFya2Vyc0NvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gICAgICAgIG1vZGVsOiBNYXJrZXJNb2RlbFxuICAgIH0pOyAgICBcbiAgICByZXR1cm4gTWFya2Vyc0NvbGxlY3Rpb247XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSAqL1xuZGVmaW5lKCdtb2RlbHMvYXBwJywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJyxcbiAgICAnYmFja2JvbmUnLFxuICAgICdyb3V0ZXMvcm91dGVyJyxcbiAgICAnbW9kZWxzL2lzc3VlJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLFJvdXRlcixJc3N1ZU1vZGVsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcHBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgICAgICAgIHZhciBpc3N1ZSA9IG5ldyBJc3N1ZU1vZGVsKHsgY29uZmlnOiBvcHRzLmNvbmZpZyB9KTtcbiAgICAgICAgICAgIG5ldyBSb3V0ZXIoe1xuICAgICAgICAgICAgICAgICAgcm91dGVzOiBvcHRzLmNvbmZpZy5wYWdlcy5yb3V0ZXNcbiAgICAgICAgICAgICAgICAsIGNvbmZpZzogb3B0cy5jb25maWdcbiAgICAgICAgICAgICAgICAsIGlzc3VlOiAgaXNzdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEFwcE1vZGVsO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbW9kZWxzL2FydGljbGUnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnbWl4aW5zL2ZldGNoeG1sJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG4gICAgLCAnbWl4aW5zL3htbDJodG1sJ1xuICAgICwgJ3RleHQheHNsL2dlb2pzb24ueHNsJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEZldGNoWE1MLEFzeW5jSW5pdCxYTUwySFRNTCxnZW9Kc29uWHNsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBBcnRpY2xlTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHZhciAkZ2V0ID0gdGhhdC5mZXRjaFhNTCh0aGF0LmdldCgncGF0aCcpKTtcbiAgICAgICAgICAgICQud2hlbigkZ2V0KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnNldCgneG1sJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgLy9UT0RPOiAneG1sJzogc2VyaWFsaXplPyBhbmQgY2FjaGUgdG8gbG9jYWxzdG9yYWdlXG4gICAgICAgICAgICAvLyBhZGQgYWRhcHRlciBmb3IgYWNjZXNzIHRocm91Z2ggLmF0dHJpYnV0ZXNcbiAgICAgICAgICAgIFwieG1sXCIgICA6IG51bGwsICAgICAvLyBEb2N1bWVudFxuICAgICAgICAgICAgXCJtYXJrZXJcIiA6IG51bGwgICAgIC8vIGFzc29jaWF0ZWQgbWFwbWFya2VyIG9iamVjdCwgbmVlZGVkIGZvciBUT0MgbGlua2FnZVxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdhY3RpdmUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdpbmFjdGl2ZScpO1xuICAgICAgICB9LFxuICAgICAgICBnZW9qc29uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBnZW9qc29uID0gJ3t9JztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHhtbCA9IHRoaXMuZ2V0KCd4bWwnKTtcbiAgICAgICAgICAgICAgICB2YXIganNvblN0cmluZyA9IHRoaXMueG1sMmh0bWwoeG1sLCBnZW9Kc29uWHNsLCB7fSwgJ3RleHQnKTtcbiAgICAgICAgICAgICAgICBnZW9qc29uID0gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgdG8ganNvbjogXCIgKyBlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdlb2pzb247XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChBcnRpY2xlTW9kZWwucHJvdG90eXBlLEZldGNoWE1MKTtcbiAgICBfLmV4dGVuZChBcnRpY2xlTW9kZWwucHJvdG90eXBlLEFzeW5jSW5pdCk7XG4gICAgXy5leHRlbmQoQXJ0aWNsZU1vZGVsLnByb3RvdHlwZSxYTUwySFRNTCk7XG4gICAgcmV0dXJuIEFydGljbGVNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9pc3N1ZScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtb2RlbHMvYXJ0aWNsZSdcbiAgICAsICdjb2xsZWN0aW9ucy9hcnRpY2xlcydcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLEFydGljbGVNb2RlbCxBcnRpY2xlQ29sbGVjdGlvbixBc3luY0luaXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIElzc3VlTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCAgICA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LiRkZWYgICA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHZhciBhcnRkaXIgID0gYXJncy5jb25maWcuYXJ0aWNsZXMucGF0aEJhc2U7XG4gICAgICAgICAgICBpZiAoIWFydGRpci5tYXRjaCgvXFwvJC8pKSBhcnRkaXIgKz0gJy8nO1xuICAgICAgICAgICAgdmFyIGZpbGVzICAgPSBhcmdzLmNvbmZpZy5hcnRpY2xlcy5maWxlcztcbiAgICAgICAgICAgIHZhciBjb2wgICAgID0gbmV3IEFydGljbGVDb2xsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICAgICAgdGhhdC5zZXQoJ2NvbGxlY3Rpb24nLCBjb2wpO1xuICAgICAgICAgICAgLy8gZml4IGxlbmd0aCBvZiBhcnRpY2xlcyBhcnJheVxuICAgICAgICAgICAgdmFyIGFydGljbGVzID0gXy5tYXAoXy5yYW5nZShmaWxlcy5sZW5ndGgpLCBmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWQ7fSk7XG4gICAgICAgICAgICAvLyBhcnRpY2xlcyBjb25zdHJ1Y3RlZCBzeW5jLCBzbyBhcnRpY2xlIG9iamVjdHMgYWRkZWQgdG8gbGlzdCBieSBpbmRleFxuICAgICAgICAgICAgXy5lYWNoKGZpbGVzLCBmdW5jdGlvbihmaWxlLGkpIHtcbiAgICAgICAgICAgICAgICBhcnRpY2xlc1tpXSA9IG5ldyBBcnRpY2xlTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICBhcnRpY2xlaWQ6ICBpLFxuICAgICAgICAgICAgICAgICAgICBhcnRpY2xlZGlyOiBhcnRkaXIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICAgICAgIGFydGRpciArIGZpbGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgaW5pdHMgPSBfLm1hcChhcnRpY2xlcywgZnVuY3Rpb24oYXJ0aWNsZSl7cmV0dXJuIGFydGljbGUuaW5pdCgpO30pO1xuICAgICAgICAgICAgLy8gTk9URTogLmZhaWwoKSBpcyBub3QgY2FsbGVkOyBmYWlsdXJlIGlzIGhhbmRsZWQgaW4gLmFsd2F5cygpXG4gICAgICAgICAgICAkLndoZW4oe30saW5pdHMpLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkobnVsbCxpbml0cykuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb2wuYWRkKGFydGljbGVzKTtcbiAgICAgICAgICAgICAgICB0aGF0Lm9uKCdzZWxlY3QnLCBmdW5jdGlvbihhcnRpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3NlbGVjdEFydGljbGUoYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseShudWxsLGluaXRzKS5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGluaXRzLCBmdW5jdGlvbigkcHJvbWlzZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkcHJvbWlzZS5zdGF0ZSgpID09PSAncmVqZWN0ZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZXNvbHZlKHRoYXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBcImFjdGl2ZUFydGljbGVcIiA6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgLy8gc2hvdyBhbiBhcnRpY2xlIGFuZCB0aGUgY29ycmVzcG9uZGluZyBwaW5cbiAgICAgICAgLy8gYXJ0aWNsZSBtYXkgYmUgZWl0aGVyIGFuIGluZGV4IGludG8gdGhlIGNvbGxlY3Rpb25cbiAgICAgICAgLy8gKGUuZy4sIHdoZW4gcHJvdmlkZWQgYnkgYSB1cmwpIG9yIGFuIEFydGljbGVNb2RlbFxuICAgICAgICAvLyAoZS5nLiwgd2hlbiBzZWxlY3RlZCBieSBhIG1hcCBtYXJrZXIpXG4gICAgICAgIF9zZWxlY3RBcnRpY2xlOiBmdW5jdGlvbihhcnRpY2xlKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY29sID0gdGhhdC5nZXQoJ2NvbGxlY3Rpb24nKTtcbiAgICAgICAgICAgIHZhciBhcnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFydGljbGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgYXJ0ID0gYXJ0aWNsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFydGljbGUgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcnRpY2xlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGFydCA9IGNvbC5hdChhcnRpY2xlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJCYWQgYXJndW1lbnQgdG8gbW9kZWxzL2lzc3VlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdm9pZCB1bi0gYW5kIHJlLXJlbmRlcmluZyBhbiBhbHJlYWR5LXZpZXdlZCBhcnRpY2xlXG4gICAgICAgICAgICBpZiAoKHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykgIT09IG51bGwpICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykgPT0gIGFydGljbGUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykpIHRoaXMuZ2V0KCdhY3RpdmVBcnRpY2xlJykudW5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB0aGF0LnNldCgnYWN0aXZlQXJ0aWNsZScsIGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aGlzIGludm9sdmVzIGFzeW5jIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAgICBhcnQuaW5pdCgpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC50cmlnZ2VyKCd1cGRhdGUnLCBhcnQpO1xuICAgICAgICAgICAgICAgIGFydC5zZWxlY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoSXNzdWVNb2RlbC5wcm90b3R5cGUsQXN5bmNJbml0KTtcbiAgICByZXR1cm4gSXNzdWVNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9tYXAnLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnY29sbGVjdGlvbnMvbWFya2VycydcbiAgICAsICdtb2RlbHMvbWFya2VyJ1xuICAgICwgJ21peGlucy9hc3luY0luaXQnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsTWFya2Vyc0NvbGxlY3Rpb24sTWFya2VyTW9kZWwsQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBNYXBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ICAgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmICA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIHRoYXQuaXNzdWUgPSBhcmdzLmlzc3VlO1xuICAgICAgICAgICAgaWYgKHRoYXQuaXNzdWUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGlzc3VlIG1vZGVsIGluIG1hcCBtb2RlbCcpO1xuICAgICAgICAgICAgdGhhdC5zZXQoJ3JvdXRlcicsIGFyZ3Mucm91dGVyKTtcbiAgICAgICAgICAgIGlmICghYXJncy5yb3V0ZXIpIHRocm93IG5ldyBFcnJvcignTm8gcm91dGVyIGluIE1hcE1vZGVsJyk7XG4gICAgICAgICAgICB2YXIgJGNvbmZpZ0RlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgICQuZ2V0SlNPTihhcmdzLmNvbmZpZy5tYXAuY29uZmlnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5zZXQoJ21hcGNvbmZpZycsIGRhdGEpO1xuICAgICAgICAgICAgICAgICRjb25maWdEZWYucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbihqcXhociwgdGV4dFN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkY29uZmlnRGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gbG9hZCBtYXAgY29uZmlnIGZpbGU6ICcgKyBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQud2hlbi5hcHBseSh7fSxbdGhhdC5pc3N1ZS5pbml0KCksICRjb25maWdEZWZdKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuX21ha2VDb2xsZWN0aW9uKHRoYXQuaXNzdWUuZ2V0KCdjb2xsZWN0aW9uJykubW9kZWxzLCB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgeyB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTsgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbDogICAgZnVuY3Rpb24oKSB7IHRoYXQuJGRlZi5yZWplY3QoKTsgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBpc3N1ZSBhcyB0byB3aGV0aGVyIGZhaWwoKS9hbHdheXMoKSBpcyBjYWxsZWQgb24gZmFpbHVyZSBoZXJlO1xuICAgICAgICAgICAgLy8gZmFpbCgpIHNob3VsZCBiZSBjYWxsZWQgb24gZmFsdXJlXG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoYXQuJGRlZi5yZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgXCJtYXBjb25maWdcIiAgICAgOiB7fVxuICAgICAgICB9LFxuICAgICAgICBfbWFrZUNvbGxlY3Rpb24gOiBmdW5jdGlvbihhcnRpY2xlcyxjYnMpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBjb2wgPSBuZXcgTWFya2Vyc0NvbGxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoYXQuc2V0KCdjb2xsZWN0aW9uJywgY29sKTtcbiAgICAgICAgICAgIHZhciBtYXJrZXJzID0gXy5tYXAoXy5yYW5nZShhcnRpY2xlcy5sZW5ndGgpLCBmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWQ7fSk7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBlcnJvck1zZyA9ICcnO1xuICAgICAgICAgICAgYXJ0aWNsZXMuZm9yRWFjaChmdW5jdGlvbihhcnRpY2xlLGkpe1xuICAgICAgICAgICAgICAgIHZhciAkYXJ0RGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkcy5wdXNoKCRhcnREZWYpO1xuICAgICAgICAgICAgICAgIGFydGljbGUuaW5pdCgpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtbTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1tID0gbmV3IE1hcmtlck1vZGVsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlICAgICA6IHRoYXQuaXNzdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGFydGljbGUgICA6IGFydGljbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGpzb24gICAgICA6IGFydGljbGUuZ2VvanNvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCByb3V0ZXIgICAgOiB0aGF0LnJvdXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGZhaWx1cmUgdG8gY3JlYXRlIGdlb2pzb24gZnJvbSBhcnRpY2xlLCB3YXJuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBkbyBub3QgYmxvY2sgbWFwXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTXNnICs9IChcIlxcblwiICsgZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhcnREZWYucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzW2ldID0gbW07XG4gICAgICAgICAgICAgICAgICAgICRhcnREZWYucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoe30sZGVmZXJyZWRzKS5kb25lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbC5hZGQobWFya2Vycyk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICAgICAgICAgICAgICAgIGNicy5zdWNjZXNzKCk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNicy5mYWlsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKE1hcE1vZGVsLnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBNYXBNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9tYXJrZXInLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFya2VyTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBcImFydGljbGVcIiAgIDogbnVsbCxcbiAgICAgICAgXCJqc29uXCIgICAgICA6IHt9LFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmFwcCA9IGFyZ3MuYXBwO1xuICAgICAgICAgICAgdGhhdC5hcnRpY2xlID0gYXJncy5hcnRpY2xlO1xuICAgICAgICAgICAgdGhhdC5yb3V0ZXIgPSBhcmdzLnJvdXRlcjtcbiAgICAgICAgICAgIGFyZ3MuaXNzdWUuaW5pdCgpLmRvbmUoZnVuY3Rpb24oaXNzdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIGFuIGFydGljbGUgaXMgbWFkZSBhY3RpdmUgKGUuZy4sIHRocm91Z2ggdGhlXG4gICAgICAgICAgICAgICAgLy8gVE9DKSwgcHJvcG9nYXRlIHRocm91Z2ggdG8gdGhlIG1hcCBwYXJ0IG9mIHRoZSBhcHBcbiAgICAgICAgICAgICAgICB0aGF0Lmxpc3RlblRvKHRoYXQuYXJ0aWNsZSwgJ2FjdGl2ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnRyaWdnZXIoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBNYXJrZXJNb2RlbDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ3JvdXRlcy9yb3V0ZXInLCBbXG4gICAgICAnanF1ZXJ5J1xuICAgICwgJ3VuZGVyc2NvcmUnXG4gICAgLCAnYmFja2JvbmUnXG4gICAgLCAnbW9kZWxzL2Vycm9yL3VzZXInXG4gICAgLCAndmlld3MvZXJyb3IvdXNlcidcbiAgICAsICd2aWV3cy9jbGVhcidcbiAgICAsICd2aWV3cy9pc3N1ZSdcbiAgICAsICd2aWV3cy9tYXAnXG4gICAgLCAndmlld3MvbWVudSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxVc2VyRXJyb3JNb2RlbCxVc2VyRXJyb3JWaWV3LENsZWFyVmlldyxJc3N1ZVZpZXcsTWFwVmlldyxNZW51Vmlldykge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUm91dGVyID0gQmFja2JvbmUuUm91dGVyLmV4dGVuZCh7XG4gICAgICAgIHBhZ2VzICAgOiB7fSwgICAvLyBjb25maWcgZm9yIHN1cHBvcnRlZCBwYWdlc1xuICAgICAgICBjb25maWcgIDoge30sICAgLy8gZ2xvYmFsIHNpdGUgY29uZmlndXJhdGlvbiwgaS5lLiwgc2l0ZS5qc29uXG4gICAgICAgIGlzc3VlICAgOiBudWxsLCAvLyBJc3N1ZU1vZGVsIGZvciB0aGlzIGFwcFxuICAgICAgICBtYXBWaWV3IDogbnVsbCwgLy8gTWFwVmlld1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCAgICA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IG9wdHMuY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5wYWdlcyAgPSBvcHRzLmNvbmZpZy5wYWdlcztcbiAgICAgICAgICAgIHRoaXMuaXNzdWUgID0gb3B0cy5pc3N1ZTtcbiAgICAgICAgICAgIHRoaXMuaXNzdWUuaW5pdCgpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFnZXMucm91dGVyLmhpc3RvcnkgPSB0cnVlIGJ5IGRlZmF1bHQsIGlmIG1pc3NpbmdcbiAgICAgICAgICAgICAgICBpZiAoXy5oYXModGhhdC5wYWdlcy5yb3V0ZXIsJ2hpc3RvcnknKSAmJiAhIXRoYXQucGFnZXMucm91dGVyLmhpc3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgQmFja2JvbmUuaGlzdG9yeS5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBuYXZpZ2F0ZTogZnVuY3Rpb24oZnJhZ21lbnQsb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKEJhY2tib25lLmhpc3RvcnkuZnJhZ21lbnQgPT09IGZyYWdtZW50KSByZXR1cm47XG4gICAgICAgICAgICBCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKGZyYWdtZW50LG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBwYWdlOiBmdW5jdGlvbihwYWdlKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgcGFnZUNvbmZpZztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYWdlKSBwYWdlID0gdGhpcy5wYWdlcy5ob21lO1xuICAgICAgICAgICAgICAgIHBhZ2VDb25maWcgPSB0aGlzLnBhZ2VzLnBhZ2VzW3BhZ2VdO1xuICAgICAgICAgICAgICAgIGlmIChwYWdlQ29uZmlnID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBjb25maWcgaW4gcm91dGVyL3BhZ2UnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYWdlKCc0MDQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSA8Ym9keT5cbiAgICAgICAgICAgIChuZXcgQ2xlYXJWaWV3KCkpLnJlbmRlcigpO1xuICAgICAgICAgICAgXy5lYWNoKHBhZ2VDb25maWcsIGZ1bmN0aW9uKHBjKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdOYW1lO1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogdGhhdC5jb25maWdcbiAgICAgICAgICAgICAgICAgICAgLCBpc3N1ZTogIHRoYXQuaXNzdWVcbiAgICAgICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoYXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGNsb25lIGNvbmZpZyB0byBhdm9pZCBnbG9iYWwgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBjKSk7XG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKGNvbmZpZywgJ3ZpZXcnKSkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TmFtZSA9IGNvbmZpZy52aWV3O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5oYXMoY29uZmlnLCAncGFydGlhbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdOYW1lID0gJ3ZpZXdzL3BhcnRpYWwnO1xuICAgICAgICAgICAgICAgICAgICBjb25maWcucGFydGlhbC5wYWdlID0gdGhhdC5wYWdlcy5wYXRoQmFzZSArIGNvbmZpZy5wYXJ0aWFsLnBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBfLmV4dGVuZChhcmdzLGNvbmZpZy5wYXJ0aWFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF8uaGFzKGNvbmZnLCAnZnVsbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gY29uZmlnLmZ1bGwucGFnZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgcGFnZSB0eXBlIGluIHJvdXRlcjogJyArIHBhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXF1aXJlKFt2aWV3TmFtZV0sIGZ1bmN0aW9uKFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBuZXcgVmlldyhhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXdOYW1lID09PSAndmlld3MvbWFwJykgdGhhdC5tYXBWaWV3ID0gdjtcbiAgICAgICAgICAgICAgICAgICAgdi5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhcnRpY2xlIDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgY29uZmlnOiB0aGF0LmNvbmZpZ1xuICAgICAgICAgICAgICAgICwgaXNzdWU6ICB0aGF0Lmlzc3VlXG4gICAgICAgICAgICAgICAgLCByb3V0ZXI6IHRoYXRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoJCgnI3RpdGxlcGFnZScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGl0bGVwYWdlJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJCgnI2lzc3VlJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzdiA9IG5ldyBJc3N1ZVZpZXcoYXJncyk7XG4gICAgICAgICAgICAgICAgaXN2LnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCQoJyNtYXAnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcFZpZXcgPSBuZXcgTWFwVmlldyhhcmdzKTtcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcFZpZXcucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJCgnI21lbnUnKS5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBtbnYgPSBuZXcgTWVudVZpZXcoYXJncyk7XG4gICAgICAgICAgICAgICAgbW52LnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2VsZWN0IHRoZSBhcnRpY2xlIGluZGljYXRlZCBieSB0aGUgdXJsJ3Mgcm91dGUgb25seSBhZnRlclxuICAgICAgICAgICAgLy8gdGhlIG1hcCBoYXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgICQud2hlbi5hcHBseSh7fSxbdGhhdC5tYXBWaWV3LmluaXQoKV0pLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5pc3N1ZS50cmlnZ2VyKCdzZWxlY3QnLCBpZCk7XG4gICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFJvdXRlcjtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21peGlucy9hc3luY0luaXQnLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnXG5dLCBmdW5jdGlvbigkLF8pIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFzeW5jSW5pdCA9IHtcbiAgICAgICAgICAkZGVmOiBudWxsXG4gICAgICAgICwgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZGVmLnByb21pc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jSW5pdDtcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21peGlucy9kb213YXRjaGVyJywgW1xuICAgICdqcXVlcnknIFxuXSwgZnVuY3Rpb24oJCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgRE9NV2F0Y2hlciA9IHtcbiAgICAgICAgd2F0Y2hET00gOiBmdW5jdGlvbihtcyxzZWwsJGRlZikge1xuICAgICAgICAgICAgaWYgKCFzZWwpIHRocm93IFwiRW1wdHkgc2VsZWN0b3IgaW4gd2F0Y2hET00oKVwiO1xuICAgICAgICAgICAgaWYgKCQoc2VsKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJChzZWwpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkub2ZmKCdET01Ob2RlSW5zZXJ0ZWQnLCBmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkZWYucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCdET01Ob2RlSW5zZXJ0ZWQnLCBmKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5vZmYoJ0RPTU5vZGVJbnNlcnRlZCcsIGYpO1xuICAgICAgICAgICAgICAgICAgICAkZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH0sIG1zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGRlZi5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBET01XYXRjaGVyO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbWl4aW5zL2ZldGNoeG1sJywgW1xuICAgICdqcXVlcnknXG5dLCBmdW5jdGlvbigkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBGZXRjaFhNTCA9IHtcbiAgICAgICAgLy8gcmV0dXJuIGFuIG9iamVjdCBpbXBsZW1lbnRpbmcgdGhlIFByb21pc2UgaW50ZXJmYWNlXG4gICAgICAgIC8vIHdoZW4gc3VjY2Vzc2Z1bCwgdGhlIFByb21pc2UgcmV0dXJucyB0aGUgZGF0YSBmZXRjaGVkXG4gICAgICAgIC8vIGJ5IHRoZSBhamF4IHJlcXVlc3RcbiAgICAgICAgLy8gZGF0YSByZXR1cm5lZCBieSB0aGUgcHJvbWlzZSBpcyBhIERvY3VtZW50XG4gICAgICAgIGZldGNoWE1MIDogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICB2YXIgJGdldCA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogICAgICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogICAgICB1cmwsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICd4bWwnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICRnZXQucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgJGdldC5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAkZ2V0LnByb21pc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZldGNoWE1MO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgnbWl4aW5zL3htbDJodG1sJywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJ1xuXSwgZnVuY3Rpb24oJCxfKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBYTUwySFRNTCA9IHtcbiAgICAgICAgX2RvYzogZnVuY3Rpb24oeG1sKSB7XG4gICAgICAgICAgICB2YXIgeG1sRG9jO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB4bWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgeG1sRG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4bWwsJ3RleHQveG1sJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHhtbCBpbnN0YW5jZW9mIERvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgeG1sRG9jID0geG1sO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgZG9jdW1lbnQgaW5wdXQgaW4gWE1MMkhUTUxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeG1sRG9jID09IG51bGwgfHwgKCF4bWxEb2MuaGFzT3duUHJvcGVydHkoJ2dldEVsZW1lbnRzQnlUYWdOYW1lJykgJiYgeG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYXJzZXJlcnJvcicpLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGRvY3VtZW50IGluIHhtbDJodG1sXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHhtbERvYztcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcmV0dXJuIEhUTUwgb3IgSlNPTiBzdHJpbmcgZnJvbSBYU0xUIHRyYW5zZm9ybWF0aW9uXG4gICAgICAgIHhtbDJodG1sOiBmdW5jdGlvbih4bWwseHNsLHBhcmFtcyxtb2RlKSB7XG4gICAgICAgICAgICB2YXIgeG1sRG9jID0gdGhpcy5fZG9jKHhtbCksXG4gICAgICAgICAgICAgICAgeHNsRG9jID0gdGhpcy5fZG9jKHhzbCk7XG4gICAgICAgICAgICB2YXIgeHNsdFByb2Nlc3NvciA9IG5ldyBYU0xUUHJvY2Vzc29yKCk7XG4gICAgICAgICAgICB4c2x0UHJvY2Vzc29yLmltcG9ydFN0eWxlc2hlZXQoeHNsRG9jKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIF8uZWFjaChfLmtleXMocGFyYW1zKSwgZnVuY3Rpb24oa2V5KXtcbiAgICAgICAgICAgICAgICAgICAgeHNsdFByb2Nlc3Nvci5zZXRQYXJhbWV0ZXIobnVsbCxrZXkscGFyYW1zW2tleV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvYyA9IHhzbHRQcm9jZXNzb3IudHJhbnNmb3JtVG9Eb2N1bWVudCh4bWxEb2MpO1xuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLzx0cmFuc2Zvcm1paXg6cmVzdWx0Pi4uLjwvdHJhbnNmb3JtaWl4OnJlc3VsdD5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZG9jLmRvY3VtZW50RWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkb2MuZG9jdW1lbnRFbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID0gZG9jLmJvZHkuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaW4gWFNMVCB0cmFuc2Zvcm06ICcgKyBlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFhNTDJIVE1MO1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cbmRlZmluZSgndmlld3MvYXBwJywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJyxcbiAgICAnYmFja2JvbmUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIHNpZ25hbCA9IHt9O1xuICAgIHZhciBBcHBWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICBlbDogJ2JvZHknLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBBcHBWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9hcnRpY2xlJywgW1xuICAgICdqcXVlcnknLFxuICAgICd1bmRlcnNjb3JlJyxcbiAgICAnYmFja2JvbmUnLFxuICAgICdtaXhpbnMvZG9td2F0Y2hlcicsXG4gICAgJ21peGlucy94bWwyaHRtbCcsXG4gICAgJ3RleHQheHNsL2FydGljbGUueHNsJyxcbiAgICAndGV4dCFwYXJ0aWFscy9wb3BvdmVyLmh0bWwnLFxuICAgICd0ZXh0IXBhcnRpYWxzL3BvcG92ZXItY29udGVudC5odG1sJyxcbiAgICAndGV4dCFwYXJ0aWFscy9saWdodGJveC10aXRsZS5odG1sJyxcbiAgICAnc2xpZGVzanMnLFxuICAgICdsaWdodGJveCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxET01XYXRjaGVyLFhNTDJIVE1MLHhzbCxwb3BvdmVyVGVtcGwscG9wb3ZlckNvbnRlbnRUZW1wbCxsaWdodGJveFRpdGxlVGVtcGwpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICBpZDogJ2FydGljbGUnLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuJGVsID0gJCgnIycgKyB0aGF0LmlkKTtcbiAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy54bWwyaHRtbChcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmdldCgneG1sJyksXG4gICAgICAgICAgICAgICAgeHNsLFxuICAgICAgICAgICAgICAgIHtcImFydGljbGUtZGlyXCI6IHRoYXQuY29uZmlnLmFydGljbGVzLnBhdGhCYXNlfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgJCgnLmFydGljbGUtY29udGVudCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJyMnK3RoaXMuaWQpLmFwcGVuZChodG1sKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFydGljbGUgbG9hZCBlcnJvcjogXCIgKyBlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCAkKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjZm9vdGVyJykucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAkKCdhcnRpY2xlJykucmVtb3ZlQ2xhc3MoJ2JlZm9yZS1mb290ZXInKS5hZGRDbGFzcygnbm8tZm9vdGVyJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQucG9zdHByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBoYW5kbGUgYXJ0aWNsZSBpbWFnZXNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7IC8qIHJldGFpbiAqL30sXG4gICAgICAgIHBvc3Rwcm9jZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIC8vIGFkanVzdCBoZWlnaHQgb2YgYXJ0aWNsZSBib2R5XG4gICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgaW4gY3NzXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJCgnI2FydGljbGUgYXJ0aWNsZScpLmhlaWdodCgpIC0gJCgnI2hlYWRlcicpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgICAgJCgnI2JvZHknKS5jc3Moe2hlaWdodDpoZWlnaHR9KTtcbiAgICAgICAgICAgIC8vIGFkZCBwb3BvdmVycyB0byBpbWFnZXNcbiAgICAgICAgICAgIHZhciBwY3QgPSBfLnRlbXBsYXRlKHBvcG92ZXJDb250ZW50VGVtcGwpO1xuICAgICAgICAgICAgJCgnaW1nLnNsaWRlc2pzLXNsaWRlJykuZWFjaChmdW5jdGlvbihpLGVsdCkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IGVsdC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICAgICAgdmFyICRwbyA9ICQoJy5wb3BvdmVyLicgKyBpZCk7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gJHBvLmZpbmQoJy5oZWFkJykudGV4dCgpO1xuICAgICAgICAgICAgICAgICQoZWx0KS5hdHRyKCdhbHQnLCAkcG8uZmluZCgnLmRlc2MnKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gcGN0KHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cjogJHBvLmZpbmQoJy5hdHRyJykudGV4dCgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChlbHQpLnBvcG92ZXIoe1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IFwiYm9keVwiLFxuICAgICAgICAgICAgICAgICAgICBodG1sIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogcG9wb3ZlclRlbXBsLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBcImhvdmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJsZWZ0XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGVsdCkuY2xpY2soZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICQoZWx0KS5wb3BvdmVyKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBpbWFnZXMgdGhhdCBmYWlsIHRvIGxvYWQsIHNpbmNlIHdlIGNhbm5vdCBkb1xuICAgICAgICAgICAgLy8gYSBmaWxlIHRlc3Qgd2hlbiBydW5uaW5nIHRoZSB4c2xcbiAgICAgICAgICAgIHZhciBkZWZzID0gW107XG4gICAgICAgICAgICB0aGF0LiRlbC5maW5kKCdpbWcuc2xpZGVzanMtc2xpZGUnKS5lYWNoKGZ1bmN0aW9uKGksaW1nKXtcbiAgICAgICAgICAgICAgICB2YXIgJGRlZiA9ICQuRGVmZXJyZWQoKTtcbiAgICAgICAgICAgICAgICAkKGltZykubG9hZChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKGltZykucmVtb3ZlQ2xhc3MoJ3JlbW92ZScpO1xuICAgICAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKGltZykuZXJyb3IoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgc29tZSB0aW1lIGJlZm9yZSBmYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZGVmLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGVmcy5wdXNoKCRkZWYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoe30sZGVmcykuYWx3YXlzKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCgnaW1nLnNsaWRlc2pzLXNsaWRlLnJlbW92ZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJy5pbWFnZS1sb2FkaW5nJykucmVtb3ZlQ2xhc3MoJ2ltYWdlLWxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICAvLyBjb25maWd1cmUgc2xpZGVzanM7IHVwIHRvIG5vdywgJ2Rpc3BsYXk6bm9uZSdcbiAgICAgICAgICAgICAgICAvLyBoYXMgYXBwbGllZFxuICAgICAgICAgICAgICAgICQoXCIjc2xpZGVzXCIpLnNsaWRlc2pzKHtcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoJCgnaW1nLnNsaWRlc2pzLXNsaWRlJykubGVuZ3RoID4gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6IFwiZmFkZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCQoJ2ltZy5zbGlkZXNqcy1zbGlkZScpLmxlbmd0aCA+IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiBcImZhZGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NmYWRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgb24gbG9hZCBvZiBmaXJzdCBwaWNcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZDogZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkKFwiLnNsaWRlc2pzLWNvbnRyb2xcIikuY2hpbGRyZW4oJzplcSgnKyAobnVtYmVyIC0gMSkgKyAnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHt2aXNpYmlsaXR5OiBcImhpZGRlblwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgd2lkdGg6ICAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBtYXhIZWlnaHQ6ICQoXCIuc2xpZGVzanMtY29udGFpbmVyXCIpLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWF4V2lkdGg6ICAkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS53aWR0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgcG9zaXRpb246ICBcInJlbGF0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9ICgkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS53aWR0aCgpIC0gJGltZy53aWR0aCgpKS8yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgLT0gcGFyc2VJbnQoJGltZy5jc3MoJ3BhZGRpbmctbGVmdCcpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5jc3MoeyBsZWZ0OiBsZWZ0IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHsgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIHN0YXJ0IG9mIGNoYW5nZSBvZiBwaWMgKGFmdGVyIGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKG51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuc2xpZGVzanMtY29udHJvbFwiKS5jaGlsZHJlbigpLmNzcyh7dmlzaWJpbGl0eTogXCJoaWRkZW5cIn0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBlbmQgb2YgY2hhbmdlIG9mIHBpYyAoYWZ0ZXIgZmlyc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ltZyA9IG51bWJlciAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpbWcgPSAkKFwiLnNsaWRlc2pzLWNvbnRyb2xcIikuY2hpbGRyZW4oJzplcSgnKyBuZXdJbWcgKyAnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbWcuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHdpZHRoOiAgJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgbWF4SGVpZ2h0OiAkKFwiLnNsaWRlc2pzLWNvbnRhaW5lclwiKS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIG1heFdpZHRoOiAgJChcIi5zbGlkZXNqcy1jb250YWluZXJcIikud2lkdGgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHBvc2l0aW9uOiAgXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5jc3MoeyB2aXNpYmlsaXR5OiBcInZpc2libGVcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcuZ2FsbGVyeS1pdGVtJykubWFnbmlmaWNQb3B1cCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgICAgICBnYWxsZXJ5OntcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVTcmM6IGZ1bmN0aW9uKCRpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSAkaXRlbS5lbC5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRwbyA9ICQoJy5wb3BvdmVyLicgKyBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGN0ID0gXy50ZW1wbGF0ZShsaWdodGJveFRpdGxlVGVtcGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBwY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAkcG8uZmluZCgnLmhlYWQnKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogJHBvLmZpbmQoJy5hdHRyJykudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKEFydGljbGVWaWV3LnByb3RvdHlwZSxET01XYXRjaGVyKTtcbiAgICBfLmV4dGVuZChBcnRpY2xlVmlldy5wcm90b3R5cGUsWE1MMkhUTUwpO1xuICAgIHJldHVybiBBcnRpY2xlVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvY2xlYXInLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSx0bXBsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBDbGVhclZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCdib2R5JykuZW1wdHkoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBDbGVhclZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2lzc3VlJywgW1xuICAgICAgJ2pxdWVyeSdcbiAgICAsICd1bmRlcnNjb3JlJ1xuICAgICwgJ2JhY2tib25lJ1xuICAgICwgJ3RleHQhcGFydGlhbHMvaXNzdWUuaHRtbCdcbiAgICAsICd2aWV3cy9hcnRpY2xlJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLHRtcGwsQXJ0aWNsZVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIElzc3VlVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgZWw6ICAgICAgICAgJyNpc3N1ZScsXG4gICAgICAgIHRlbXBsYXRlOiAgIF8udGVtcGxhdGUodG1wbCksXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQubW9kZWwgPSBhcmdzLmlzc3VlO1xuICAgICAgICAgICAgdGhhdC5tb2RlbC5vbigndXBkYXRlJywgZnVuY3Rpb24oYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0KGFydGljbGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKHRtcGwpO1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKGFydGljbGUpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBhdiA9IG5ldyBBcnRpY2xlVmlldyh7XG4gICAgICAgICAgICAgICAgICBtb2RlbDogIGFydGljbGVcbiAgICAgICAgICAgICAgICAsIGNvbmZpZzogdGhhdC5tb2RlbC5jb25maWdcbiAgICAgICAgICAgICAgICAsIGlzc3VlOiAgdGhhdFxuICAgICAgICAgICAgICAgICwgcm91dGVyOiB0aGF0Lm1vZGVsLnJvdXRlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcnRpY2xlLm9uKCdhY3RpdmUnLCAgIGF2LnJlbmRlciwgYXYpO1xuICAgICAgICAgICAgYXJ0aWNsZS5vbignaW5hY3RpdmUnLCBhdi5yZW1vdmUsIGF2KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBJc3N1ZVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL21hcCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdsZWFmbGV0J1xuICAgICwgJ3RleHQhcGFydGlhbHMvbWFwLmh0bWwnXG4gICAgLCAnbW9kZWxzL21hcCdcbiAgICAsICd2aWV3cy9tYXJrZXInXG4gICAgLCAnbWl4aW5zL2FzeW5jSW5pdCdcbl0sIGZ1bmN0aW9uKCQsXyxCYWNrYm9uZSxMLG1hcFBhcnRpYWwsTWFwTW9kZWwsTWFya2VyVmlldyxBc3luY0luaXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE1hcFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGlkOiAgICAgICdtYXAnLFxuICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdGhhdC4kZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdGhhdC5jb25maWcgPSBhcmdzLmNvbmZpZztcbiAgICAgICAgICAgIHRoYXQubW9kZWwgPSBuZXcgTWFwTW9kZWwoYXJncyk7XG4gICAgICAgICAgICB0aGF0LnJvdXRlciA9IGFyZ3Mucm91dGVyO1xuICAgICAgICB9XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoJCgnIycgKyB0aGF0LmlkKS5jaGlsZHJlbigpLmxlbmd0aCA+IDApIHJldHVybjtcbiAgICAgICAgICAgIC8vIHB1dCBkaXYjbWFwIGluIHBsYWNlXG4gICAgICAgICAgICAvLyBub3RlOiBtYXAuanNvbiBoYXMgdGhlIEBpZCB2YWx1ZToge1wiaWRcIiA6IFwibWFwXCJ9XG4gICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKG1hcFBhcnRpYWwpO1xuICAgICAgICAgICAgLy8gTGVhZmxldCBjb25maWdcbiAgICAgICAgICAgIHRoaXMubW9kZWwuaW5pdCgpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbCAgICAgICA9IHRoYXQubW9kZWwuZ2V0KCdjb2xsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcGNvbmZpZyA9IHRoYXQubW9kZWwuZ2V0KCdtYXBjb25maWcnKTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwICAgICAgID0gbmV3IEwuTWFwKG1hcGNvbmZpZy5pZCwgbWFwY29uZmlnLm1hcCk7XG4gICAgICAgICAgICAgICAgdmFyIG9wZW5wb3B1cCA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBwb3B1cGlkID0gZnVuY3Rpb24obGF0bG5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXRsbmcubGF0LnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgICArIGxhdGxuZy5sbmcudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhhdC5jb25maWd1cmVNYXAobWFwLG1hcGNvbmZpZyxvcGVucG9wdXAscG9wdXBpZCk7XG4gICAgICAgICAgICAgICAgLy8gbGV0IG1hcCByZW5kZXIgd2hpbGUgbWFya2VycyBhcmUgYWRkZWRcbiAgICAgICAgICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sLmZvckVhY2goZnVuY3Rpb24obWFya2VyTW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYWRkTWFya2VyVG9NYXAobWFya2VyTW9kZWwsbWFwLG9wZW5wb3B1cCxwb3B1cGlkLG1hcGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LiRkZWYucmVzb2x2ZSh0aGF0KTtcbiAgICAgICAgICAgICAgICB9LCB0aGF0LmNvbmZpZy5tYXAubWFya2VyRGVsYXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLCBjb25maWd1cmVNYXAgOiBmdW5jdGlvbihtYXAsbWFwY29uZmlnLG9wZW5wb3B1cCxwb3B1cGlkKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHRpbGVsYXllciAgID0gbmV3IEwuVGlsZUxheWVyKG1hcGNvbmZpZy50aWxlTGF5ZXIudXJsLCBtYXBjb25maWcudGlsZUxheWVyLm9wdHMpO1xuICAgICAgICAgICAgdmFyIHNjYWxlICAgICAgID0gTC5jb250cm9sLnNjYWxlKG1hcGNvbmZpZy5zY2FsZSk7XG4gICAgICAgICAgICBtYXAuc2V0VmlldyhuZXcgTC5MYXRMbmcobWFwY29uZmlnLnZpZXcubGF0LCBtYXBjb25maWcudmlldy5sbmcpLCBtYXBjb25maWcudmlldy56b29tKTtcbiAgICAgICAgICAgIG1hcC5hZGRMYXllcih0aWxlbGF5ZXIpO1xuICAgICAgICAgICAgc2NhbGUuYWRkVG8obWFwKTtcbiAgICAgICAgICAgIC8vIHRyYWNrIHRoZSBjdXJyZW50bHkgb3BlbiBwb3B1cFxuICAgICAgICAgICAgbWFwLm9uKCdwb3B1cG9wZW4nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9wdXAsICRwb3B1cFdyYXAsIHBvcHVwTGF0TG5nLCBwb3B1cFJpZ2h0WCwgZWRnZVB0WCwgcGFkO1xuICAgICAgICAgICAgICAgIHBvcHVwID0gZXZ0LnBvcHVwO1xuICAgICAgICAgICAgICAgIHBvcHVwTGF0TG5nID0gcG9wdXAuZ2V0TGF0TG5nKCk7XG4gICAgICAgICAgICAgICAgLy8gbWFwIHNob3VsZCBwYW4gcmlnaHQvZWFzdCBpZiB0aGUgcG9wdXAgYmFsbG9vbiBpcyBjb3ZlcmVkIGJ5IHRoZSBhcnRpY2xlO1xuICAgICAgICAgICAgICAgIC8vIHBhZCBpcyBhIHNsaWdodCByZWxpZWYgYmV0d2VlbiB0aGUgcG9wdXAgYW5kIHRoZSBhcnRpY2xlXG4gICAgICAgICAgICAgICAgJHBvcHVwV3JhcCA9ICQocG9wdXAuZ2V0Q29udGVudCgpKS5jbG9zZXN0KCcubGVhZmxldC1wb3B1cC1jb250ZW50LXdyYXBwZXInKS5maXJzdCgpO1xuICAgICAgICAgICAgICAgIGVkZ2VQdFggPSBMLkRvbVV0aWwuZ2V0Vmlld3BvcnRPZmZzZXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FydGljbGUnKSkueDtcbiAgICAgICAgICAgICAgICBwYWQgPSBMLnBvaW50KHBvcHVwLm9wdGlvbnMuYXV0b1BhblBhZGRpbmdCb3R0b21SaWdodCB8fCBwb3B1cC5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKTtcbiAgICAgICAgICAgICAgICBwYWQgPSBwYWQgPyBwYWQueCA6IDA7XG4gICAgICAgICAgICAgICAgcG9wdXBSaWdodFggPSAkcG9wdXBXcmFwLm9mZnNldCgpLmxlZnQgKyAkcG9wdXBXcmFwLndpZHRoKCkgKyBwYWQ7XG4gICAgICAgICAgICAgICAgaWYgKHBvcHVwUmlnaHRYID4gZWRnZVB0WCAmJiBlZGdlUHRYICE9IG1hcC5nZXRTaXplKCkueCkgbWFwLnBhbkJ5KFtwb3B1cFJpZ2h0WCAtIGVkZ2VQdFgsMF0pO1xuICAgICAgICAgICAgICAgIC8vIGV2ZW50IGxhdGVuY3kgYmV0d2VlbiBsZWFmbGV0IGFuZCBiYWNrYm9uZSBhcHBlYXJzIHRvIGNhdXNlIHBvcHVwcyB0byBjb2xsYXBzZVxuICAgICAgICAgICAgICAgIC8vIGVycmF0aWNhbGx5IGluIEZpcmVmb3ggd2hlbiBjbGlja2luZyBtYXAgcGluc1xuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBvcGVucG9wdXBbcG9wdXBpZChwb3B1cExhdExuZyldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcGVucG9wdXBbcG9wdXBpZChwb3B1cExhdExuZyldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1hcC5vbigncG9wdXBjbG9zZScsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBvcGVucG9wdXBbcG9wdXBpZChldnQucG9wdXAuZ2V0TGF0TG5nKCkpXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9wZW5wb3B1cFtwb3B1cGlkKGV2dC5wb3B1cC5nZXRMYXRMbmcoKSldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLCBhZGRNYXJrZXJUb01hcDogZnVuY3Rpb24obWFya2VyTW9kZWwsbWFwLG9wZW5wb3B1cCxwb3B1cGlkLG1hcGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIHRoYXQgICAgICAgID0gdGhpcztcbiAgICAgICAgICAgIHZhciBnZW9qc29uICAgICA9IG1hcmtlck1vZGVsLmdldCgnanNvbicpO1xuICAgICAgICAgICAgdmFyIG1hcmtlclZpZXcgID0gbmV3IE1hcmtlclZpZXcoe21vZGVsOiBtYXJrZXJNb2RlbCwgcm91dGVyOiB0aGF0LnJvdXRlcn0pO1xuICAgICAgICAgICAgbWFya2VyVmlldy5yZW5kZXIoKTtcbiAgICAgICAgICAgIEwuZ2VvSnNvbihnZW9qc29uLCB7XG4gICAgICAgICAgICAgICAgLy8gZmVhdHVyZSBpcyB0aGUgZ2VvanNvbiwgYSByYXcgSlMgb2JqZWN0XG4gICAgICAgICAgICAgICAgLy8gbWFwTWFya2VyIGlzXG4gICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZnVuY3Rpb24gKGZlYXR1cmUsIG1hcE1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHBvcHVwIHRvIHRoaXMgbWFya2VyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IEwucG9wdXAobWFwY29uZmlnLmZlYXR1cmVzLnBvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgcG9wdXAuc2V0Q29udGVudChtYXJrZXJWaWV3LmVsKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLmJpbmRQb3B1cChwb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNsaWNrIGhhbmRsZXIgZm9yIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBtYXJrZXIsIHdoaWNoIHdvdWxkIGNsb3NlIHRoZSBwb3B1cCBpZiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyB3ZXJlIGFscmVhZHkgb3BlblxuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyTW9kZWwudHJpZ2dlcignYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXBNYXJrZXIub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoYXQuY29uZmlnLm1hcC5ob3ZlclBvcHVwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlbnBvcHVwW3BvcHVwaWQobWFwTWFya2VyLmdldExhdExuZygpKV0pIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcE1hcmtlci5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGxpY2F0aW9uIG9iamVjdCwgbm90IGxlYWZsZXRqc1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJNb2RlbC5vbignYWN0aXZlJywgZnVuY3Rpb24oYXJ0aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVucG9wdXBbcG9wdXBpZChtYXBNYXJrZXIuZ2V0TGF0TG5nKCkpXSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwTWFya2VyLm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3BlbnBvcHVwW3BvcHVwaWQobWFwTWFya2VyLmdldExhdExuZygpKV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBvaW50VG9MYXllcjogZnVuY3Rpb24gKGZlYXR1cmUsIGxhdGxuZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTC5tYXJrZXIobGF0bG5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAgICAgICAgICAgTC5pY29uKG1hcGNvbmZpZy5mZWF0dXJlcy5pY29uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogICAgICAhIWZlYXR1cmUucHJvcGVydGllcy50ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICAgICAgICAgIChmZWF0dXJlLnByb3BlcnRpZXMubWFya2VybmFtZSB8fCAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAgICAgICAgbWFwY29uZmlnLmZlYXR1cmVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICByaXNlT25Ib3ZlcjogICAgbWFwY29uZmlnLmZlYXR1cmVzLnJpc2VPbkhvdmVyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBfLmV4dGVuZChNYXBWaWV3LnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBNYXBWaWV3O1xufSk7XG4iLCIvKmdsb2JhbCBkZWZpbmUqL1xuZGVmaW5lKCd2aWV3cy9tYXJrZXInLCBbXG4gICAgJ2pxdWVyeScsXG4gICAgJ3VuZGVyc2NvcmUnLFxuICAgICdiYWNrYm9uZScsXG4gICAgJ3RleHQhcGFydGlhbHMvbWFya2VyLmh0bWwnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsdG1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTWFya2VyVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUodG1wbCksXG4gICAgICAgIGVsOiAnJyxcbiAgICAgICAgcm91dGVyOiBudWxsLFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LnJvdXRlciA9IGFyZ3Mucm91dGVyO1xuICAgICAgICAgICAgLy8gd2hlbiBhIG1hcmtlciBpcyBtYWRlIGFjdGl2ZSAoZS5nLiwgYnkgc2VsZWN0aW9uXG4gICAgICAgICAgICAvLyBvZiBhIG1hcmsgaW4gdGhlIG1hcCksIHByb3BvZ2F0ZSB0aGUgZXZlbnQgdG8gdGhlXG4gICAgICAgICAgICAvLyBpc3N1ZSwgZm9yIHVwZGF0ZXMgZWxzZXdoZXJlIGluIHRoZSBhcHBsaWNhdGlvblxuICAgICAgICAgICAgdGhhdC5tb2RlbC5vbignYWN0aXZlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9ICdhcnRpY2xlLycgKyB0aGF0Lm1vZGVsLmFydGljbGUuZ2V0KCdhcnRpY2xlaWQnKTtcbiAgICAgICAgICAgICAgICB0aGF0LnJvdXRlci5uYXZpZ2F0ZSh1cmwsIHt0cmlnZ2VyOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGFydGljbGUgaXMgaGFzIGJlZW4gc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICB0aGF0Lm1vZGVsLmdldCgnaXNzdWUnKS50cmlnZ2VyKCdzZWxlY3QnLCB0aGF0Lm1vZGVsLmdldCgnYXJ0aWNsZScpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICwgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwoXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGFydGljbGVpZDogIHRoaXMubW9kZWwuYXJ0aWNsZS5nZXQoJ2FydGljbGVpZCcpLFxuICAgICAgICAgICAgICAgICAgICBnZW9qc29uOiAgICB0aGlzLm1vZGVsLmFydGljbGUuZ2VvanNvbigpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gTWFya2VyVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvbWVudScsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICd0ZXh0IXBhcnRpYWxzL21lbnUuaHRtbCdcbiAgICAsICdtaXhpbnMvZG9td2F0Y2hlcidcbiAgICAsICd2aWV3cy9hcnRpY2xlL21lbnUnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsbWVudVRtcGwsRE9NV2F0Y2hlcixBcnRpY2xlTWVudVZpZXcpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE1lbnVWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgICAgICB0ZW1wbGF0ZTogXy50ZW1wbGF0ZShtZW51VG1wbCksXG4gICAgICAgICAgaWQ6ICAgICAgJ21lbnUnXG4gICAgICAgICwgdGFnTmFtZTogJ2RpdidcbiAgICAgICAgLCBpc3N1ZTogICBudWxsXG4gICAgICAgICwgY29uZmlnOiAge31cbiAgICAgICAgLCBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGFyZ3MuY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5pc3N1ZSAgPSBhcmdzLmlzc3VlO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCQoJyMnICsgdGhhdC5pZCkuY2hpbGRyZW4oKS5sZW5ndGggIT09IDApIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuY29uZmlnLm1lbnU7XG4gICAgICAgICAgICAvLyByZW5kZXIgZWFjaCBpdGVtIGZyb20gdGhlIGNvbmZpZyBmaWxlIHRvIGEgPGxpPlxuICAgICAgICAgICAgLy8gbXVzdCBiZSBkb25lIGFzeW5jIGR1ZSB0byByZXRyaWV2YWwgb2YgcGFydGlhbCBmaWxlc1xuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgLy8gY2FjaGUgb2YgdGVtcGxhdGUgc3RyaW5nczogdXJsID0+IHRlbXBsXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVzID0ge307XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIF8uZWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzW2l0ZW0ucGFydGlhbF0gPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVudScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBpdGVtLmNvbGxlY3Rpb24gPT09IFwiY29sbGVjdGlvbnMvYXJ0aWNsZXNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnNbaXRlbS5jb2xsZWN0aW9uXSA9IHRoYXQuaXNzdWUuZ2V0KCdjb2xsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmhhbmRsZWQgY29sbGVjdGlvbiB0eXBlIHJlcXVlc3RlZDogXCIgKyBpdGVtLmNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfLmVhY2goXy5rZXlzKHRlbXBsYXRlcyksIGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICAgIHZhciAkZGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgICAgIHJlcXVpcmUoWyd0ZXh0IScgKyB1cmxdLCBmdW5jdGlvbih0ZW1wbCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXNbdXJsXSA9IF8udGVtcGxhdGUodGVtcGwpO1xuICAgICAgICAgICAgICAgICAgICAkZGVmLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKCRkZWYucHJvbWlzZSgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcmVuZGVyIHRoZSBtZW51IGFzIGEgPGRpdj5cbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gJyc7XG4gICAgICAgICAgICAkLndoZW4uYXBwbHkoJCwgcHJvbWlzZXMpLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGl0ZW0ucGFydGlhbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvcnRlciA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydEtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3BhZ2UnIHx8IGl0ZW0udHlwZSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gKHRlbXBsYXRlc1t1cmxdKShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdtZW51Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbnNbaXRlbS5jb2xsZWN0aW9uXS5tb2RlbHMuZm9yRWFjaChmdW5jdGlvbihtb2RlbCxqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhyZWYgICAgPSBpdGVtLml0ZW0uaHJlZi5yZXBsYWNlKCc6aScsIGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbXYgICAgID0gbmV3IEFydGljbGVNZW51Vmlldyh7bW9kZWw6bW9kZWx9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ICA9IGFtdi5yZW5kZXIoe2hyZWY6ICcjJyArIGhyZWZ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGxpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgYW4gPGxpPiBlbGVtZW50IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxpID0gJChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaSA9ICQocmVzdWx0LmlubmVySFRNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0Lm5vZGVOYW1lID09PSAnTEknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGkgPSAkKHJlc3VsdC5vdXRlckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBkb2N1bWVudCBlbGVtZW50IGZvciBzdWJtZW51OiAnICsgcmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCByZXN1bHQgdHlwZSBmb3Igc3VibWVudTogJyArIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRsaS5hdHRyKCdkYXRhLXNvcnQta2V5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVyWyRsaS5hdHRyKCdkYXRhLXNvcnQta2V5JyldID0gJGxpLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVyWyRsaS5maW5kKCdhJykudGV4dCgpXSA9ICRsaS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ydEtleXMgPSBfLmtleXMoc29ydGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRLZXlzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHNvcnRLZXlzLCBmdW5jdGlvbihrZXkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNvbnRlbnQgKz0gc29ydGVyW2tleV1bMF0ub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9ICh0ZW1wbGF0ZXNbdXJsXSkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBzdWJDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHRoYXQuaWQpLmVtcHR5KCkuYXBwZW5kKHRoYXQudGVtcGxhdGUoe2NvbnRlbnQ6IGNvbnRlbnR9KSk7XG4gICAgICAgICAgICAgICAgLy8gY29uZmlybSB0aGF0IHRoZSBtZW51IGhhcyBsb2FkZWRcbiAgICAgICAgICAgICAgICB2YXIgJGZhaWxEZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAgICAgJGZhaWxEZWYuZmFpbChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoYXQud2F0Y2hET00oNTAwLCAnIycgKyB0aGF0LmlkLCAkZmFpbERlZik7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBidWlsZCBtZW51LlwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoTWVudVZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIHJldHVybiBNZW51Vmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvcGFnZScsIFtcbiAgICAnanF1ZXJ5JywgXG4gICAgJ3VuZGVyc2NvcmUnLCBcbiAgICAnYmFja2JvbmUnLFxuICAgICdtaXhpbnMvZG9td2F0Y2hlcicsXG4gICAgJ3RleHQhcGFydGlhbHMvcGFnZS5odG1sJ1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLERPTVdhdGNoZXIscGFnZSkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgUGFnZVZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIGVsOiAnYm9keScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyICRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICAkZGVmLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGF0LmVsKS5hcHBlbmQocGFnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hET00oMTAwMCx0aGF0LmVsLCRkZWYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoUGFnZVZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIHJldHVybiBQYWdlVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lKi9cbmRlZmluZSgndmlld3MvcGFydGlhbCcsIFtcbiAgICAgICdqcXVlcnknXG4gICAgLCAndW5kZXJzY29yZSdcbiAgICAsICdiYWNrYm9uZSdcbiAgICAsICdtaXhpbnMvZG9td2F0Y2hlcidcbiAgICAsICdtaXhpbnMvYXN5bmNJbml0J1xuXSwgZnVuY3Rpb24oJCxfLEJhY2tib25lLERPTVdhdGNoZXIsQXN5bmNJbml0KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBQYXJ0aWFsVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgZWw6ICcnLFxuICAgICAgICBwYWdlOiAnJyxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0cykge1xuICAgICAgICAgICAgdmFyIHRoYXQgID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuZWwgICA9IG9wdHMuZWw7XG4gICAgICAgICAgICB0aGF0LiRkZWYgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICByZXF1aXJlKFsndGV4dCEnICsgb3B0cy5wYWdlXSwgZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICAgICAgICAgIHRoYXQucGFnZSA9IGh0bWw7XG4gICAgICAgICAgICAgICAgdGhhdC4kZGVmLnJlc29sdmUodGhhdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgJHdhdGNoRGVmID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICAgICAgdGhhdC5pbml0KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoYXQuZWwpLmFwcGVuZCh0aGF0LnBhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndhdGNoRE9NKDEwMDAsdGhhdC5lbCwkd2F0Y2hEZWYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXy5leHRlbmQoUGFydGlhbFZpZXcucHJvdG90eXBlLERPTVdhdGNoZXIpO1xuICAgIF8uZXh0ZW5kKFBhcnRpYWxWaWV3LnByb3RvdHlwZSxBc3luY0luaXQpO1xuICAgIHJldHVybiBQYXJ0aWFsVmlldztcbn0pO1xuIiwiLypnbG9iYWwgZGVmaW5lICovXG5kZWZpbmUoJ21vZGVscy9lcnJvci91c2VyJywgW1xuICAgICdiYWNrYm9uZSdcbl0sIGZ1bmN0aW9uKEJhY2tib25lKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBVc2VyRXJyb3JNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBcIm1zZ1wiIDogXCJcIlxuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLnNldCgnbXNnJywgYXJncy5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH0pOyAgICBcbiAgICByZXR1cm4gVXNlckVycm9yTW9kZWw7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG4vKlxuICogVGhpcyBpcyBtZWFudCB0byBiZSBleHRlbmRlZCBhcyBhbiBhYnN0cmFjdCBiYXNlIGNsYXNzIGZvciB0aGVcbiAqIHNlY3Rpb25zIG9mIGFuIGFydGljbGUuXG4gKi9cbmRlZmluZSgndmlld3MvYXJ0aWNsZS9tZW51JywgW1xuICAgICdqcXVlcnknLCBcbiAgICAndW5kZXJzY29yZScsIFxuICAgICdiYWNrYm9uZScsXG4gICAgJ21peGlucy94bWwyaHRtbCcsXG4gICAgJ3RleHQheHNsL2FydGljbGUtbWVudS54c2wnXG5dLCBmdW5jdGlvbigkLF8sQmFja2JvbmUsWE1MMkhUTUwsYW1Yc2wpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIEFydGljbGVNZW51VmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIC8vIHRoaXMgdmlldyBpcyBtZWFudCB0byBiZSBjYWxsZWQgb25seSBhZnRlciB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAgICAgICAgLy8gYXJ0aWNsZSBtb2RlbCBoYXMgYmVlbiBpbml0aWFsaXplZFxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaW5pdCgpLnN0YXRlKCkgIT09ICdyZXNvbHZlZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVuaW5pdGlhbGl6ZWQgYXJ0aWNsZSBpbiBBcnRpY2xlTWVudVZpZXdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtZW51aXRlbSA9IHRoYXQueG1sMmh0bWwodGhhdC5tb2RlbC5nZXQoJ3htbCcpLCBhbVhzbCwgcGFyYW1zKTtcbiAgICAgICAgICAgIHJldHVybiBtZW51aXRlbTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIF8uZXh0ZW5kKEFydGljbGVNZW51Vmlldy5wcm90b3R5cGUsWE1MMkhUTUwpO1xuICAgIHJldHVybiBBcnRpY2xlTWVudVZpZXc7XG59KTtcbiIsIi8qZ2xvYmFsIGRlZmluZSovXG5kZWZpbmUoJ3ZpZXdzL2Vycm9yL3VzZXInLCBbXG4gICAgJ2pxdWVyeScsIFxuICAgICdiYWNrYm9uZScsIFxuICAgICd0ZXh0IXBhcnRpYWxzL2Vycm9yL3VzZXIuaHRtbCdcbl0sIGZ1bmN0aW9uKCQsQmFja2JvbmUsdG1wbCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgVXNlckVycm9yVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgdGVtcGxhdGU6IF8udGVtcGxhdGUodG1wbCksXG4gICAgICAgIGVsOiAkKCcjZXJyb3JEaWFsb2cnKSxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgICB0aGlzLiRlbC5tb2RhbCh7a2V5Ym9hcmQ6IHRydWUsIHNob3c6IHRydWV9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFVzZXJFcnJvclZpZXc7XG59KTtcbiIsInJlcXVpcmUuY29uZmlnKHtcbiAgcGF0aHM6IHtcbiAgICB0ZXh0OiAgICAgICAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvcmVxdWlyZS10ZXh0LzIuMC4xMi90ZXh0Lm1pbicsXG4gICAganF1ZXJ5OiAgICAgJy8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4nLFxuICAgIGJvb3RzdHJhcDogICcvL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNC9qcy9ib290c3RyYXAubWluJyxcbiAgICBiYWNrYm9uZTogICAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvYmFja2JvbmUuanMvMS4xLjIvYmFja2JvbmUtbWluJyxcbiAgICB1bmRlcnNjb3JlOiAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdW5kZXJzY29yZS5qcy8xLjguMy91bmRlcnNjb3JlLW1pbicsXG4gICAgbGVhZmxldDogICAgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQvMC43LjMvbGVhZmxldCcsXG4gICAgc2xpZGVzanM6ICAgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3NsaWRlc2pzLzMuMC9qcXVlcnkuc2xpZGVzLm1pbicsXG4gICAgbGlnaHRib3g6ICAgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21hZ25pZmljLXBvcHVwLmpzLzEuMC4wL2pxdWVyeS5tYWduaWZpYy1wb3B1cC5taW4nLFxuICAgIHBhcnRpYWxzOiAgICcuLi9wYXJ0aWFscycsXG4gICAgeHNsOiAgICAgICAgJy4uL3NjcmlwdC94c2wnLFxuICAgIHBhZ2VzOiAgICAgICcuLi9wYWdlcydcbiAgfSxcbiAgc2hpbToge1xuICAgIGJvb3RzdHJhcDoge1xuICAgICAgZGVwczogWydqcXVlcnknXVxuICAgIH0sXG4gICAgYmFja2JvbmU6IHtcbiAgICAgICAgJ2RlcHMnOiBbJ2pxdWVyeScsICd1bmRlcnNjb3JlJ10sXG4gICAgICAgICdleHBvcnRzJzogJ0JhY2tib25lJ1xuICAgIH0sXG4gICAgdW5kZXJzY29yZToge1xuICAgICAgICAnZXhwb3J0cyc6ICdfJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICAnZGVwcyc6IFtdXG4gICAgfSxcbiAgICBzbGlkZXNqczoge1xuICAgICAgICBkZXBzOiBbJ2pxdWVyeSddXG4gICAgfSxcbiAgICBsaWdodGJveDoge1xuICAgICAgZGVwczogWydqcXVlcnknXVxuICAgIH1cbiAgfVxufSk7XG5yZXF1aXJlKFtcbiAgICAnanF1ZXJ5JyxcbiAgICAnbW9kZWxzL2Vycm9yL3VzZXInLFxuICAgICd2aWV3cy9lcnJvci91c2VyJyxcbiAgICAnbW9kZWxzL2FwcCcsXG4gICAgJ3ZpZXdzL2FwcCcsXG4gICAgJ2Jvb3RzdHJhcCdcbl0sIGZ1bmN0aW9uKCQsVXNlckVycm9yTW9kZWwsVXNlckVycm9yVmlldyxBcHBNb2RlbCxBcHBWaWV3KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBjb25maWdmaWxlID0gJCgnI21haW4nKS5hdHRyKCdkYXRhLWNvbmZpZycpO1xuICAgIGlmIChjb25maWdmaWxlKSB7XG4gICAgICAgICQuZ2V0SlNPTihjb25maWdmaWxlLCBmdW5jdGlvbihzaXRlY29uZmlnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBhcHAgPSBuZXcgQXBwVmlldyh7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiAobmV3IEFwcE1vZGVsKHtjb25maWc6IHNpdGVjb25maWd9KSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVc2VyRXJyb3JWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBuZXcgVXNlckVycm9yTW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oanF4aHIsIHRleHRTdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICBuZXcgVXNlckVycm9yVmlldyh7XG4gICAgICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogXCJGYWlsZWQgdG8gbG9hZCBzaXRlIGNvbmZpZyBmaWxlICdcIiArIGNvbmZpZ2ZpbGUgKyBcIicgXCIgKyBlcnJvclxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IFVzZXJFcnJvclZpZXcoe1xuICAgICAgICAgICAgbW9kZWw6IG5ldyBVc2VyRXJyb3JNb2RlbCh7XG4gICAgICAgICAgICAgICAgbXNnOiBcIk5vIGNvbmZpZ3VyYXRpb24gZmlsZW5hbWUgc3BlY2lmaWVkIGluIGhvbWUgcGFnZS5cIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=